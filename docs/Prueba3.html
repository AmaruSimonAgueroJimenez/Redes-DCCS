<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.29">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Amaru Simón Agüero Jiménez">

<title>Análisis Comparativo de Redes de Policonsumo</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Prueba3_files/libs/clipboard/clipboard.min.js"></script>
<script src="Prueba3_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="Prueba3_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="Prueba3_files/libs/quarto-html/popper.min.js"></script>
<script src="Prueba3_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Prueba3_files/libs/quarto-html/anchor.min.js"></script>
<link href="Prueba3_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Prueba3_files/libs/quarto-html/quarto-syntax-highlighting-0815c480559380816a4d1ea211a47e91.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Prueba3_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Prueba3_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Prueba3_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<style>html{ scroll-behavior: smooth; }</style>
<script src="Prueba3_files/libs/kePrint-0.0.1/kePrint.js"></script>

<link href="Prueba3_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">

<script src="Prueba3_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<link href="Prueba3_files/libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">

<script src="Prueba3_files/libs/vis-9.1.0/vis-network.min.js"></script>

<script src="Prueba3_files/libs/visNetwork-binding-2.1.2/visNetwork.js"></script>



</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
  <li><a href="#configuración-inicial" id="toc-configuración-inicial" class="nav-link active" data-scroll-target="#configuración-inicial"><span class="header-section-number">1</span> CONFIGURACIÓN INICIAL</a></li>
  <li><a href="#descripción-general-de-los-datos" id="toc-descripción-general-de-los-datos" class="nav-link" data-scroll-target="#descripción-general-de-los-datos"><span class="header-section-number">2</span> DESCRIPCIÓN GENERAL DE LOS DATOS</a></li>
  <li><a href="#patrones-de-consumo" id="toc-patrones-de-consumo" class="nav-link" data-scroll-target="#patrones-de-consumo"><span class="header-section-number">3</span> PATRONES DE CONSUMO</a>
  <ul>
  <li><a href="#distribución-de-sustancias-principales" id="toc-distribución-de-sustancias-principales" class="nav-link" data-scroll-target="#distribución-de-sustancias-principales"><span class="header-section-number">3.1</span> Distribución de Sustancias Principales</a></li>
  <li><a href="#patrones-de-policonsumo" id="toc-patrones-de-policonsumo" class="nav-link" data-scroll-target="#patrones-de-policonsumo"><span class="header-section-number">3.2</span> Patrones de Policonsumo</a></li>
  <li><a href="#visualización-de-policonsumo" id="toc-visualización-de-policonsumo" class="nav-link" data-scroll-target="#visualización-de-policonsumo"><span class="header-section-number">3.3</span> Visualización de Policonsumo</a></li>
  <li><a href="#tríadas-más-frecuentes" id="toc-tríadas-más-frecuentes" class="nav-link" data-scroll-target="#tríadas-más-frecuentes"><span class="header-section-number">3.4</span> Tríadas Más Frecuentes</a></li>
  <li><a href="#perfiles-de-pacientes" id="toc-perfiles-de-pacientes" class="nav-link" data-scroll-target="#perfiles-de-pacientes"><span class="header-section-number">3.5</span> Perfiles de Pacientes</a></li>
  </ul></li>
  <li><a href="#red-de-co-ocurrencia" id="toc-red-de-co-ocurrencia" class="nav-link" data-scroll-target="#red-de-co-ocurrencia"><span class="header-section-number">4</span> RED DE CO-OCURRENCIA</a>
  <ul>
  <li><a href="#construcción-de-la-red" id="toc-construcción-de-la-red" class="nav-link" data-scroll-target="#construcción-de-la-red"><span class="header-section-number">4.1</span> Construcción de la Red</a></li>
  <li><a href="#top-pares-de-co-ocurrencia" id="toc-top-pares-de-co-ocurrencia" class="nav-link" data-scroll-target="#top-pares-de-co-ocurrencia"><span class="header-section-number">4.2</span> Top Pares de Co-ocurrencia</a></li>
  <li><a href="#propiedades-estructurales" id="toc-propiedades-estructurales" class="nav-link" data-scroll-target="#propiedades-estructurales"><span class="header-section-number">4.3</span> Propiedades Estructurales</a></li>
  <li><a href="#métricas-de-centralidad" id="toc-métricas-de-centralidad" class="nav-link" data-scroll-target="#métricas-de-centralidad"><span class="header-section-number">4.4</span> Métricas de Centralidad</a></li>
  <li><a href="#comparación-de-centralidades" id="toc-comparación-de-centralidades" class="nav-link" data-scroll-target="#comparación-de-centralidades"><span class="header-section-number">4.5</span> Comparación de Centralidades</a></li>
  <li><a href="#análisis-de-comunidades" id="toc-análisis-de-comunidades" class="nav-link" data-scroll-target="#análisis-de-comunidades"><span class="header-section-number">4.6</span> Análisis de Comunidades</a></li>
  <li><a href="#medidas-de-centralización" id="toc-medidas-de-centralización" class="nav-link" data-scroll-target="#medidas-de-centralización"><span class="header-section-number">4.7</span> Medidas de Centralización</a></li>
  <li><a href="#análisis-de-similitud-jaccard" id="toc-análisis-de-similitud-jaccard" class="nav-link" data-scroll-target="#análisis-de-similitud-jaccard"><span class="header-section-number">4.8</span> Análisis de Similitud (Jaccard)</a></li>
  <li><a href="#distribución-de-grado" id="toc-distribución-de-grado" class="nav-link" data-scroll-target="#distribución-de-grado"><span class="header-section-number">4.9</span> Distribución de Grado</a></li>
  <li><a href="#análisis-de-k-core" id="toc-análisis-de-k-core" class="nav-link" data-scroll-target="#análisis-de-k-core"><span class="header-section-number">4.10</span> Análisis de K-Core</a></li>
  <li><a href="#visualización-estática" id="toc-visualización-estática" class="nav-link" data-scroll-target="#visualización-estática"><span class="header-section-number">4.11</span> Visualización Estática</a></li>
  <li><a href="#red-interactiva-co-ocurrencia" id="toc-red-interactiva-co-ocurrencia" class="nav-link" data-scroll-target="#red-interactiva-co-ocurrencia"><span class="header-section-number">4.12</span> Red Interactiva Co-ocurrencia</a></li>
  </ul></li>
  <li><a href="#red-bipartita-paciente-sustancia" id="toc-red-bipartita-paciente-sustancia" class="nav-link" data-scroll-target="#red-bipartita-paciente-sustancia"><span class="header-section-number">5</span> RED BIPARTITA PACIENTE-SUSTANCIA</a>
  <ul>
  <li><a href="#construcción-de-la-red-1" id="toc-construcción-de-la-red-1" class="nav-link" data-scroll-target="#construcción-de-la-red-1"><span class="header-section-number">5.1</span> Construcción de la Red</a></li>
  <li><a href="#propiedades-estructurales-1" id="toc-propiedades-estructurales-1" class="nav-link" data-scroll-target="#propiedades-estructurales-1"><span class="header-section-number">5.2</span> Propiedades Estructurales</a></li>
  <li><a href="#proyección-en-sustancias" id="toc-proyección-en-sustancias" class="nav-link" data-scroll-target="#proyección-en-sustancias"><span class="header-section-number">5.3</span> Proyección en Sustancias</a></li>
  <li><a href="#top-pares-en-proyección" id="toc-top-pares-en-proyección" class="nav-link" data-scroll-target="#top-pares-en-proyección"><span class="header-section-number">5.4</span> Top Pares en Proyección</a></li>
  <li><a href="#métricas-de-centralidad-proyección" id="toc-métricas-de-centralidad-proyección" class="nav-link" data-scroll-target="#métricas-de-centralidad-proyección"><span class="header-section-number">5.5</span> Métricas de Centralidad (Proyección)</a></li>
  <li><a href="#comparación-de-centralidades-1" id="toc-comparación-de-centralidades-1" class="nav-link" data-scroll-target="#comparación-de-centralidades-1"><span class="header-section-number">5.6</span> Comparación de Centralidades</a></li>
  <li><a href="#análisis-de-comunidades-proyección" id="toc-análisis-de-comunidades-proyección" class="nav-link" data-scroll-target="#análisis-de-comunidades-proyección"><span class="header-section-number">5.7</span> Análisis de Comunidades (Proyección)</a></li>
  <li><a href="#medidas-de-centralización-1" id="toc-medidas-de-centralización-1" class="nav-link" data-scroll-target="#medidas-de-centralización-1"><span class="header-section-number">5.8</span> Medidas de Centralización</a></li>
  <li><a href="#análisis-de-similitud-jaccard-1" id="toc-análisis-de-similitud-jaccard-1" class="nav-link" data-scroll-target="#análisis-de-similitud-jaccard-1"><span class="header-section-number">5.9</span> Análisis de Similitud (Jaccard)</a></li>
  <li><a href="#distribución-de-grado-1" id="toc-distribución-de-grado-1" class="nav-link" data-scroll-target="#distribución-de-grado-1"><span class="header-section-number">5.10</span> Distribución de Grado</a></li>
  <li><a href="#análisis-de-k-core-proyección" id="toc-análisis-de-k-core-proyección" class="nav-link" data-scroll-target="#análisis-de-k-core-proyección"><span class="header-section-number">5.11</span> Análisis de K-Core (Proyección)</a></li>
  <li><a href="#visualización-estática-bipartita" id="toc-visualización-estática-bipartita" class="nav-link" data-scroll-target="#visualización-estática-bipartita"><span class="header-section-number">5.12</span> Visualización Estática Bipartita</a></li>
  <li><a href="#red-interactiva-bipartita" id="toc-red-interactiva-bipartita" class="nav-link" data-scroll-target="#red-interactiva-bipartita"><span class="header-section-number">5.13</span> Red Interactiva Bipartita</a></li>
  <li><a href="#red-interactiva-de-proyección" id="toc-red-interactiva-de-proyección" class="nav-link" data-scroll-target="#red-interactiva-de-proyección"><span class="header-section-number">5.14</span> Red Interactiva de Proyección</a></li>
  </ul></li>
  <li><a href="#visualizaciones-adicionales" id="toc-visualizaciones-adicionales" class="nav-link" data-scroll-target="#visualizaciones-adicionales"><span class="header-section-number">6</span> VISUALIZACIONES ADICIONALES</a>
  <ul>
  <li><a href="#matriz-de-calor-de-co-ocurrencia" id="toc-matriz-de-calor-de-co-ocurrencia" class="nav-link" data-scroll-target="#matriz-de-calor-de-co-ocurrencia"><span class="header-section-number">6.1</span> Matriz de Calor de Co-ocurrencia</a></li>
  <li><a href="#dendrograma-de-comunidades" id="toc-dendrograma-de-comunidades" class="nav-link" data-scroll-target="#dendrograma-de-comunidades"><span class="header-section-number">6.2</span> Dendrograma de Comunidades</a></li>
  </ul></li>
  <li><a href="#análisis-comparativo" id="toc-análisis-comparativo" class="nav-link" data-scroll-target="#análisis-comparativo"><span class="header-section-number">7</span> ANÁLISIS COMPARATIVO</a>
  <ul>
  <li><a href="#comparación-de-propiedades-estructurales" id="toc-comparación-de-propiedades-estructurales" class="nav-link" data-scroll-target="#comparación-de-propiedades-estructurales"><span class="header-section-number">7.1</span> Comparación de Propiedades Estructurales</a></li>
  <li><a href="#comparación-de-centralización" id="toc-comparación-de-centralización" class="nav-link" data-scroll-target="#comparación-de-centralización"><span class="header-section-number">7.2</span> Comparación de Centralización</a></li>
  <li><a href="#top-sustancias-por-red" id="toc-top-sustancias-por-red" class="nav-link" data-scroll-target="#top-sustancias-por-red"><span class="header-section-number">7.3</span> Top Sustancias por Red</a></li>
  <li><a href="#correlación-entre-métricas" id="toc-correlación-entre-métricas" class="nav-link" data-scroll-target="#correlación-entre-métricas"><span class="header-section-number">7.4</span> Correlación entre Métricas</a></li>
  </ul></li>
  <li><a href="#aplicaciones-clínicas" id="toc-aplicaciones-clínicas" class="nav-link" data-scroll-target="#aplicaciones-clínicas"><span class="header-section-number">8</span> APLICACIONES CLÍNICAS</a>
  <ul>
  <li><a href="#identificación-de-pacientes-de-alto-riesgo" id="toc-identificación-de-pacientes-de-alto-riesgo" class="nav-link" data-scroll-target="#identificación-de-pacientes-de-alto-riesgo"><span class="header-section-number">8.1</span> Identificación de Pacientes de Alto Riesgo</a></li>
  <li><a href="#sustancias-gateway" id="toc-sustancias-gateway" class="nav-link" data-scroll-target="#sustancias-gateway"><span class="header-section-number">8.2</span> Sustancias Gateway</a></li>
  <li><a href="#recomendaciones-basadas-en-el-análisis" id="toc-recomendaciones-basadas-en-el-análisis" class="nav-link" data-scroll-target="#recomendaciones-basadas-en-el-análisis"><span class="header-section-number">8.3</span> Recomendaciones Basadas en el Análisis</a></li>
  </ul></li>
  <li><a href="#conclusiones" id="toc-conclusiones" class="nav-link" data-scroll-target="#conclusiones"><span class="header-section-number">9</span> CONCLUSIONES</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Análisis Comparativo de Redes de Policonsumo</h1>
<p class="subtitle lead">Red de Co-ocurrencia vs Red Bipartita</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autor/a</div>
    <div class="quarto-title-meta-contents">
             <p>Amaru Simón Agüero Jiménez <a href="mailto:aaguero@miaundes.cl" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0001-7336-1833" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Fecha de publicación</div>
    <div class="quarto-title-meta-contents">
      <p class="date">20 de agosto de 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="configuración-inicial" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> CONFIGURACIÓN INICIAL</h1>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar librerías necesarias</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidygraph)  <span class="co"># DEBE ir antes de ggraph</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(visNetwork)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrplot)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dendextend)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Configuración global</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar datos limpios</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">paste0</span>(<span class="fu">gsub</span>(<span class="st">"/docs"</span>, <span class="st">""</span>, <span class="fu">getwd</span>()), <span class="st">"/data/CONS_C1_2010_22_CLEAN.rds"</span>))</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Función de simplificación</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>simplify_substance_names <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">as.character</span>(x)</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  x[<span class="fu">str_detect</span>(x, <span class="st">"^Sin "</span>)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(x, <span class="st">"^Sedantes:.*"</span>, <span class="st">"Sedantes"</span>)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(x, <span class="st">"^Hipnóticos:.*"</span>, <span class="st">"Hipnóticos"</span>)</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(x, <span class="st">"^Inhalables:.*"</span>, <span class="st">"Inhalables"</span>)</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(x, <span class="st">"^Otros Opioides.*"</span>, <span class="st">"Opioides"</span>)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(x, <span class="st">"^Otros Estimulantes.*"</span>, <span class="st">"Estimulantes"</span>)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(x, <span class="st">"^Otros Alucinógenos.*"</span>, <span class="st">"Alucinógenos"</span>)</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(x, <span class="st">"^Éxtasis.*"</span>, <span class="st">"Éxtasis/MDMA"</span>)</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(x)</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Columnas de sustancias</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>cols_sustancias <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"sustancia_principal"</span>, <span class="st">"otras_sustancias_no1"</span>, </span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"otras_sustancias_no2"</span>, <span class="st">"otras_sustancias_no3"</span>)</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Aplicar limpieza</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>data_network <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(HASH_KEY, <span class="fu">all_of</span>(cols_sustancias)) <span class="sc">%&gt;%</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(cols_sustancias), simplify_substance_names)) <span class="sc">%&gt;%</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(sustancia_principal))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="descripción-general-de-los-datos" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> DESCRIPCIÓN GENERAL DE LOS DATOS</h1>
<div class="cell" data-tbl-cap="Características generales de la base de datos">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>info_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  Característica <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Total de registros"</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Registros con sustancia principal"</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Período de análisis"</span>,</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Variables de sustancias"</span>,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Número de sustancias únicas"</span>,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Promedio de sustancias por paciente"</span>,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Mediana de sustancias por paciente"</span>,</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Desviación estándar"</span>),</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">Valor =</span> <span class="fu">c</span>(<span class="fu">format</span>(<span class="fu">nrow</span>(data), <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>            <span class="fu">format</span>(<span class="fu">nrow</span>(data_network), <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">"2010-2022"</span>,</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>            <span class="fu">as.character</span>(<span class="fu">length</span>(cols_sustancias)),</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>            <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(<span class="fu">unlist</span>(data_network[cols_sustancias]), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">mean</span>(<span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(data_network[cols_sustancias]))), <span class="dv">2</span>),</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>            <span class="fu">median</span>(<span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(data_network[cols_sustancias]))),</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">sd</span>(<span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(data_network[cols_sustancias]))), <span class="dv">2</span>))</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>info_data <span class="sc">%&gt;%</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>, </span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Característica"</span>, <span class="st">"Valor"</span>),</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"r"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Características generales de la base de datos</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Característica</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Valor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Total de registros</td>
<td style="text-align: right;">223,061</td>
</tr>
<tr class="even">
<td style="text-align: left;">Registros con sustancia principal</td>
<td style="text-align: right;">223,055</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Período de análisis</td>
<td style="text-align: right;">2010-2022</td>
</tr>
<tr class="even">
<td style="text-align: left;">Variables de sustancias</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Número de sustancias únicas</td>
<td style="text-align: right;">22</td>
</tr>
<tr class="even">
<td style="text-align: left;">Promedio de sustancias por paciente</td>
<td style="text-align: right;">2.2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mediana de sustancias por paciente</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Desviación estándar</td>
<td style="text-align: right;">0.99</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="patrones-de-consumo" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> PATRONES DE CONSUMO</h1>
<section id="distribución-de-sustancias-principales" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="distribución-de-sustancias-principales"><span class="header-section-number">3.1</span> Distribución de Sustancias Principales</h2>
<div class="cell" data-tbl-cap="Top 15 sustancias principales consumidas">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>sust_principal <span class="ot">&lt;-</span> data_network <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(sustancia_principal, <span class="at">name =</span> <span class="st">"Frecuencia"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Frecuencia)) <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Porcentaje =</span> <span class="fu">round</span>(<span class="dv">100</span> <span class="sc">*</span> Frecuencia <span class="sc">/</span> <span class="fu">sum</span>(Frecuencia), <span class="dv">1</span>),</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">Acumulado =</span> <span class="fu">cumsum</span>(Porcentaje)) <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">15</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>sust_principal <span class="sc">%&gt;%</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Sustancia Principal"</span>, <span class="st">"Frecuencia"</span>, <span class="st">"Porcentaje (%)"</span>, <span class="st">"Acumulado (%)"</span>),</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">background =</span> <span class="st">"#f0f0f0"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Top 15 sustancias principales consumidas</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Sustancia Principal</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Frecuencia</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Porcentaje (%)</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Acumulado (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Pasta Base</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">84166</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">37.7</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">37.7</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Alcohol</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">78234</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">35.1</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">72.8</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Cocaína</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">42073</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">18.9</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">91.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">Marihuana</td>
<td style="text-align: right;">13797</td>
<td style="text-align: right;">6.2</td>
<td style="text-align: right;">97.9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sedantes</td>
<td style="text-align: right;">2606</td>
<td style="text-align: right;">1.2</td>
<td style="text-align: right;">99.1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Opioides</td>
<td style="text-align: right;">996</td>
<td style="text-align: right;">0.4</td>
<td style="text-align: right;">99.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Otros</td>
<td style="text-align: right;">270</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">99.6</td>
</tr>
<tr class="even">
<td style="text-align: left;">Inhalables</td>
<td style="text-align: right;">180</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">99.7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Hipnóticos</td>
<td style="text-align: right;">145</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">99.8</td>
</tr>
<tr class="even">
<td style="text-align: left;">Estimulantes</td>
<td style="text-align: right;">134</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">99.9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Anfetaminas</td>
<td style="text-align: right;">131</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">100.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Éxtasis/MDMA</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">100.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Alucinógenos</td>
<td style="text-align: right;">59</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">100.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Crack</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">100.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Metanfetaminas y Otros Derivados</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">100.0</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="patrones-de-policonsumo" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="patrones-de-policonsumo"><span class="header-section-number">3.2</span> Patrones de Policonsumo</h2>
<div class="cell" data-tbl-cap="Distribución del número de sustancias consumidas">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>combo_stats <span class="ot">&lt;-</span> data_network <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n_sustancias =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(cols_sustancias))))) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(n_sustancias) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Casos =</span> <span class="fu">n</span>(),</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Porcentaje =</span> <span class="fu">round</span>(<span class="dv">100</span> <span class="sc">*</span> <span class="fu">n</span>() <span class="sc">/</span> <span class="fu">nrow</span>(data_network), <span class="dv">2</span>)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(n_sustancias)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>combo_stats <span class="sc">%&gt;%</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Número de Sustancias"</span>, <span class="st">"Casos"</span>, <span class="st">"Porcentaje (%)"</span>),</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"c"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Distribución del número de sustancias consumidas</caption>
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Número de Sustancias</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Casos</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Porcentaje (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: right;">64772</td>
<td style="text-align: right;">29.04</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: right;">75960</td>
<td style="text-align: right;">34.05</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: right;">55509</td>
<td style="text-align: right;">24.89</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: right;">26814</td>
<td style="text-align: right;">12.02</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="visualización-de-policonsumo" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="visualización-de-policonsumo"><span class="header-section-number">3.3</span> Visualización de Policonsumo</h2>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combo_stats, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(n_sustancias), <span class="at">y =</span> Casos)) <span class="sc">+</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(Casos, <span class="st">"</span><span class="sc">\n</span><span class="st">("</span>, Porcentaje, <span class="st">"%)"</span>)),</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.3</span>, <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.1</span>)),</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> scales<span class="sc">::</span>comma) <span class="sc">+</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Número de Sustancias Consumidas"</span>,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Número de Casos"</span>,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Distribución del Policonsumo"</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">"N ="</span>, <span class="fu">format</span>(<span class="fu">nrow</span>(data_network), <span class="at">big.mark =</span> <span class="st">","</span>))) <span class="sc">+</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">color =</span> <span class="st">"gray40"</span>),</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Prueba3_files/figure-html/policonsumo-plot-1.png" class="img-fluid figure-img" width="768"></p>
<figcaption>Distribución del policonsumo de sustancias</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="tríadas-más-frecuentes" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="tríadas-más-frecuentes"><span class="header-section-number">3.4</span> Tríadas Más Frecuentes</h2>
<div class="cell" data-tbl-cap="Top 10 tríadas de sustancias más frecuentes">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>identify_triads <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(sustancia_principal), </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>           <span class="sc">!</span><span class="fu">is.na</span>(otras_sustancias_no1), </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>           <span class="sc">!</span><span class="fu">is.na</span>(otras_sustancias_no2)) <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">triad =</span> <span class="fu">paste</span>(<span class="fu">sort</span>(<span class="fu">c</span>(sustancia_principal, </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>                                otras_sustancias_no1, </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>                                otras_sustancias_no2)), </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>                         <span class="at">collapse =</span> <span class="st">" + "</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(triad, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Porcentaje =</span> <span class="fu">round</span>(<span class="dv">100</span> <span class="sc">*</span> n <span class="sc">/</span> <span class="fu">nrow</span>(df), <span class="dv">2</span>))</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>triads <span class="ot">&lt;-</span> <span class="fu">identify_triads</span>(data_network) <span class="sc">%&gt;%</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>triads <span class="sc">%&gt;%</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(triad, n, Porcentaje) <span class="sc">%&gt;%</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Tríada de Sustancias"</span>, <span class="st">"Frecuencia"</span>, <span class="st">"Porcentaje (%)"</span>),</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">background =</span> <span class="st">"#f0f0f0"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Top 10 tríadas de sustancias más frecuentes</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Tríada de Sustancias</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Frecuencia</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Porcentaje (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Alcohol + Marihuana + Pasta Base</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">27314</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">12.25</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Alcohol + Cocaína + Marihuana</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">20417</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">9.15</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Alcohol + Cocaína + Pasta Base</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">14931</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">6.69</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cocaína + Marihuana + Pasta Base</td>
<td style="text-align: right;">10419</td>
<td style="text-align: right;">4.67</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Alcohol + Cocaína + Sedantes</td>
<td style="text-align: right;">950</td>
<td style="text-align: right;">0.43</td>
</tr>
<tr class="even">
<td style="text-align: left;">Alcohol + Marihuana + Sedantes</td>
<td style="text-align: right;">873</td>
<td style="text-align: right;">0.39</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Alcohol + Pasta Base + Sedantes</td>
<td style="text-align: right;">554</td>
<td style="text-align: right;">0.25</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cocaína + Marihuana + Sedantes</td>
<td style="text-align: right;">441</td>
<td style="text-align: right;">0.20</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Alcohol + Otros + Pasta Base</td>
<td style="text-align: right;">353</td>
<td style="text-align: right;">0.16</td>
</tr>
<tr class="even">
<td style="text-align: left;">Marihuana + Pasta Base + Sedantes</td>
<td style="text-align: right;">353</td>
<td style="text-align: right;">0.16</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="perfiles-de-pacientes" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="perfiles-de-pacientes"><span class="header-section-number">3.5</span> Perfiles de Pacientes</h2>
<div class="cell" data-tbl-cap="Perfiles de pacientes según nivel de consumo">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>patient_profiles <span class="ot">&lt;-</span> data_network <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n_sustancias =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(cols_sustancias))))) <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">categoria =</span> <span class="fu">case_when</span>(</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>      n_sustancias <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Monoconsumo"</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>      n_sustancias <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Consumo dual"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>      n_sustancias <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"Policonsumo moderado"</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>      n_sustancias <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"Policonsumo severo"</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>profile_stats <span class="ot">&lt;-</span> patient_profiles <span class="sc">%&gt;%</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(categoria) <span class="sc">%&gt;%</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Pacientes =</span> <span class="fu">n</span>(),</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">Porcentaje =</span> <span class="fu">round</span>(<span class="dv">100</span> <span class="sc">*</span> <span class="fu">n</span>() <span class="sc">/</span> <span class="fu">nrow</span>(patient_profiles), <span class="dv">1</span>),</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sustancias_Promedio =</span> <span class="fu">round</span>(<span class="fu">mean</span>(n_sustancias), <span class="dv">1</span>),</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sustancias_Min =</span> <span class="fu">min</span>(n_sustancias),</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sustancias_Max =</span> <span class="fu">max</span>(n_sustancias)</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Sustancias_Promedio)</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>profile_stats <span class="sc">%&gt;%</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Categoría"</span>, <span class="st">"Pacientes"</span>, <span class="st">"Porcentaje (%)"</span>, </span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Sustancias Promedio"</span>, <span class="st">"Mínimo"</span>, <span class="st">"Máximo"</span>),</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="fu">rep</span>(<span class="st">"r"</span>, <span class="dv">5</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Perfiles de pacientes según nivel de consumo</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Categoría</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Pacientes</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Porcentaje (%)</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Sustancias Promedio</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Mínimo</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Máximo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Monoconsumo</td>
<td style="text-align: right;">64772</td>
<td style="text-align: right;">29.0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">Consumo dual</td>
<td style="text-align: right;">75960</td>
<td style="text-align: right;">34.1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Policonsumo moderado</td>
<td style="text-align: right;">55509</td>
<td style="text-align: right;">24.9</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">Policonsumo severo</td>
<td style="text-align: right;">26814</td>
<td style="text-align: right;">12.0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">4</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="red-de-co-ocurrencia" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> RED DE CO-OCURRENCIA</h1>
<section id="construcción-de-la-red" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="construcción-de-la-red"><span class="header-section-number">4.1</span> Construcción de la Red</h2>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear matriz de co-ocurrencia</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>create_cooccurrence_matrix <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  all_substances <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">unlist</span>(df[cols_sustancias]))</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  all_substances <span class="ot">&lt;-</span> all_substances[<span class="sc">!</span><span class="fu">is.na</span>(all_substances)]</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  all_substances <span class="ot">&lt;-</span> <span class="fu">sort</span>(all_substances)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  n_sust <span class="ot">&lt;-</span> <span class="fu">length</span>(all_substances)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  co_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> n_sust, <span class="at">ncol =</span> n_sust,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">dimnames =</span> <span class="fu">list</span>(all_substances, all_substances))</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(df)) {</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    row_substances <span class="ot">&lt;-</span> <span class="fu">unlist</span>(df[i, cols_sustancias])</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    row_substances <span class="ot">&lt;-</span> row_substances[<span class="sc">!</span><span class="fu">is.na</span>(row_substances)]</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">length</span>(row_substances) <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>(<span class="fu">length</span>(row_substances)<span class="sc">-</span><span class="dv">1</span>)) {</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (k <span class="cf">in</span> (j<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span><span class="fu">length</span>(row_substances)) {</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>          sust1 <span class="ot">&lt;-</span> row_substances[j]</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>          sust2 <span class="ot">&lt;-</span> row_substances[k]</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>          co_matrix[sust1, sust2] <span class="ot">&lt;-</span> co_matrix[sust1, sust2] <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>          co_matrix[sust2, sust1] <span class="ot">&lt;-</span> co_matrix[sust2, sust1] <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(co_matrix)</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>co_matrix <span class="ot">&lt;-</span> <span class="fu">create_cooccurrence_matrix</span>(data_network)</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear grafo</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>g_full_co <span class="ot">&lt;-</span> <span class="fu">graph_from_adjacency_matrix</span>(</span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>  co_matrix,</span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">mode =</span> <span class="st">"undirected"</span>,</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">weighted =</span> <span class="cn">TRUE</span>,</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">diag =</span> <span class="cn">FALSE</span></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Aplicar umbral para visualización</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>min_weight <span class="ot">&lt;-</span> <span class="dv">500</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>g_co <span class="ot">&lt;-</span> <span class="fu">delete_edges</span>(g_full_co, <span class="fu">E</span>(g_full_co)[weight <span class="sc">&lt;</span> min_weight])</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>g_co <span class="ot">&lt;-</span> <span class="fu">delete_vertices</span>(g_co, <span class="fu">degree</span>(g_co) <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Detectar comunidades</span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>communities_co <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(g_co)</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g_co)<span class="sc">$</span>community <span class="ot">&lt;-</span> <span class="fu">membership</span>(communities_co)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="top-pares-de-co-ocurrencia" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="top-pares-de-co-ocurrencia"><span class="header-section-number">4.2</span> Top Pares de Co-ocurrencia</h2>
<div class="cell" data-tbl-cap="Top 15 pares de sustancias con mayor co-ocurrencia">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraer pares más frecuentes</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>upper_tri <span class="ot">&lt;-</span> <span class="fu">upper.tri</span>(co_matrix)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>pairs_df <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">row =</span> <span class="fu">rownames</span>(co_matrix), </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">col =</span> <span class="fu">colnames</span>(co_matrix), </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>pairs_df<span class="sc">$</span>value <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(co_matrix)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>top_pairs_co <span class="ot">&lt;-</span> pairs_df <span class="sc">%&gt;%</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">as.vector</span>(upper_tri)) <span class="sc">%&gt;%</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">15</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Par =</span> <span class="fu">paste</span>(row, <span class="st">"↔"</span>, col)) <span class="sc">%&gt;%</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Par, value) <span class="sc">%&gt;%</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Coocurrencias =</span> value)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>top_pairs_co <span class="sc">%&gt;%</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Par de Sustancias"</span>, <span class="st">"Co-ocurrencias"</span>),</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"r"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">width =</span> <span class="st">"300px"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">2</span>, <span class="at">width =</span> <span class="st">"150px"</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Top 15 pares de sustancias con mayor co-ocurrencia</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Par de Sustancias</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Co-ocurrencias</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 300px;">Alcohol ↔︎ Marihuana</td>
<td style="text-align: right; width: 150px; font-weight: bold;">74757</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 300px;">Alcohol ↔︎ Pasta Base</td>
<td style="text-align: right; width: 150px; font-weight: bold;">71783</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 300px;">Alcohol ↔︎ Cocaína</td>
<td style="text-align: right; width: 150px; font-weight: bold;">69780</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 300px;">Marihuana ↔︎ Pasta Base</td>
<td style="text-align: right; width: 150px; font-weight: bold;">55791</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 300px;">Cocaína ↔︎ Marihuana</td>
<td style="text-align: right; width: 150px; font-weight: bold;">47950</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 300px;">Cocaína ↔︎ Pasta Base</td>
<td style="text-align: right; width: 150px; font-weight: bold;">37270</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 300px;">Alcohol ↔︎ Sedantes</td>
<td style="text-align: right; width: 150px; font-weight: bold;">7551</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 300px;">Marihuana ↔︎ Sedantes</td>
<td style="text-align: right; width: 150px; font-weight: bold;">3886</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 300px;">Cocaína ↔︎ Sedantes</td>
<td style="text-align: right; width: 150px; font-weight: bold;">3472</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 300px;">Alcohol ↔︎ Otros</td>
<td style="text-align: right; width: 150px; font-weight: bold;">3165</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 300px;">Pasta Base ↔︎ Sedantes</td>
<td style="text-align: right; width: 150px; font-weight: bold;">2608</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 300px;">Marihuana ↔︎ Otros</td>
<td style="text-align: right; width: 150px; font-weight: bold;">1639</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 300px;">Otros ↔︎ Pasta Base</td>
<td style="text-align: right; width: 150px; font-weight: bold;">1412</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 300px;">Cocaína ↔︎ Otros</td>
<td style="text-align: right; width: 150px; font-weight: bold;">1286</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 300px;">Alcohol ↔︎ Inhalables</td>
<td style="text-align: right; width: 150px; font-weight: bold;">1182</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="propiedades-estructurales" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="propiedades-estructurales"><span class="header-section-number">4.3</span> Propiedades Estructurales</h2>
<div class="cell" data-tbl-cap="Propiedades estructurales de la red de co-ocurrencia">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>network_props_co <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Propiedad =</span> <span class="fu">c</span>(<span class="st">"Número de nodos"</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Número de enlaces"</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Densidad de la red"</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Diámetro"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Distancia media"</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Coeficiente de clustering global"</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Coeficiente de clustering promedio"</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Transitividad"</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Asortatividad por grado"</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Componentes conectados"</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Tamaño del componente gigante"</span>,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Comunidades detectadas"</span>,</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Modularidad"</span>),</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">Valor =</span> <span class="fu">c</span>(<span class="fu">vcount</span>(g_co),</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>            <span class="fu">ecount</span>(g_co),</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">edge_density</span>(g_co), <span class="dv">4</span>),</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>            <span class="fu">diameter</span>(g_co, <span class="at">weights =</span> <span class="cn">NA</span>),</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">mean_distance</span>(g_co, <span class="at">weights =</span> <span class="cn">NA</span>), <span class="dv">2</span>),</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">transitivity</span>(g_co, <span class="at">type =</span> <span class="st">"global"</span>), <span class="dv">3</span>),</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">transitivity</span>(g_co, <span class="at">type =</span> <span class="st">"average"</span>), <span class="dv">3</span>),</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">transitivity</span>(g_co), <span class="dv">3</span>),</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">assortativity_degree</span>(g_co), <span class="dv">3</span>),</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>            <span class="fu">components</span>(g_co)<span class="sc">$</span>no,</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>            <span class="fu">max</span>(<span class="fu">components</span>(g_co)<span class="sc">$</span>csize),</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>            <span class="fu">length</span>(communities_co),</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">modularity</span>(communities_co), <span class="dv">3</span>))</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>network_props_co <span class="sc">%&gt;%</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Propiedad de la Red"</span>, <span class="st">"Valor"</span>),</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"r"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Propiedades estructurales de la red de co-ocurrencia</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Propiedad de la Red</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Valor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Número de nodos</td>
<td style="text-align: right;">12.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Número de enlaces</td>
<td style="text-align: right;">29.0000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Densidad de la red</td>
<td style="text-align: right;">0.4394</td>
</tr>
<tr class="even">
<td style="text-align: left;">Diámetro</td>
<td style="text-align: right;">3.0000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Distancia media</td>
<td style="text-align: right;">1.5900</td>
</tr>
<tr class="even">
<td style="text-align: left;">Coeficiente de clustering global</td>
<td style="text-align: right;">0.5780</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Coeficiente de clustering promedio</td>
<td style="text-align: right;">0.8090</td>
</tr>
<tr class="even">
<td style="text-align: left;">Transitividad</td>
<td style="text-align: right;">0.5780</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Asortatividad por grado</td>
<td style="text-align: right;">-0.6500</td>
</tr>
<tr class="even">
<td style="text-align: left;">Componentes conectados</td>
<td style="text-align: right;">1.0000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Tamaño del componente gigante</td>
<td style="text-align: right;">12.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Comunidades detectadas</td>
<td style="text-align: right;">1.0000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Modularidad</td>
<td style="text-align: right;">0.0000</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="métricas-de-centralidad" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="métricas-de-centralidad"><span class="header-section-number">4.4</span> Métricas de Centralidad</h2>
<div class="cell" data-tbl-cap="Top 10 sustancias por centralidad en red de co-ocurrencia">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>centrality_metrics_co <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Sustancia =</span> <span class="fu">V</span>(g_co)<span class="sc">$</span>name,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Grado =</span> <span class="fu">degree</span>(g_co),</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Grado_Norm =</span> <span class="fu">round</span>(<span class="fu">degree</span>(g_co, <span class="at">normalized =</span> <span class="cn">TRUE</span>), <span class="dv">3</span>),</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Fuerza =</span> <span class="fu">round</span>(<span class="fu">strength</span>(g_co), <span class="dv">0</span>),</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  Intermediación <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">betweenness</span>(g_co), <span class="dv">1</span>),</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  Intermediación<span class="at">_Norm =</span> <span class="fu">round</span>(<span class="fu">betweenness</span>(g_co, <span class="at">normalized =</span> <span class="cn">TRUE</span>), <span class="dv">3</span>),</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  Cercanía <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">closeness</span>(g_co), <span class="dv">4</span>),</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  Cercanía<span class="at">_Norm =</span> <span class="fu">round</span>(<span class="fu">closeness</span>(g_co, <span class="at">normalized =</span> <span class="cn">TRUE</span>), <span class="dv">3</span>),</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">Eigenvector =</span> <span class="fu">round</span>(<span class="fu">eigen_centrality</span>(g_co)<span class="sc">$</span>vector, <span class="dv">3</span>),</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">PageRank =</span> <span class="fu">round</span>(<span class="fu">page_rank</span>(g_co)<span class="sc">$</span>vector, <span class="dv">4</span>),</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">Hub_Score =</span> <span class="fu">round</span>(<span class="fu">hub_score</span>(g_co)<span class="sc">$</span>vector, <span class="dv">3</span>),</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">Authority_Score =</span> <span class="fu">round</span>(<span class="fu">authority_score</span>(g_co)<span class="sc">$</span>vector, <span class="dv">3</span>),</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">Comunidad =</span> <span class="fu">V</span>(g_co)<span class="sc">$</span>community</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Fuerza))</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>centrality_metrics_co <span class="sc">%&gt;%</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Sustancia, Grado, Fuerza, Intermediación_Norm, </span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>         Cercanía_Norm, Eigenvector, PageRank, Hub_Score, Comunidad) <span class="sc">%&gt;%</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Sustancia"</span>, <span class="st">"Grado"</span>, <span class="st">"Fuerza"</span>, <span class="st">"Intermediación"</span>, </span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Cercanía"</span>, <span class="st">"Eigenvector"</span>, <span class="st">"PageRank"</span>, <span class="st">"Hub"</span>, <span class="st">"Comunidad"</span>),</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="fu">rep</span>(<span class="st">"r"</span>, <span class="dv">8</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Top 10 sustancias por centralidad en red de co-ocurrencia</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Sustancia</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Grado</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Fuerza</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Intermediación</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cercanía</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Eigenvector</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">PageRank</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Hub</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Comunidad</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Alcohol</td>
<td style="text-align: left;">Alcohol</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">230800</td>
<td style="text-align: right;">0.182</td>
<td style="text-align: right;">0.001</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.2659</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Marihuana</td>
<td style="text-align: left;">Marihuana</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">187732</td>
<td style="text-align: right;">0.218</td>
<td style="text-align: right;">0.001</td>
<td style="text-align: right;">0.879</td>
<td style="text-align: right;">0.2227</td>
<td style="text-align: right;">0.879</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Pasta Base</td>
<td style="text-align: left;">Pasta Base</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">170589</td>
<td style="text-align: right;">0.109</td>
<td style="text-align: right;">0.001</td>
<td style="text-align: right;">0.831</td>
<td style="text-align: right;">0.1887</td>
<td style="text-align: right;">0.831</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cocaína</td>
<td style="text-align: left;">Cocaína</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">162353</td>
<td style="text-align: right;">0.273</td>
<td style="text-align: right;">0.001</td>
<td style="text-align: right;">0.790</td>
<td style="text-align: right;">0.1867</td>
<td style="text-align: right;">0.790</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sedantes</td>
<td style="text-align: left;">Sedantes</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">17517</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.088</td>
<td style="text-align: right;">0.0297</td>
<td style="text-align: right;">0.088</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Otros</td>
<td style="text-align: left;">Otros</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">7502</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.037</td>
<td style="text-align: right;">0.0198</td>
<td style="text-align: right;">0.037</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Inhalables</td>
<td style="text-align: left;">Inhalables</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3817</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.001</td>
<td style="text-align: right;">0.019</td>
<td style="text-align: right;">0.0162</td>
<td style="text-align: right;">0.019</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Anfetaminas</td>
<td style="text-align: left;">Anfetaminas</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3594</td>
<td style="text-align: right;">0.164</td>
<td style="text-align: right;">0.001</td>
<td style="text-align: right;">0.018</td>
<td style="text-align: right;">0.0160</td>
<td style="text-align: right;">0.018</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Opioides</td>
<td style="text-align: left;">Opioides</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">2041</td>
<td style="text-align: right;">0.182</td>
<td style="text-align: right;">0.001</td>
<td style="text-align: right;">0.010</td>
<td style="text-align: right;">0.0145</td>
<td style="text-align: right;">0.010</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Éxtasis/MDMA</td>
<td style="text-align: left;">Éxtasis/MDMA</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1113</td>
<td style="text-align: right;">0.036</td>
<td style="text-align: right;">0.001</td>
<td style="text-align: right;">0.005</td>
<td style="text-align: right;">0.0136</td>
<td style="text-align: right;">0.005</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="comparación-de-centralidades" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="comparación-de-centralidades"><span class="header-section-number">4.5</span> Comparación de Centralidades</h2>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>centrality_long_co <span class="ot">&lt;-</span> centrality_metrics_co <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Sustancia, Grado_Norm, Intermediación_Norm, </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>         Cercanía_Norm, Eigenvector) <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>Sustancia,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"Métrica"</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"Valor"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(Métrica <span class="ot">=</span> <span class="fu">str_replace</span>(Métrica, <span class="st">"_Norm"</span>, <span class="st">""</span>),</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>         Métrica <span class="ot">=</span> <span class="fu">factor</span>(Métrica, </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>                         <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Grado"</span>, <span class="st">"Intermediación"</span>, </span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">"Cercanía"</span>, <span class="st">"Eigenvector"</span>)))</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(centrality_long_co, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Sustancia, Valor), </span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>                            <span class="at">y =</span> Valor, </span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>                            <span class="at">fill =</span> Métrica)) <span class="sc">+</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>) <span class="sc">+</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Valor Normalizado"</span>,</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Comparación de Métricas de Centralidad - Red Co-ocurrencia"</span>,</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Top 10 sustancias por fuerza de conexiones"</span>) <span class="sc">+</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Prueba3_files/figure-html/cooccurrence-centrality-comparison-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption>Comparación de diferentes métricas de centralidad - Red Co-ocurrencia</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="análisis-de-comunidades" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="análisis-de-comunidades"><span class="header-section-number">4.6</span> Análisis de Comunidades</h2>
<div class="cell" data-tbl-cap="Composición de las comunidades detectadas - Red Co-ocurrencia">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>community_analysis_co <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Sustancia =</span> <span class="fu">V</span>(g_co)<span class="sc">$</span>name,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Comunidad =</span> <span class="fu">V</span>(g_co)<span class="sc">$</span>community,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Fuerza =</span> <span class="fu">strength</span>(g_co)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Comunidad) <span class="sc">%&gt;%</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    Tamaño <span class="ot">=</span> <span class="fu">n</span>(),</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sustancias =</span> <span class="fu">paste</span>(<span class="fu">head</span>(Sustancia[<span class="fu">order</span>(Fuerza, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)], <span class="dv">4</span>), </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>                       <span class="at">collapse =</span> <span class="st">", "</span>),</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">Fuerza_Total =</span> <span class="fu">sum</span>(Fuerza),</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">Fuerza_Media =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Fuerza), <span class="dv">0</span>),</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">Fuerza_Max =</span> <span class="fu">max</span>(Fuerza)</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Tamaño))</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>community_analysis_co <span class="sc">%&gt;%</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Comunidad"</span>, <span class="st">"Tamaño"</span>, <span class="st">"Principales Sustancias"</span>, </span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Fuerza Total"</span>, <span class="st">"Fuerza Media"</span>, <span class="st">"Fuerza Máx"</span>),</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"c"</span>, <span class="st">"r"</span>, <span class="st">"l"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">3</span>, <span class="at">width =</span> <span class="st">"350px"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Composición de las comunidades detectadas - Red Co-ocurrencia</caption>
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Comunidad</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Tamaño</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Principales Sustancias</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Fuerza Total</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Fuerza Media</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Fuerza Máx</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: right;">12</td>
<td style="text-align: left; width: 350px;">Alcohol, Marihuana, Pasta Base, Cocaína</td>
<td style="text-align: right;">788286</td>
<td style="text-align: right;">65690</td>
<td style="text-align: right;">230800</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="medidas-de-centralización" class="level2" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="medidas-de-centralización"><span class="header-section-number">4.7</span> Medidas de Centralización</h2>
<div class="cell" data-tbl-cap="Medidas de centralización de la red de co-ocurrencia">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>centralization_co <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Medida =</span> <span class="fu">c</span>(<span class="st">"Centralización de Grado"</span>,</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Centralización de Cercanía"</span>,</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Centralización de Intermediación"</span>,</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Centralización de Eigenvector"</span>),</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Valor =</span> <span class="fu">c</span>(<span class="fu">round</span>(<span class="fu">centr_degree</span>(g_co)<span class="sc">$</span>centralization, <span class="dv">4</span>),</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">centr_clo</span>(g_co)<span class="sc">$</span>centralization, <span class="dv">4</span>),</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">centr_betw</span>(g_co)<span class="sc">$</span>centralization, <span class="dv">4</span>),</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">centr_eigen</span>(g_co)<span class="sc">$</span>centralization, <span class="dv">4</span>)),</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  Interpretación <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Concentración de conexiones directas"</span>,</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Concentración de accesibilidad"</span>,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Concentración de control de flujo"</span>,</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Concentración de influencia"</span>)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>centralization_co <span class="sc">%&gt;%</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"r"</span>, <span class="st">"l"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Medidas de centralización de la red de co-ocurrencia</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Medida</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Valor</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Interpretación</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Centralización de Grado</td>
<td style="text-align: right;">0.4697</td>
<td style="text-align: left;">Concentración de conexiones directas</td>
</tr>
<tr class="even">
<td style="text-align: left;">Centralización de Cercanía</td>
<td style="text-align: right;">0.5980</td>
<td style="text-align: left;">Concentración de accesibilidad</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Centralización de Intermediación</td>
<td style="text-align: right;">0.2760</td>
<td style="text-align: left;">Concentración de control de flujo</td>
</tr>
<tr class="even">
<td style="text-align: left;">Centralización de Eigenvector</td>
<td style="text-align: right;">0.4643</td>
<td style="text-align: left;">Concentración de influencia</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="análisis-de-similitud-jaccard" class="level2" data-number="4.8">
<h2 data-number="4.8" class="anchored" data-anchor-id="análisis-de-similitud-jaccard"><span class="header-section-number">4.8</span> Análisis de Similitud (Jaccard)</h2>
<div class="cell" data-tbl-cap="Matriz de similitud de Jaccard entre sustancias principales (red co-ocurrencia)">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>calculate_jaccard_network <span class="ot">&lt;-</span> <span class="cf">function</span>(g, <span class="at">top_n =</span> <span class="dv">10</span>) {</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  nodes <span class="ot">&lt;-</span> <span class="fu">V</span>(g)<span class="sc">$</span>name</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  n_nodes <span class="ot">&lt;-</span> <span class="fu">min</span>(top_n, <span class="fu">length</span>(nodes))</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  top_nodes <span class="ot">&lt;-</span> <span class="fu">head</span>(nodes[<span class="fu">order</span>(<span class="fu">strength</span>(g), <span class="at">decreasing =</span> <span class="cn">TRUE</span>)], n_nodes)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  jaccard_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, n_nodes, n_nodes,</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>                          <span class="at">dimnames =</span> <span class="fu">list</span>(top_nodes, top_nodes))</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>(n_nodes<span class="dv">-1</span>)) {</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (j <span class="cf">in</span> (i<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span>n_nodes) {</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>      neighbors_i <span class="ot">&lt;-</span> <span class="fu">neighbors</span>(g, top_nodes[i])<span class="sc">$</span>name</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>      neighbors_j <span class="ot">&lt;-</span> <span class="fu">neighbors</span>(g, top_nodes[j])<span class="sc">$</span>name</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="fu">length</span>(neighbors_i) <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">||</span> <span class="fu">length</span>(neighbors_j) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>        intersection <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">intersect</span>(neighbors_i, neighbors_j))</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>        union <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">union</span>(neighbors_i, neighbors_j))</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (union <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>          jaccard <span class="ot">&lt;-</span> intersection <span class="sc">/</span> union</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>          jaccard_matrix[i, j] <span class="ot">&lt;-</span> jaccard</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>          jaccard_matrix[j, i] <span class="ot">&lt;-</span> jaccard</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">diag</span>(jaccard_matrix) <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(jaccard_matrix)</span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>jaccard_co <span class="ot">&lt;-</span> <span class="fu">calculate_jaccard_network</span>(g_co, <span class="dv">10</span>)</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>jaccard_co <span class="sc">%&gt;%</span></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>,</span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>                <span class="at">font_size =</span> <span class="dv">10</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Matriz de similitud de Jaccard entre sustancias principales (red co-ocurrencia)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Alcohol</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Marihuana</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Pasta Base</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cocaína</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Sedantes</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Otros</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Inhalables</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Anfetaminas</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Opioides</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Éxtasis/MDMA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Alcohol</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.583</td>
<td style="text-align: right;">0.600</td>
<td style="text-align: right;">0.636</td>
<td style="text-align: right;">0.300</td>
<td style="text-align: right;">0.300</td>
<td style="text-align: right;">0.300</td>
<td style="text-align: right;">0.300</td>
<td style="text-align: right;">0.200</td>
<td style="text-align: right;">0.222</td>
</tr>
<tr class="even">
<td style="text-align: left;">Marihuana</td>
<td style="text-align: right;">0.583</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.545</td>
<td style="text-align: right;">0.727</td>
<td style="text-align: right;">0.273</td>
<td style="text-align: right;">0.273</td>
<td style="text-align: right;">0.273</td>
<td style="text-align: right;">0.273</td>
<td style="text-align: right;">0.182</td>
<td style="text-align: right;">0.091</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Pasta Base</td>
<td style="text-align: right;">0.600</td>
<td style="text-align: right;">0.545</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.600</td>
<td style="text-align: right;">0.375</td>
<td style="text-align: right;">0.375</td>
<td style="text-align: right;">0.375</td>
<td style="text-align: right;">0.375</td>
<td style="text-align: right;">0.429</td>
<td style="text-align: right;">0.286</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cocaína</td>
<td style="text-align: right;">0.636</td>
<td style="text-align: right;">0.727</td>
<td style="text-align: right;">0.600</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.300</td>
<td style="text-align: right;">0.300</td>
<td style="text-align: right;">0.300</td>
<td style="text-align: right;">0.300</td>
<td style="text-align: right;">0.200</td>
<td style="text-align: right;">0.100</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sedantes</td>
<td style="text-align: right;">0.300</td>
<td style="text-align: right;">0.273</td>
<td style="text-align: right;">0.375</td>
<td style="text-align: right;">0.300</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.750</td>
<td style="text-align: right;">0.500</td>
</tr>
<tr class="even">
<td style="text-align: left;">Otros</td>
<td style="text-align: right;">0.300</td>
<td style="text-align: right;">0.273</td>
<td style="text-align: right;">0.375</td>
<td style="text-align: right;">0.300</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.750</td>
<td style="text-align: right;">0.500</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Inhalables</td>
<td style="text-align: right;">0.300</td>
<td style="text-align: right;">0.273</td>
<td style="text-align: right;">0.375</td>
<td style="text-align: right;">0.300</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.750</td>
<td style="text-align: right;">0.500</td>
</tr>
<tr class="even">
<td style="text-align: left;">Anfetaminas</td>
<td style="text-align: right;">0.300</td>
<td style="text-align: right;">0.273</td>
<td style="text-align: right;">0.375</td>
<td style="text-align: right;">0.300</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.750</td>
<td style="text-align: right;">0.500</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Opioides</td>
<td style="text-align: right;">0.200</td>
<td style="text-align: right;">0.182</td>
<td style="text-align: right;">0.429</td>
<td style="text-align: right;">0.200</td>
<td style="text-align: right;">0.750</td>
<td style="text-align: right;">0.750</td>
<td style="text-align: right;">0.750</td>
<td style="text-align: right;">0.750</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.667</td>
</tr>
<tr class="even">
<td style="text-align: left;">Éxtasis/MDMA</td>
<td style="text-align: right;">0.222</td>
<td style="text-align: right;">0.091</td>
<td style="text-align: right;">0.286</td>
<td style="text-align: right;">0.100</td>
<td style="text-align: right;">0.500</td>
<td style="text-align: right;">0.500</td>
<td style="text-align: right;">0.500</td>
<td style="text-align: right;">0.500</td>
<td style="text-align: right;">0.667</td>
<td style="text-align: right;">1.000</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="distribución-de-grado" class="level2" data-number="4.9">
<h2 data-number="4.9" class="anchored" data-anchor-id="distribución-de-grado"><span class="header-section-number">4.9</span> Distribución de Grado</h2>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>degree_dist_co <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Grado =</span> <span class="fu">degree</span>(g_full_co)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Grado) <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Probabilidad =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>p1_co <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(degree_dist_co, <span class="fu">aes</span>(<span class="at">x =</span> Grado, <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Grado (k)"</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Frecuencia"</span>,</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Distribución de Grado - Co-ocurrencia"</span>,</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Escala lineal"</span>) <span class="sc">+</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>p2_co <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(degree_dist_co[degree_dist_co<span class="sc">$</span>Grado <span class="sc">&gt;</span> <span class="dv">0</span>,], </span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> Grado, <span class="at">y =</span> Probabilidad)) <span class="sc">+</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"darkred"</span>) <span class="sc">+</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, </span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>              <span class="at">color =</span> <span class="st">"gray40"</span>, <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"log(Grado)"</span>,</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"log(P(k))"</span>,</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Distribución de Grado - Co-ocurrencia"</span>,</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Escala log-log"</span>) <span class="sc">+</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>p1_co <span class="sc">+</span> p2_co</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Prueba3_files/figure-html/cooccurrence-degree-dist-1.png" class="img-fluid figure-img" width="1152"></p>
<figcaption>Distribución del grado en la red de co-ocurrencia</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="análisis-de-k-core" class="level2" data-number="4.10">
<h2 data-number="4.10" class="anchored" data-anchor-id="análisis-de-k-core"><span class="header-section-number">4.10</span> Análisis de K-Core</h2>
<div class="cell" data-tbl-cap="Análisis de K-Core - Red Co-ocurrencia">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular k-core</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>coreness_co <span class="ot">&lt;-</span> <span class="fu">coreness</span>(g_co)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>max_core_co <span class="ot">&lt;-</span> <span class="fu">max</span>(coreness_co)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>kcore_analysis_co <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Sustancia =</span> <span class="fu">V</span>(g_co)<span class="sc">$</span>name,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">K_Core =</span> coreness_co,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Fuerza =</span> <span class="fu">strength</span>(g_co)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(K_Core), <span class="fu">desc</span>(Fuerza))</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Resumen por k-core</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>kcore_summary_co <span class="ot">&lt;-</span> kcore_analysis_co <span class="sc">%&gt;%</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(K_Core) <span class="sc">%&gt;%</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">N_Sustancias =</span> <span class="fu">n</span>(),</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">Principales =</span> <span class="fu">paste</span>(<span class="fu">head</span>(Sustancia, <span class="dv">3</span>), <span class="at">collapse =</span> <span class="st">", "</span>),</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">Fuerza_Media =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Fuerza), <span class="dv">0</span>)</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(K_Core))</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>kcore_summary_co <span class="sc">%&gt;%</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"K-Core"</span>, <span class="st">"N° Sustancias"</span>, <span class="st">"Principales Sustancias"</span>, <span class="st">"Fuerza Media"</span>),</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"c"</span>, <span class="st">"r"</span>, <span class="st">"l"</span>, <span class="st">"r"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Análisis de K-Core - Red Co-ocurrencia</caption>
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">K-Core</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">N° Sustancias</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Principales Sustancias</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Fuerza Media</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">4</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">Alcohol, Marihuana, Pasta Base</td>
<td style="text-align: right;">97988</td>
</tr>
<tr class="even">
<td style="text-align: center;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Opioides</td>
<td style="text-align: right;">2041</td>
</tr>
<tr class="odd">
<td style="text-align: center;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Éxtasis/MDMA</td>
<td style="text-align: right;">1113</td>
</tr>
<tr class="even">
<td style="text-align: center;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Estimulantes, Lsd</td>
<td style="text-align: right;">614</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="visualización-estática" class="level2" data-number="4.11">
<h2 data-number="4.11" class="anchored" data-anchor-id="visualización-estática"><span class="header-section-number">4.11</span> Visualización Estática</h2>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>g_co_tidy <span class="ot">&lt;-</span> <span class="fu">as_tbl_graph</span>(g_co)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular tamaños proporcionales a la fuerza</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>node_strength <span class="ot">&lt;-</span> <span class="fu">strength</span>(g_co)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>node_size <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(node_strength) <span class="sc">/</span> <span class="fu">max</span>(<span class="fu">sqrt</span>(node_strength)) <span class="sc">*</span> <span class="dv">20</span> <span class="sc">+</span> <span class="dv">5</span>  <span class="co"># Escalar entre 5 y 25</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(g_co_tidy, <span class="at">layout =</span> <span class="st">'fr'</span>, <span class="at">weights =</span> weight) <span class="sc">+</span> </span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">width =</span> weight, <span class="at">alpha =</span> weight),</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">color =</span> <span class="st">"gray40"</span>,</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(<span class="fu">V</span>(g_co)<span class="sc">$</span>community)),</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>                  <span class="at">size =</span> node_size,</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>                  <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name),</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>                 <span class="at">size =</span> node_size<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>                 <span class="at">repel =</span> <span class="cn">TRUE</span>,</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>                 <span class="at">force =</span> <span class="dv">3</span>,</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>                 <span class="at">segment.size =</span> <span class="fl">0.2</span>,</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>                 <span class="at">segment.alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>                 <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_width_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="dv">3</span>)) <span class="sc">+</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">0.7</span>)) <span class="sc">+</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>,</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>                     <span class="at">name =</span> <span class="st">"Comunidad"</span>) <span class="sc">+</span></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Red de Co-ocurrencia de Sustancias"</span>,</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="fu">sprintf</span>(<span class="st">"Basado en %s casos | Mínimo %s co-ocurrencias | Tamaño proporcional a interacciones"</span>,</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">format</span>(<span class="fu">nrow</span>(data_network), <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">format</span>(min_weight, <span class="at">big.mark =</span> <span class="st">","</span>))) <span class="sc">+</span></span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"right"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Prueba3_files/figure-html/viz-cooccurrence-1.png" class="img-fluid figure-img" width="1152"></p>
<figcaption>Red de co-ocurrencia de sustancias</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="red-interactiva-co-ocurrencia" class="level2" data-number="4.12">
<h2 data-number="4.12" class="anchored" data-anchor-id="red-interactiva-co-ocurrencia"><span class="header-section-number">4.12</span> Red Interactiva Co-ocurrencia</h2>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular layout con mayor separación</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>coords_co <span class="ot">&lt;-</span> <span class="fu">layout_with_fr</span>(g_co, <span class="at">weights =</span> <span class="fu">E</span>(g_co)<span class="sc">$</span>weight)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>coords_co <span class="ot">&lt;-</span> coords_co <span class="sc">*</span> <span class="dv">300</span>  <span class="co"># Mayor escala para más separación</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular tamaños proporcionales</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>node_strength <span class="ot">&lt;-</span> <span class="fu">strength</span>(g_co)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>node_sizes <span class="ot">&lt;-</span> (node_strength <span class="sc">/</span> <span class="fu">max</span>(node_strength)) <span class="sc">*</span> <span class="dv">50</span> <span class="sc">+</span> <span class="dv">10</span>  <span class="co"># Entre 10 y 60</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Preparar datos para visNetwork</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>nodes_co <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="fu">V</span>(g_co)<span class="sc">$</span>name,</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> <span class="fu">V</span>(g_co)<span class="sc">$</span>name,</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> node_sizes,  <span class="co"># Tamaño proporcional a interacciones</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">V</span>(g_co)<span class="sc">$</span>community,</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> coords_co[,<span class="dv">1</span>],</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> coords_co[,<span class="dv">2</span>],</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="fu">paste0</span>(</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;b&gt;"</span>, <span class="fu">V</span>(g_co)<span class="sc">$</span>name, <span class="st">"&lt;/b&gt;&lt;br&gt;"</span>,</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Fuerza: "</span>, <span class="fu">format</span>(<span class="fu">round</span>(<span class="fu">strength</span>(g_co), <span class="dv">0</span>), <span class="at">big.mark =</span> <span class="st">","</span>), <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Conexiones: "</span>, <span class="fu">degree</span>(g_co), <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Comunidad: "</span>, <span class="fu">V</span>(g_co)<span class="sc">$</span>community, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">"K-Core: "</span>, coreness_co</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">font.size =</span> <span class="fu">ifelse</span>(node_strength <span class="sc">&gt;</span> <span class="fu">quantile</span>(node_strength, <span class="fl">0.75</span>), <span class="dv">20</span>, <span class="dv">14</span>),</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">physics =</span> <span class="cn">TRUE</span>  <span class="co"># Habilitado para mejor separación</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajustar posiciones de nodos principales para evitar solapamiento</span></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>top_nodes_co <span class="ot">&lt;-</span> <span class="fu">head</span>(nodes_co<span class="sc">$</span>id[<span class="fu">order</span>(node_strength, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)], <span class="dv">4</span>)</span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="st">"Alcohol"</span> <span class="sc">%in%</span> nodes_co<span class="sc">$</span>id) {</span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>  idx <span class="ot">&lt;-</span> <span class="fu">which</span>(nodes_co<span class="sc">$</span>id <span class="sc">==</span> <span class="st">"Alcohol"</span>)</span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>  nodes_co[idx, <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">400</span>, <span class="dv">0</span>)</span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>  nodes_co[idx, <span class="st">"fixed"</span>] <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="st">"Marihuana"</span> <span class="sc">%in%</span> nodes_co<span class="sc">$</span>id) {</span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a>  idx <span class="ot">&lt;-</span> <span class="fu">which</span>(nodes_co<span class="sc">$</span>id <span class="sc">==</span> <span class="st">"Marihuana"</span>)</span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a>  nodes_co[idx, <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">400</span>, <span class="dv">0</span>)</span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a>  nodes_co[idx, <span class="st">"fixed"</span>] <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="st">"Pasta Base"</span> <span class="sc">%in%</span> nodes_co<span class="sc">$</span>id) {</span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>  idx <span class="ot">&lt;-</span> <span class="fu">which</span>(nodes_co<span class="sc">$</span>id <span class="sc">==</span> <span class="st">"Pasta Base"</span>)</span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a>  nodes_co[idx, <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">400</span>)</span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a>  nodes_co[idx, <span class="st">"fixed"</span>] <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="st">"Cocaína"</span> <span class="sc">%in%</span> nodes_co<span class="sc">$</span>id) {</span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a>  idx <span class="ot">&lt;-</span> <span class="fu">which</span>(nodes_co<span class="sc">$</span>id <span class="sc">==</span> <span class="st">"Cocaína"</span>)</span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a>  nodes_co[idx, <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">400</span>)</span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a>  nodes_co[idx, <span class="st">"fixed"</span>] <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Preparar edges con grosor proporcional</span></span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a>edges_df_co <span class="ot">&lt;-</span> <span class="fu">as_data_frame</span>(g_co, <span class="at">what =</span> <span class="st">"edges"</span>)</span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a>edges_co <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb19-55"><a href="#cb19-55" aria-hidden="true" tabindex="-1"></a>  <span class="at">from =</span> edges_df_co<span class="sc">$</span>from,</span>
<span id="cb19-56"><a href="#cb19-56" aria-hidden="true" tabindex="-1"></a>  <span class="at">to =</span> edges_df_co<span class="sc">$</span>to,</span>
<span id="cb19-57"><a href="#cb19-57" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> edges_df_co<span class="sc">$</span>weight <span class="sc">/</span> <span class="dv">500</span>,  <span class="co"># Escalar para visualización</span></span>
<span id="cb19-58"><a href="#cb19-58" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="fu">paste0</span>(</span>
<span id="cb19-59"><a href="#cb19-59" aria-hidden="true" tabindex="-1"></a>    edges_df_co<span class="sc">$</span>from, <span class="st">" ↔ "</span>, edges_df_co<span class="sc">$</span>to, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb19-60"><a href="#cb19-60" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Co-ocurrencias: "</span>, <span class="fu">format</span>(edges_df_co<span class="sc">$</span>weight, <span class="at">big.mark =</span> <span class="st">","</span>)</span>
<span id="cb19-61"><a href="#cb19-61" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb19-62"><a href="#cb19-62" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="fu">list</span>(</span>
<span id="cb19-63"><a href="#cb19-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"rgba(150,150,150,0.3)"</span>,</span>
<span id="cb19-64"><a href="#cb19-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">highlight =</span> <span class="st">"rgba(255,100,100,0.8)"</span></span>
<span id="cb19-65"><a href="#cb19-65" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-66"><a href="#cb19-66" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-67"><a href="#cb19-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-68"><a href="#cb19-68" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear visualización interactiva con mejor separación</span></span>
<span id="cb19-69"><a href="#cb19-69" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(nodes_co, edges_co, <span class="at">height =</span> <span class="st">"700px"</span>, <span class="at">width =</span> <span class="st">"100%"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-70"><a href="#cb19-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(</span>
<span id="cb19-71"><a href="#cb19-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">highlightNearest =</span> <span class="fu">list</span>(</span>
<span id="cb19-72"><a href="#cb19-72" aria-hidden="true" tabindex="-1"></a>      <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-73"><a href="#cb19-73" aria-hidden="true" tabindex="-1"></a>      <span class="at">hover =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-74"><a href="#cb19-74" aria-hidden="true" tabindex="-1"></a>      <span class="at">degree =</span> <span class="dv">1</span>,</span>
<span id="cb19-75"><a href="#cb19-75" aria-hidden="true" tabindex="-1"></a>      <span class="at">labelOnly =</span> <span class="cn">FALSE</span></span>
<span id="cb19-76"><a href="#cb19-76" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb19-77"><a href="#cb19-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">nodesIdSelection =</span> <span class="fu">list</span>(</span>
<span id="cb19-78"><a href="#cb19-78" aria-hidden="true" tabindex="-1"></a>      <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-79"><a href="#cb19-79" aria-hidden="true" tabindex="-1"></a>      <span class="at">style =</span> <span class="st">'width: 200px; height: 30px;'</span></span>
<span id="cb19-80"><a href="#cb19-80" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb19-81"><a href="#cb19-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">selectedBy =</span> <span class="fu">list</span>(</span>
<span id="cb19-82"><a href="#cb19-82" aria-hidden="true" tabindex="-1"></a>      <span class="at">variable =</span> <span class="st">"group"</span>,</span>
<span id="cb19-83"><a href="#cb19-83" aria-hidden="true" tabindex="-1"></a>      <span class="at">style =</span> <span class="st">'width: 200px; height: 30px;'</span>,</span>
<span id="cb19-84"><a href="#cb19-84" aria-hidden="true" tabindex="-1"></a>      <span class="at">main =</span> <span class="st">"Seleccionar Comunidad"</span></span>
<span id="cb19-85"><a href="#cb19-85" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb19-86"><a href="#cb19-86" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb19-87"><a href="#cb19-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visPhysics</span>(</span>
<span id="cb19-88"><a href="#cb19-88" aria-hidden="true" tabindex="-1"></a>    <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-89"><a href="#cb19-89" aria-hidden="true" tabindex="-1"></a>    <span class="at">stabilization =</span> <span class="fu">list</span>(</span>
<span id="cb19-90"><a href="#cb19-90" aria-hidden="true" tabindex="-1"></a>      <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-91"><a href="#cb19-91" aria-hidden="true" tabindex="-1"></a>      <span class="at">iterations =</span> <span class="dv">500</span>,  <span class="co"># Más iteraciones para mejor estabilización</span></span>
<span id="cb19-92"><a href="#cb19-92" aria-hidden="true" tabindex="-1"></a>      <span class="at">updateInterval =</span> <span class="dv">50</span></span>
<span id="cb19-93"><a href="#cb19-93" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb19-94"><a href="#cb19-94" aria-hidden="true" tabindex="-1"></a>    <span class="at">barnesHut =</span> <span class="fu">list</span>(</span>
<span id="cb19-95"><a href="#cb19-95" aria-hidden="true" tabindex="-1"></a>      <span class="at">gravitationalConstant =</span> <span class="sc">-</span><span class="dv">8000</span>,  <span class="co"># Mayor repulsión</span></span>
<span id="cb19-96"><a href="#cb19-96" aria-hidden="true" tabindex="-1"></a>      <span class="at">centralGravity =</span> <span class="fl">0.1</span>,  <span class="co"># Menor gravedad central</span></span>
<span id="cb19-97"><a href="#cb19-97" aria-hidden="true" tabindex="-1"></a>      <span class="at">springLength =</span> <span class="dv">300</span>,  <span class="co"># Resortes más largos</span></span>
<span id="cb19-98"><a href="#cb19-98" aria-hidden="true" tabindex="-1"></a>      <span class="at">springConstant =</span> <span class="fl">0.001</span>,</span>
<span id="cb19-99"><a href="#cb19-99" aria-hidden="true" tabindex="-1"></a>      <span class="at">damping =</span> <span class="fl">0.5</span>,</span>
<span id="cb19-100"><a href="#cb19-100" aria-hidden="true" tabindex="-1"></a>      <span class="at">avoidOverlap =</span> <span class="dv">1</span>  <span class="co"># Evitar superposición</span></span>
<span id="cb19-101"><a href="#cb19-101" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb19-102"><a href="#cb19-102" aria-hidden="true" tabindex="-1"></a>    <span class="at">repulsion =</span> <span class="fu">list</span>(</span>
<span id="cb19-103"><a href="#cb19-103" aria-hidden="true" tabindex="-1"></a>      <span class="at">nodeDistance =</span> <span class="dv">250</span>,  <span class="co"># Distancia mínima entre nodos</span></span>
<span id="cb19-104"><a href="#cb19-104" aria-hidden="true" tabindex="-1"></a>      <span class="at">centralGravity =</span> <span class="fl">0.1</span>,</span>
<span id="cb19-105"><a href="#cb19-105" aria-hidden="true" tabindex="-1"></a>      <span class="at">springLength =</span> <span class="dv">300</span>,</span>
<span id="cb19-106"><a href="#cb19-106" aria-hidden="true" tabindex="-1"></a>      <span class="at">springConstant =</span> <span class="fl">0.01</span>,</span>
<span id="cb19-107"><a href="#cb19-107" aria-hidden="true" tabindex="-1"></a>      <span class="at">damping =</span> <span class="fl">0.5</span></span>
<span id="cb19-108"><a href="#cb19-108" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb19-109"><a href="#cb19-109" aria-hidden="true" tabindex="-1"></a>    <span class="at">maxVelocity =</span> <span class="dv">50</span>,</span>
<span id="cb19-110"><a href="#cb19-110" aria-hidden="true" tabindex="-1"></a>    <span class="at">minVelocity =</span> <span class="fl">0.75</span>,</span>
<span id="cb19-111"><a href="#cb19-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">solver =</span> <span class="st">"barnesHut"</span></span>
<span id="cb19-112"><a href="#cb19-112" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb19-113"><a href="#cb19-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(</span>
<span id="cb19-114"><a href="#cb19-114" aria-hidden="true" tabindex="-1"></a>    <span class="at">randomSeed =</span> <span class="dv">123</span>,</span>
<span id="cb19-115"><a href="#cb19-115" aria-hidden="true" tabindex="-1"></a>    <span class="at">improvedLayout =</span> <span class="cn">TRUE</span></span>
<span id="cb19-116"><a href="#cb19-116" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb19-117"><a href="#cb19-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visInteraction</span>(</span>
<span id="cb19-118"><a href="#cb19-118" aria-hidden="true" tabindex="-1"></a>    <span class="at">navigationButtons =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-119"><a href="#cb19-119" aria-hidden="true" tabindex="-1"></a>    <span class="at">dragNodes =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-120"><a href="#cb19-120" aria-hidden="true" tabindex="-1"></a>    <span class="at">dragView =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-121"><a href="#cb19-121" aria-hidden="true" tabindex="-1"></a>    <span class="at">zoomView =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-122"><a href="#cb19-122" aria-hidden="true" tabindex="-1"></a>    <span class="at">hover =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-123"><a href="#cb19-123" aria-hidden="true" tabindex="-1"></a>    <span class="at">tooltipDelay =</span> <span class="dv">0</span>,</span>
<span id="cb19-124"><a href="#cb19-124" aria-hidden="true" tabindex="-1"></a>    <span class="at">zoomSpeed =</span> <span class="fl">0.5</span>  <span class="co"># Zoom más suave</span></span>
<span id="cb19-125"><a href="#cb19-125" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb19-126"><a href="#cb19-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(</span>
<span id="cb19-127"><a href="#cb19-127" aria-hidden="true" tabindex="-1"></a>    <span class="at">smooth =</span> <span class="fu">list</span>(</span>
<span id="cb19-128"><a href="#cb19-128" aria-hidden="true" tabindex="-1"></a>      <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-129"><a href="#cb19-129" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">"continuous"</span>,</span>
<span id="cb19-130"><a href="#cb19-130" aria-hidden="true" tabindex="-1"></a>      <span class="at">roundness =</span> <span class="fl">0.5</span></span>
<span id="cb19-131"><a href="#cb19-131" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb19-132"><a href="#cb19-132" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="dv">2</span>,</span>
<span id="cb19-133"><a href="#cb19-133" aria-hidden="true" tabindex="-1"></a>    <span class="at">physics =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-134"><a href="#cb19-134" aria-hidden="true" tabindex="-1"></a>    <span class="at">scaling =</span> <span class="fu">list</span>(</span>
<span id="cb19-135"><a href="#cb19-135" aria-hidden="true" tabindex="-1"></a>      <span class="at">min =</span> <span class="fl">0.5</span>,</span>
<span id="cb19-136"><a href="#cb19-136" aria-hidden="true" tabindex="-1"></a>      <span class="at">max =</span> <span class="dv">5</span></span>
<span id="cb19-137"><a href="#cb19-137" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb19-138"><a href="#cb19-138" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb19-139"><a href="#cb19-139" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visNodes</span>(</span>
<span id="cb19-140"><a href="#cb19-140" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="st">"dot"</span>,</span>
<span id="cb19-141"><a href="#cb19-141" aria-hidden="true" tabindex="-1"></a>    <span class="at">scaling =</span> <span class="fu">list</span>(</span>
<span id="cb19-142"><a href="#cb19-142" aria-hidden="true" tabindex="-1"></a>      <span class="at">min =</span> <span class="dv">10</span>,</span>
<span id="cb19-143"><a href="#cb19-143" aria-hidden="true" tabindex="-1"></a>      <span class="at">max =</span> <span class="dv">60</span>,  <span class="co"># Rango mayor para mejor diferenciación</span></span>
<span id="cb19-144"><a href="#cb19-144" aria-hidden="true" tabindex="-1"></a>      <span class="at">label =</span> <span class="fu">list</span>(</span>
<span id="cb19-145"><a href="#cb19-145" aria-hidden="true" tabindex="-1"></a>        <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-146"><a href="#cb19-146" aria-hidden="true" tabindex="-1"></a>        <span class="at">min =</span> <span class="dv">14</span>,</span>
<span id="cb19-147"><a href="#cb19-147" aria-hidden="true" tabindex="-1"></a>        <span class="at">max =</span> <span class="dv">24</span></span>
<span id="cb19-148"><a href="#cb19-148" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb19-149"><a href="#cb19-149" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb19-150"><a href="#cb19-150" aria-hidden="true" tabindex="-1"></a>    <span class="at">borderWidth =</span> <span class="dv">2</span>,</span>
<span id="cb19-151"><a href="#cb19-151" aria-hidden="true" tabindex="-1"></a>    <span class="at">borderWidthSelected =</span> <span class="dv">4</span></span>
<span id="cb19-152"><a href="#cb19-152" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb19-153"><a href="#cb19-153" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>(</span>
<span id="cb19-154"><a href="#cb19-154" aria-hidden="true" tabindex="-1"></a>    <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-155"><a href="#cb19-155" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="st">"right"</span>,</span>
<span id="cb19-156"><a href="#cb19-156" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="fl">0.15</span>,</span>
<span id="cb19-157"><a href="#cb19-157" aria-hidden="true" tabindex="-1"></a>    <span class="at">useGroups =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-158"><a href="#cb19-158" aria-hidden="true" tabindex="-1"></a>    <span class="at">main =</span> <span class="st">"Comunidades"</span></span>
<span id="cb19-159"><a href="#cb19-159" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb19-160"><a href="#cb19-160" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visConfigure</span>(<span class="at">enabled =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="htmlwidget-ea27b7767f818241993a" style="width:100%;height:700px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-ea27b7767f818241993a">{"x":{"nodes":{"id":["Alcohol","Anfetaminas","Cocaína","Estimulantes","Éxtasis/MDMA","Inhalables","Lsd","Marihuana","Opioides","Otros","Pasta Base","Sedantes"],"label":["Alcohol","Anfetaminas","Cocaína","Estimulantes","Éxtasis/MDMA","Inhalables","Lsd","Marihuana","Opioides","Otros","Pasta Base","Sedantes"],"value":[60,10.77859618717504,45.17179376083189,10.15207972270364,10.24111785095321,10.82690641247834,10.11395147313691,50.66984402079722,10.44215771230503,11.62521663778163,46.95602253032929,13.79484402079723],"group":[1,1,1,1,1,1,1,1,1,1,1,1],"x":[-400,-39.78544910657305,0,-95.99326412816959,16.95869711387373,-30.7936949070265,-84.41772088629656,400,12.11778743097666,-4.381817374841714,0,-49.60846158030549],"y":[0,-439.9882872298531,-400,-372.4595350840899,-450.4224305446513,-370.9718664991591,-468.185922272783,0,-384.350005196439,-405.2618297282498,400,-401.3844945052373],"title":["<b>Alcohol<\/b><br>Fuerza: 230,800<br>Conexiones: 9<br>Comunidad: 1<br>K-Core: 4","<b>Anfetaminas<\/b><br>Fuerza:   3,594<br>Conexiones: 4<br>Comunidad: 1<br>K-Core: 4","<b>Cocaína<\/b><br>Fuerza: 162,353<br>Conexiones: 9<br>Comunidad: 1<br>K-Core: 4","<b>Estimulantes<\/b><br>Fuerza:     702<br>Conexiones: 1<br>Comunidad: 1<br>K-Core: 1","<b>Éxtasis/MDMA<\/b><br>Fuerza:   1,113<br>Conexiones: 2<br>Comunidad: 1<br>K-Core: 2","<b>Inhalables<\/b><br>Fuerza:   3,817<br>Conexiones: 4<br>Comunidad: 1<br>K-Core: 4","<b>Lsd<\/b><br>Fuerza:     526<br>Conexiones: 1<br>Comunidad: 1<br>K-Core: 1","<b>Marihuana<\/b><br>Fuerza: 187,732<br>Conexiones: 10<br>Comunidad: 1<br>K-Core: 4","<b>Opioides<\/b><br>Fuerza:   2,041<br>Conexiones: 3<br>Comunidad: 1<br>K-Core: 3","<b>Otros<\/b><br>Fuerza:   7,502<br>Conexiones: 4<br>Comunidad: 1<br>K-Core: 4","<b>Pasta Base<\/b><br>Fuerza: 170,589<br>Conexiones: 7<br>Comunidad: 1<br>K-Core: 4","<b>Sedantes<\/b><br>Fuerza:  17,517<br>Conexiones: 4<br>Comunidad: 1<br>K-Core: 4"],"font.size":[20,14,14,14,14,14,14,20,14,14,20,14],"physics":[true,true,true,true,true,true,true,true,true,true,true,true],"fixed":[true,null,true,null,null,null,null,true,null,null,true,null]},"edges":{"from":["Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Anfetaminas","Anfetaminas","Anfetaminas","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Éxtasis/MDMA","Inhalables","Inhalables","Lsd","Marihuana","Marihuana","Marihuana","Marihuana","Otros","Pasta Base"],"to":["Anfetaminas","Cocaína","Estimulantes","Inhalables","Marihuana","Opioides","Otros","Pasta Base","Sedantes","Cocaína","Marihuana","Pasta Base","Éxtasis/MDMA","Inhalables","Marihuana","Opioides","Otros","Pasta Base","Sedantes","Marihuana","Marihuana","Pasta Base","Marihuana","Opioides","Otros","Pasta Base","Sedantes","Pasta Base","Sedantes"],"value":[2.222,139.56,1.404,2.364,149.514,1.538,6.33,143.566,15.102,1.904,1.744,1.318,1.08,1.098,95.90000000000001,1.108,2.572,74.54000000000001,6.944,1.146,2.04,2.132,1.052,1.436,3.278,111.582,7.772,2.824,5.216],"title":["Alcohol ↔ Anfetaminas<br>Co-ocurrencias:  1,111","Alcohol ↔ Cocaína<br>Co-ocurrencias: 69,780","Alcohol ↔ Estimulantes<br>Co-ocurrencias:    702","Alcohol ↔ Inhalables<br>Co-ocurrencias:  1,182","Alcohol ↔ Marihuana<br>Co-ocurrencias: 74,757","Alcohol ↔ Opioides<br>Co-ocurrencias:    769","Alcohol ↔ Otros<br>Co-ocurrencias:  3,165","Alcohol ↔ Pasta Base<br>Co-ocurrencias: 71,783","Alcohol ↔ Sedantes<br>Co-ocurrencias:  7,551","Anfetaminas ↔ Cocaína<br>Co-ocurrencias:    952","Anfetaminas ↔ Marihuana<br>Co-ocurrencias:    872","Anfetaminas ↔ Pasta Base<br>Co-ocurrencias:    659","Cocaína ↔ Éxtasis/MDMA<br>Co-ocurrencias:    540","Cocaína ↔ Inhalables<br>Co-ocurrencias:    549","Cocaína ↔ Marihuana<br>Co-ocurrencias: 47,950","Cocaína ↔ Opioides<br>Co-ocurrencias:    554","Cocaína ↔ Otros<br>Co-ocurrencias:  1,286","Cocaína ↔ Pasta Base<br>Co-ocurrencias: 37,270","Cocaína ↔ Sedantes<br>Co-ocurrencias:  3,472","Éxtasis/MDMA ↔ Marihuana<br>Co-ocurrencias:    573","Inhalables ↔ Marihuana<br>Co-ocurrencias:  1,020","Inhalables ↔ Pasta Base<br>Co-ocurrencias:  1,066","Lsd ↔ Marihuana<br>Co-ocurrencias:    526","Marihuana ↔ Opioides<br>Co-ocurrencias:    718","Marihuana ↔ Otros<br>Co-ocurrencias:  1,639","Marihuana ↔ Pasta Base<br>Co-ocurrencias: 55,791","Marihuana ↔ Sedantes<br>Co-ocurrencias:  3,886","Otros ↔ Pasta Base<br>Co-ocurrencias:  1,412","Pasta Base ↔ Sedantes<br>Co-ocurrencias:  2,608"],"color.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"],"color.highlight":["rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)","rgba(255,100,100,0.8)"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","borderWidth":2,"borderWidthSelected":4,"scaling":{"min":10,"max":60,"label":{"enabled":true,"min":14,"max":24}}},"manipulation":{"enabled":false},"interaction":{"dragNodes":true,"dragView":true,"hover":true,"navigationButtons":true,"tooltipDelay":0,"zoomView":true,"zoomSpeed":0.5},"physics":{"solver":"barnesHut","maxVelocity":50,"minVelocity":0.75,"stabilization":{"enabled":true,"iterations":500,"updateInterval":50},"enabled":true,"barnesHut":{"gravitationalConstant":-8000,"centralGravity":0.1,"springLength":300,"springConstant":0.001,"damping":0.5,"avoidOverlap":1},"repulsion":{"nodeDistance":250,"centralGravity":0.1,"springLength":300,"springConstant":0.01,"damping":0.5}},"layout":{"randomSeed":123,"improvedLayout":true},"edges":{"width":2,"physics":true,"smooth":{"enabled":true,"type":"continuous","roundness":0.5},"scaling":{"min":0.5,"max":5}},"configure":{"enabled":false}},"groups":["1"],"width":"100%","height":"700px","idselection":{"enabled":true,"style":"width: 200px; height: 30px;","useLabels":true,"main":"Select by id"},"byselection":{"enabled":true,"style":"width: 200px; height: 30px;","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false,"variable":"group","main":"Seleccionar Comunidad","values":["1"]},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":true,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":false},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);","legend":{"width":0.15,"useGroups":true,"position":"right","ncol":1,"stepX":100,"stepY":100,"zoom":true,"main":{"text":"Comunidades","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:14px;text-align:center;"}}},"evals":[],"jsHooks":[]}</script>
<p>Red interactiva de co-ocurrencia (zoom y arrastre habilitados)</p>
</div>
</div>
</section>
</section>
<section id="red-bipartita-paciente-sustancia" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> RED BIPARTITA PACIENTE-SUSTANCIA</h1>
<section id="construcción-de-la-red-1" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="construcción-de-la-red-1"><span class="header-section-number">5.1</span> Construcción de la Red</h2>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear edge list paciente-sustancia</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>create_bipartite_edgelist <span class="ot">&lt;-</span> <span class="cf">function</span>(data) {</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  edgelist <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (col <span class="cf">in</span> cols_sustancias) {</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    temp <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(HASH_KEY, <span class="at">sustancia =</span> <span class="sc">!!</span><span class="fu">sym</span>(col)) <span class="sc">%&gt;%</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(sustancia)) <span class="sc">%&gt;%</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">weight =</span> <span class="fu">ifelse</span>(col <span class="sc">==</span> <span class="st">"sustancia_principal"</span>, <span class="dv">2</span>, <span class="dv">1</span>))</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>    edgelist <span class="ot">&lt;-</span> <span class="fu">rbind</span>(edgelist, temp)</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  edgelist <span class="ot">&lt;-</span> edgelist <span class="sc">%&gt;%</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(HASH_KEY, sustancia) <span class="sc">%&gt;%</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">weight =</span> <span class="fu">sum</span>(weight), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(edgelist)</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>bipartite_edges <span class="ot">&lt;-</span> <span class="fu">create_bipartite_edgelist</span>(data_network)</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear grafo bipartito</span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>g_bipartite <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(bipartite_edges, <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g_bipartite)<span class="sc">$</span>type <span class="ot">&lt;-</span> <span class="fu">V</span>(g_bipartite)<span class="sc">$</span>name <span class="sc">%in%</span> bipartite_edges<span class="sc">$</span>sustancia</span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g_bipartite)<span class="sc">$</span>node_type <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">V</span>(g_bipartite)<span class="sc">$</span>type, <span class="st">"Sustancia"</span>, <span class="st">"Paciente"</span>)</span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Detectar comunidades</span></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>communities_bi <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(g_bipartite)</span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g_bipartite)<span class="sc">$</span>community <span class="ot">&lt;-</span> <span class="fu">membership</span>(communities_bi)</span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Estadísticas básicas</span></span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>n_pacientes <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">V</span>(g_bipartite)<span class="sc">$</span>type)</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>n_sustancias <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">V</span>(g_bipartite)<span class="sc">$</span>type)</span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>n_conexiones <span class="ot">&lt;-</span> <span class="fu">ecount</span>(g_bipartite)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="propiedades-estructurales-1" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="propiedades-estructurales-1"><span class="header-section-number">5.2</span> Propiedades Estructurales</h2>
<div class="cell" data-tbl-cap="Propiedades estructurales de la red bipartita">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular grado por tipo</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>degree_all_bi <span class="ot">&lt;-</span> <span class="fu">degree</span>(g_bipartite)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>degree_pacientes <span class="ot">&lt;-</span> degree_all_bi[<span class="sc">!</span><span class="fu">V</span>(g_bipartite)<span class="sc">$</span>type]</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>degree_sustancias <span class="ot">&lt;-</span> degree_all_bi[<span class="fu">V</span>(g_bipartite)<span class="sc">$</span>type]</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>network_props_bi <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Propiedad =</span> <span class="fu">c</span>(<span class="st">"Número de pacientes"</span>,</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Número de sustancias"</span>,</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Total de conexiones"</span>,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Densidad de la red"</span>,</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Conectancia"</span>,</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Conexiones promedio por paciente"</span>,</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Conexiones promedio por sustancia"</span>,</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Grado máximo pacientes"</span>,</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Grado máximo sustancias"</span>,</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Asortatividad"</span>,</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Componentes conectados"</span>,</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Comunidades detectadas"</span>,</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Modularidad"</span>),</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">Valor =</span> <span class="fu">c</span>(<span class="fu">format</span>(n_pacientes, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>            n_sustancias,</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>            <span class="fu">format</span>(n_conexiones, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(n_conexiones <span class="sc">/</span> (n_pacientes <span class="sc">*</span> n_sustancias), <span class="dv">6</span>),</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(n_conexiones <span class="sc">/</span> (n_pacientes <span class="sc">*</span> n_sustancias), <span class="dv">4</span>),</span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">mean</span>(degree_pacientes), <span class="dv">2</span>),</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">mean</span>(degree_sustancias), <span class="dv">0</span>),</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>            <span class="fu">max</span>(degree_pacientes),</span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>            <span class="fu">format</span>(<span class="fu">max</span>(degree_sustancias), <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">assortativity_degree</span>(g_bipartite), <span class="dv">3</span>),</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>            <span class="fu">components</span>(g_bipartite)<span class="sc">$</span>no,</span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>            <span class="fu">length</span>(communities_bi),</span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">modularity</span>(communities_bi), <span class="dv">3</span>))</span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>network_props_bi <span class="sc">%&gt;%</span></span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Propiedad de la Red"</span>, <span class="st">"Valor"</span>),</span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"r"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Propiedades estructurales de la red bipartita</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Propiedad de la Red</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Valor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Número de pacientes</td>
<td style="text-align: right;">106,303</td>
</tr>
<tr class="even">
<td style="text-align: left;">Número de sustancias</td>
<td style="text-align: right;">22</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Total de conexiones</td>
<td style="text-align: right;">251,447</td>
</tr>
<tr class="even">
<td style="text-align: left;">Densidad de la red</td>
<td style="text-align: right;">0.107517</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Conectancia</td>
<td style="text-align: right;">0.1075</td>
</tr>
<tr class="even">
<td style="text-align: left;">Conexiones promedio por paciente</td>
<td style="text-align: right;">2.37</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Conexiones promedio por sustancia</td>
<td style="text-align: right;">11429</td>
</tr>
<tr class="even">
<td style="text-align: left;">Grado máximo pacientes</td>
<td style="text-align: right;">12</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Grado máximo sustancias</td>
<td style="text-align: right;">87,036</td>
</tr>
<tr class="even">
<td style="text-align: left;">Asortatividad</td>
<td style="text-align: right;">-0.781</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Componentes conectados</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Comunidades detectadas</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Modularidad</td>
<td style="text-align: right;">0.343</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="proyección-en-sustancias" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="proyección-en-sustancias"><span class="header-section-number">5.3</span> Proyección en Sustancias</h2>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear proyección en sustancias</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>create_substance_projection <span class="ot">&lt;-</span> <span class="cf">function</span>(edges) {</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  substances <span class="ot">&lt;-</span> <span class="fu">unique</span>(edges<span class="sc">$</span>sustancia)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  n_sust <span class="ot">&lt;-</span> <span class="fu">length</span>(substances)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  adj_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, n_sust, n_sust,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">dimnames =</span> <span class="fu">list</span>(substances, substances))</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (patient <span class="cf">in</span> <span class="fu">unique</span>(edges<span class="sc">$</span>HASH_KEY)) {</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    patient_subs <span class="ot">&lt;-</span> edges<span class="sc">$</span>sustancia[edges<span class="sc">$</span>HASH_KEY <span class="sc">==</span> patient]</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">length</span>(patient_subs) <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>(<span class="fu">length</span>(patient_subs)<span class="sc">-</span><span class="dv">1</span>)) {</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (j <span class="cf">in</span> (i<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span><span class="fu">length</span>(patient_subs)) {</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>          adj_matrix[patient_subs[i], patient_subs[j]] <span class="ot">&lt;-</span> </span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>            adj_matrix[patient_subs[i], patient_subs[j]] <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>          adj_matrix[patient_subs[j], patient_subs[i]] <span class="ot">&lt;-</span> </span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>            adj_matrix[patient_subs[j], patient_subs[i]] <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(adj_matrix)</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Usar muestra si es muy grande</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (n_pacientes <span class="sc">&gt;</span> <span class="dv">10000</span>) {</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>  sample_size <span class="ot">&lt;-</span> <span class="dv">5000</span></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>  sampled_patients <span class="ot">&lt;-</span> bipartite_edges <span class="sc">%&gt;%</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(sustancia) <span class="sc">%&gt;%</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sample_n</span>(<span class="fu">min</span>(<span class="fu">n</span>(), sample_size<span class="sc">/</span>n_sustancias), <span class="at">replace =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(HASH_KEY) <span class="sc">%&gt;%</span></span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unique</span>()</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>  edges_for_projection <span class="ot">&lt;-</span> bipartite_edges <span class="sc">%&gt;%</span></span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(HASH_KEY <span class="sc">%in%</span> sampled_patients)</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>  edges_for_projection <span class="ot">&lt;-</span> bipartite_edges</span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>adj_substances <span class="ot">&lt;-</span> <span class="fu">create_substance_projection</span>(edges_for_projection)</span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>g_substances <span class="ot">&lt;-</span> <span class="fu">graph_from_adjacency_matrix</span>(adj_substances, </span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">mode =</span> <span class="st">"undirected"</span>, </span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">weighted =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Detectar comunidades en proyección</span></span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>communities_proj <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(g_substances)</span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g_substances)<span class="sc">$</span>community <span class="ot">&lt;-</span> <span class="fu">membership</span>(communities_proj)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="top-pares-en-proyección" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="top-pares-en-proyección"><span class="header-section-number">5.4</span> Top Pares en Proyección</h2>
<div class="cell" data-tbl-cap="Top 15 pares de sustancias por pacientes compartidos">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraer pares de la proyección</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>edges_proj_df <span class="ot">&lt;-</span> <span class="fu">as_data_frame</span>(g_substances, <span class="at">what =</span> <span class="st">"edges"</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>top_pairs_bi <span class="ot">&lt;-</span> edges_proj_df <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(weight)) <span class="sc">%&gt;%</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">15</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Par =</span> <span class="fu">paste</span>(from, <span class="st">"↔"</span>, to)) <span class="sc">%&gt;%</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Par, weight) <span class="sc">%&gt;%</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Pacientes_Compartidos =</span> weight)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>top_pairs_bi <span class="sc">%&gt;%</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Par de Sustancias"</span>, <span class="st">"Pacientes Compartidos"</span>),</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"r"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">width =</span> <span class="st">"300px"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">2</span>, <span class="at">width =</span> <span class="st">"150px"</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Top 15 pares de sustancias por pacientes compartidos</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Par de Sustancias</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Pacientes Compartidos</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 300px;">Alcohol ↔︎ Marihuana</td>
<td style="text-align: right; width: 150px; font-weight: bold;">1849</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 300px;">Alcohol ↔︎ Cocaína</td>
<td style="text-align: right; width: 150px; font-weight: bold;">1651</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 300px;">Cocaína ↔︎ Marihuana</td>
<td style="text-align: right; width: 150px; font-weight: bold;">1490</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 300px;">Alcohol ↔︎ Pasta Base</td>
<td style="text-align: right; width: 150px; font-weight: bold;">1216</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 300px;">Marihuana ↔︎ Pasta Base</td>
<td style="text-align: right; width: 150px; font-weight: bold;">1114</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 300px;">Cocaína ↔︎ Pasta Base</td>
<td style="text-align: right; width: 150px; font-weight: bold;">938</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 300px;">Alcohol ↔︎ Sedantes</td>
<td style="text-align: right; width: 150px; font-weight: bold;">452</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 300px;">Marihuana ↔︎ Sedantes</td>
<td style="text-align: right; width: 150px; font-weight: bold;">335</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 300px;">Alcohol ↔︎ Otros</td>
<td style="text-align: right; width: 150px; font-weight: bold;">282</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 300px;">Cocaína ↔︎ Sedantes</td>
<td style="text-align: right; width: 150px; font-weight: bold;">281</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 300px;">Marihuana ↔︎ Lsd</td>
<td style="text-align: right; width: 150px; font-weight: bold;">230</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 300px;">Alcohol ↔︎ Anfetaminas</td>
<td style="text-align: right; width: 150px; font-weight: bold;">226</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 300px;">Marihuana ↔︎ Éxtasis/MDMA</td>
<td style="text-align: right; width: 150px; font-weight: bold;">222</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 300px;">Alcohol ↔︎ Inhalables</td>
<td style="text-align: right; width: 150px; font-weight: bold;">209</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 300px;">Alcohol ↔︎ Estimulantes</td>
<td style="text-align: right; width: 150px; font-weight: bold;">199</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="métricas-de-centralidad-proyección" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="métricas-de-centralidad-proyección"><span class="header-section-number">5.5</span> Métricas de Centralidad (Proyección)</h2>
<div class="cell" data-tbl-cap="Top 10 sustancias por centralidad en proyección bipartita">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>centrality_metrics_bi <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Sustancia =</span> <span class="fu">V</span>(g_substances)<span class="sc">$</span>name,</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Grado =</span> <span class="fu">degree</span>(g_substances),</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Grado_Norm =</span> <span class="fu">round</span>(<span class="fu">degree</span>(g_substances, <span class="at">normalized =</span> <span class="cn">TRUE</span>), <span class="dv">3</span>),</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Fuerza =</span> <span class="fu">round</span>(<span class="fu">strength</span>(g_substances), <span class="dv">0</span>),</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  Intermediación <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">betweenness</span>(g_substances), <span class="dv">1</span>),</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  Intermediación<span class="at">_Norm =</span> <span class="fu">round</span>(<span class="fu">betweenness</span>(g_substances, <span class="at">normalized =</span> <span class="cn">TRUE</span>), <span class="dv">3</span>),</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  Cercanía <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">closeness</span>(g_substances), <span class="dv">4</span>),</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  Cercanía<span class="at">_Norm =</span> <span class="fu">round</span>(<span class="fu">closeness</span>(g_substances, <span class="at">normalized =</span> <span class="cn">TRUE</span>), <span class="dv">3</span>),</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">Eigenvector =</span> <span class="fu">round</span>(<span class="fu">eigen_centrality</span>(g_substances)<span class="sc">$</span>vector, <span class="dv">3</span>),</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">PageRank =</span> <span class="fu">round</span>(<span class="fu">page_rank</span>(g_substances)<span class="sc">$</span>vector, <span class="dv">4</span>),</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">Hub_Score =</span> <span class="fu">round</span>(<span class="fu">hub_score</span>(g_substances)<span class="sc">$</span>vector, <span class="dv">3</span>),</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">Authority_Score =</span> <span class="fu">round</span>(<span class="fu">authority_score</span>(g_substances)<span class="sc">$</span>vector, <span class="dv">3</span>),</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">Comunidad =</span> <span class="fu">V</span>(g_substances)<span class="sc">$</span>community</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>    bipartite_edges <span class="sc">%&gt;%</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(sustancia) <span class="sc">%&gt;%</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarise</span>(<span class="at">Pacientes_Totales =</span> <span class="fu">n_distinct</span>(HASH_KEY)),</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"Sustancia"</span> <span class="ot">=</span> <span class="st">"sustancia"</span>)</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Pacientes_Totales))</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>centrality_metrics_bi <span class="sc">%&gt;%</span></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Sustancia, Grado, Fuerza, Intermediación_Norm, </span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>         Cercanía_Norm, Eigenvector, PageRank, Pacientes_Totales) <span class="sc">%&gt;%</span></span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Sustancia"</span>, <span class="st">"Grado"</span>, <span class="st">"Fuerza"</span>, <span class="st">"Intermediación"</span>, </span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Cercanía"</span>, <span class="st">"Eigenvector"</span>, <span class="st">"PageRank"</span>, <span class="st">"Total Pacientes"</span>),</span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="fu">rep</span>(<span class="st">"r"</span>, <span class="dv">7</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Top 10 sustancias por centralidad en proyección bipartita</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Sustancia</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Grado</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Fuerza</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Intermediación</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cercanía</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Eigenvector</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">PageRank</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Total Pacientes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Alcohol</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">7585</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.153</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.1861</td>
<td style="text-align: right;">87036</td>
</tr>
<tr class="even">
<td style="text-align: left;">Marihuana</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">6931</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.124</td>
<td style="text-align: right;">0.956</td>
<td style="text-align: right;">0.1701</td>
<td style="text-align: right;">52768</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Pasta Base</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">4679</td>
<td style="text-align: right;">0.076</td>
<td style="text-align: right;">0.292</td>
<td style="text-align: right;">0.731</td>
<td style="text-align: right;">0.1138</td>
<td style="text-align: right;">48914</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cocaína</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">6220</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.153</td>
<td style="text-align: right;">0.893</td>
<td style="text-align: right;">0.1533</td>
<td style="text-align: right;">47990</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sedantes</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">1766</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.196</td>
<td style="text-align: right;">0.270</td>
<td style="text-align: right;">0.0475</td>
<td style="text-align: right;">6025</td>
</tr>
<tr class="even">
<td style="text-align: left;">Otros</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">958</td>
<td style="text-align: right;">0.069</td>
<td style="text-align: right;">0.256</td>
<td style="text-align: right;">0.160</td>
<td style="text-align: right;">0.0283</td>
<td style="text-align: right;">2703</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Inhalables</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">820</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.273</td>
<td style="text-align: right;">0.144</td>
<td style="text-align: right;">0.0244</td>
<td style="text-align: right;">1065</td>
</tr>
<tr class="even">
<td style="text-align: left;">Anfetaminas</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">899</td>
<td style="text-align: right;">0.002</td>
<td style="text-align: right;">0.219</td>
<td style="text-align: right;">0.153</td>
<td style="text-align: right;">0.0266</td>
<td style="text-align: right;">1004</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Opioides</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">812</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.231</td>
<td style="text-align: right;">0.127</td>
<td style="text-align: right;">0.0262</td>
<td style="text-align: right;">896</td>
</tr>
<tr class="even">
<td style="text-align: left;">Estimulantes</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">700</td>
<td style="text-align: right;">0.017</td>
<td style="text-align: right;">0.259</td>
<td style="text-align: right;">0.118</td>
<td style="text-align: right;">0.0223</td>
<td style="text-align: right;">697</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="comparación-de-centralidades-1" class="level2" data-number="5.6">
<h2 data-number="5.6" class="anchored" data-anchor-id="comparación-de-centralidades-1"><span class="header-section-number">5.6</span> Comparación de Centralidades</h2>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>centrality_long_bi <span class="ot">&lt;-</span> centrality_metrics_bi <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Sustancia, Grado_Norm, Intermediación_Norm, </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>         Cercanía_Norm, Eigenvector) <span class="sc">%&gt;%</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>Sustancia,</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"Métrica"</span>,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"Valor"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(Métrica <span class="ot">=</span> <span class="fu">str_replace</span>(Métrica, <span class="st">"_Norm"</span>, <span class="st">""</span>),</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>         Métrica <span class="ot">=</span> <span class="fu">factor</span>(Métrica, </span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>                         <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Grado"</span>, <span class="st">"Intermediación"</span>, </span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">"Cercanía"</span>, <span class="st">"Eigenvector"</span>)))</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(centrality_long_bi, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Sustancia, Valor), </span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>                            <span class="at">y =</span> Valor, </span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>                            <span class="at">fill =</span> Métrica)) <span class="sc">+</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Dark2"</span>) <span class="sc">+</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Valor Normalizado"</span>,</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Comparación de Métricas de Centralidad - Proyección Bipartita"</span>,</span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Top 10 sustancias por número de pacientes"</span>) <span class="sc">+</span></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Prueba3_files/figure-html/bipartite-centrality-comparison-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption>Comparación de diferentes métricas de centralidad - Proyección Bipartita</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="análisis-de-comunidades-proyección" class="level2" data-number="5.7">
<h2 data-number="5.7" class="anchored" data-anchor-id="análisis-de-comunidades-proyección"><span class="header-section-number">5.7</span> Análisis de Comunidades (Proyección)</h2>
<div class="cell" data-tbl-cap="Composición de las comunidades detectadas - Proyección Bipartita">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>community_analysis_bi <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Sustancia =</span> <span class="fu">V</span>(g_substances)<span class="sc">$</span>name,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Comunidad =</span> <span class="fu">V</span>(g_substances)<span class="sc">$</span>community,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Fuerza =</span> <span class="fu">strength</span>(g_substances)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Comunidad) <span class="sc">%&gt;%</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    Tamaño <span class="ot">=</span> <span class="fu">n</span>(),</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sustancias =</span> <span class="fu">paste</span>(<span class="fu">head</span>(Sustancia[<span class="fu">order</span>(Fuerza, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)], <span class="dv">4</span>), </span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>                       <span class="at">collapse =</span> <span class="st">", "</span>),</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">Fuerza_Total =</span> <span class="fu">sum</span>(Fuerza),</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">Fuerza_Media =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Fuerza), <span class="dv">0</span>),</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">Fuerza_Max =</span> <span class="fu">max</span>(Fuerza)</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Tamaño))</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>community_analysis_bi <span class="sc">%&gt;%</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Comunidad"</span>, <span class="st">"Tamaño"</span>, <span class="st">"Principales Sustancias"</span>, </span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Fuerza Total"</span>, <span class="st">"Fuerza Media"</span>, <span class="st">"Fuerza Máx"</span>),</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"c"</span>, <span class="st">"r"</span>, <span class="st">"l"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">3</span>, <span class="at">width =</span> <span class="st">"350px"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Composición de las comunidades detectadas - Proyección Bipartita</caption>
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Comunidad</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Tamaño</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Principales Sustancias</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Fuerza Total</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Fuerza Media</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Fuerza Máx</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: right;">16</td>
<td style="text-align: left; width: 350px;">Alcohol, Marihuana, Cocaína, Pasta Base</td>
<td style="text-align: right;">34407</td>
<td style="text-align: right;">2150</td>
<td style="text-align: right;">7585</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: left; width: 350px;">Éxtasis/MDMA, Lsd, Hongos</td>
<td style="text-align: right;">2087</td>
<td style="text-align: right;">696</td>
<td style="text-align: right;">871</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: left; width: 350px;">Heroína, Metadona, Fenilciclidina</td>
<td style="text-align: right;">258</td>
<td style="text-align: right;">86</td>
<td style="text-align: right;">186</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="medidas-de-centralización-1" class="level2" data-number="5.8">
<h2 data-number="5.8" class="anchored" data-anchor-id="medidas-de-centralización-1"><span class="header-section-number">5.8</span> Medidas de Centralización</h2>
<div class="cell" data-tbl-cap="Medidas de centralización de la proyección bipartita">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>centralization_bi <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Medida =</span> <span class="fu">c</span>(<span class="st">"Centralización de Grado"</span>,</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Centralización de Cercanía"</span>, </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Centralización de Intermediación"</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Centralización de Eigenvector"</span>),</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Valor =</span> <span class="fu">c</span>(<span class="fu">round</span>(<span class="fu">centr_degree</span>(g_substances)<span class="sc">$</span>centralization, <span class="dv">4</span>),</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">centr_clo</span>(g_substances)<span class="sc">$</span>centralization, <span class="dv">4</span>),</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">centr_betw</span>(g_substances)<span class="sc">$</span>centralization, <span class="dv">4</span>),</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>            <span class="fu">round</span>(<span class="fu">centr_eigen</span>(g_substances)<span class="sc">$</span>centralization, <span class="dv">4</span>)),</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  Interpretación <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Concentración de conexiones directas"</span>,</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Concentración de accesibilidad"</span>,</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Concentración de control de flujo"</span>,</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Concentración de influencia"</span>)</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>centralization_bi <span class="sc">%&gt;%</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"r"</span>, <span class="st">"l"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Medidas de centralización de la proyección bipartita</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Medida</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Valor</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Interpretación</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Centralización de Grado</td>
<td style="text-align: right;">0.1861</td>
<td style="text-align: left;">Concentración de conexiones directas</td>
</tr>
<tr class="even">
<td style="text-align: left;">Centralización de Cercanía</td>
<td style="text-align: right;">0.2965</td>
<td style="text-align: left;">Concentración de accesibilidad</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Centralización de Intermediación</td>
<td style="text-align: right;">0.0181</td>
<td style="text-align: left;">Concentración de control de flujo</td>
</tr>
<tr class="even">
<td style="text-align: left;">Centralización de Eigenvector</td>
<td style="text-align: right;">0.1528</td>
<td style="text-align: left;">Concentración de influencia</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="análisis-de-similitud-jaccard-1" class="level2" data-number="5.9">
<h2 data-number="5.9" class="anchored" data-anchor-id="análisis-de-similitud-jaccard-1"><span class="header-section-number">5.9</span> Análisis de Similitud (Jaccard)</h2>
<div class="cell" data-tbl-cap="Matriz de similitud de Jaccard entre sustancias (basada en pacientes compartidos)">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>calculate_jaccard_bipartite <span class="ot">&lt;-</span> <span class="cf">function</span>(edges, <span class="at">top_n =</span> <span class="dv">10</span>) {</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  top_substances <span class="ot">&lt;-</span> edges <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(sustancia) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>(top_n) <span class="sc">%&gt;%</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(sustancia)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  edges_subset <span class="ot">&lt;-</span> edges <span class="sc">%&gt;%</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sustancia <span class="sc">%in%</span> top_substances)</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>  n_sust <span class="ot">&lt;-</span> <span class="fu">length</span>(top_substances)</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  jaccard_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, n_sust, n_sust,</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>                          <span class="at">dimnames =</span> <span class="fu">list</span>(top_substances, top_substances))</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>  patients_by_substance <span class="ot">&lt;-</span> edges_subset <span class="sc">%&gt;%</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(sustancia) <span class="sc">%&gt;%</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">patients =</span> <span class="fu">list</span>(<span class="fu">unique</span>(HASH_KEY)), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>(n_sust<span class="dv">-1</span>)) {</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (j <span class="cf">in</span> (i<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span>n_sust) {</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>      s1 <span class="ot">&lt;-</span> top_substances[i]</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>      s2 <span class="ot">&lt;-</span> top_substances[j]</span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>      patients_s1 <span class="ot">&lt;-</span> patients_by_substance<span class="sc">$</span>patients[patients_by_substance<span class="sc">$</span>sustancia <span class="sc">==</span> s1][[<span class="dv">1</span>]]</span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>      patients_s2 <span class="ot">&lt;-</span> patients_by_substance<span class="sc">$</span>patients[patients_by_substance<span class="sc">$</span>sustancia <span class="sc">==</span> s2][[<span class="dv">1</span>]]</span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>      intersection <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">intersect</span>(patients_s1, patients_s2))</span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>      union <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">union</span>(patients_s1, patients_s2))</span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (union <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a>        jaccard <span class="ot">&lt;-</span> intersection <span class="sc">/</span> union</span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a>        jaccard_matrix[i, j] <span class="ot">&lt;-</span> jaccard</span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a>        jaccard_matrix[j, i] <span class="ot">&lt;-</span> jaccard</span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-39"><a href="#cb28-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">diag</span>(jaccard_matrix) <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb28-40"><a href="#cb28-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(jaccard_matrix)</span>
<span id="cb28-41"><a href="#cb28-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb28-42"><a href="#cb28-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-43"><a href="#cb28-43" aria-hidden="true" tabindex="-1"></a>jaccard_bi <span class="ot">&lt;-</span> <span class="fu">calculate_jaccard_bipartite</span>(bipartite_edges, <span class="dv">10</span>)</span>
<span id="cb28-44"><a href="#cb28-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-45"><a href="#cb28-45" aria-hidden="true" tabindex="-1"></a>jaccard_bi <span class="sc">%&gt;%</span></span>
<span id="cb28-46"><a href="#cb28-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb28-47"><a href="#cb28-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-48"><a href="#cb28-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-49"><a href="#cb28-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb28-50"><a href="#cb28-50" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>,</span>
<span id="cb28-51"><a href="#cb28-51" aria-hidden="true" tabindex="-1"></a>                <span class="at">font_size =</span> <span class="dv">10</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Matriz de similitud de Jaccard entre sustancias (basada en pacientes compartidos)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Alcohol</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Marihuana</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Pasta Base</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cocaína</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Sedantes</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Otros</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Inhalables</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Anfetaminas</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Opioides</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Estimulantes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Alcohol</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.441</td>
<td style="text-align: right;">0.377</td>
<td style="text-align: right;">0.410</td>
<td style="text-align: right;">0.053</td>
<td style="text-align: right;">0.025</td>
<td style="text-align: right;">0.010</td>
<td style="text-align: right;">0.009</td>
<td style="text-align: right;">0.006</td>
<td style="text-align: right;">0.006</td>
</tr>
<tr class="even">
<td style="text-align: left;">Marihuana</td>
<td style="text-align: right;">0.441</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.426</td>
<td style="text-align: right;">0.399</td>
<td style="text-align: right;">0.053</td>
<td style="text-align: right;">0.025</td>
<td style="text-align: right;">0.015</td>
<td style="text-align: right;">0.013</td>
<td style="text-align: right;">0.009</td>
<td style="text-align: right;">0.007</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Pasta Base</td>
<td style="text-align: right;">0.377</td>
<td style="text-align: right;">0.426</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.288</td>
<td style="text-align: right;">0.036</td>
<td style="text-align: right;">0.021</td>
<td style="text-align: right;">0.015</td>
<td style="text-align: right;">0.010</td>
<td style="text-align: right;">0.005</td>
<td style="text-align: right;">0.004</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cocaína</td>
<td style="text-align: right;">0.410</td>
<td style="text-align: right;">0.399</td>
<td style="text-align: right;">0.288</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.049</td>
<td style="text-align: right;">0.021</td>
<td style="text-align: right;">0.010</td>
<td style="text-align: right;">0.014</td>
<td style="text-align: right;">0.008</td>
<td style="text-align: right;">0.007</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sedantes</td>
<td style="text-align: right;">0.053</td>
<td style="text-align: right;">0.053</td>
<td style="text-align: right;">0.036</td>
<td style="text-align: right;">0.049</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.031</td>
<td style="text-align: right;">0.015</td>
<td style="text-align: right;">0.019</td>
<td style="text-align: right;">0.031</td>
<td style="text-align: right;">0.011</td>
</tr>
<tr class="even">
<td style="text-align: left;">Otros</td>
<td style="text-align: right;">0.025</td>
<td style="text-align: right;">0.025</td>
<td style="text-align: right;">0.021</td>
<td style="text-align: right;">0.021</td>
<td style="text-align: right;">0.031</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.012</td>
<td style="text-align: right;">0.009</td>
<td style="text-align: right;">0.018</td>
<td style="text-align: right;">0.017</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Inhalables</td>
<td style="text-align: right;">0.010</td>
<td style="text-align: right;">0.015</td>
<td style="text-align: right;">0.015</td>
<td style="text-align: right;">0.010</td>
<td style="text-align: right;">0.015</td>
<td style="text-align: right;">0.012</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.017</td>
<td style="text-align: right;">0.008</td>
<td style="text-align: right;">0.006</td>
</tr>
<tr class="even">
<td style="text-align: left;">Anfetaminas</td>
<td style="text-align: right;">0.009</td>
<td style="text-align: right;">0.013</td>
<td style="text-align: right;">0.010</td>
<td style="text-align: right;">0.014</td>
<td style="text-align: right;">0.019</td>
<td style="text-align: right;">0.009</td>
<td style="text-align: right;">0.017</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.012</td>
<td style="text-align: right;">0.013</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Opioides</td>
<td style="text-align: right;">0.006</td>
<td style="text-align: right;">0.009</td>
<td style="text-align: right;">0.005</td>
<td style="text-align: right;">0.008</td>
<td style="text-align: right;">0.031</td>
<td style="text-align: right;">0.018</td>
<td style="text-align: right;">0.008</td>
<td style="text-align: right;">0.012</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.014</td>
</tr>
<tr class="even">
<td style="text-align: left;">Estimulantes</td>
<td style="text-align: right;">0.006</td>
<td style="text-align: right;">0.007</td>
<td style="text-align: right;">0.004</td>
<td style="text-align: right;">0.007</td>
<td style="text-align: right;">0.011</td>
<td style="text-align: right;">0.017</td>
<td style="text-align: right;">0.006</td>
<td style="text-align: right;">0.013</td>
<td style="text-align: right;">0.014</td>
<td style="text-align: right;">1.000</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="distribución-de-grado-1" class="level2" data-number="5.10">
<h2 data-number="5.10" class="anchored" data-anchor-id="distribución-de-grado-1"><span class="header-section-number">5.10</span> Distribución de Grado</h2>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear dataframes</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>df_degree_pacientes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">grado =</span> degree_pacientes,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">tipo =</span> <span class="st">"Pacientes"</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(grado, tipo) <span class="sc">%&gt;%</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>df_degree_sustancias <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">grado =</span> degree_sustancias,</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">tipo =</span> <span class="st">"Sustancias"</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(grado, tipo) <span class="sc">%&gt;%</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualización</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>p1_bi <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_degree_pacientes[df_degree_pacientes<span class="sc">$</span>grado <span class="sc">&gt;</span> <span class="dv">0</span>,], </span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>                <span class="fu">aes</span>(<span class="at">x =</span> grado, <span class="at">y =</span> prob)) <span class="sc">+</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"log(Grado)"</span>,</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"log(P(k))"</span>,</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Distribución de Grado - Pacientes"</span>,</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Red Bipartita"</span>) <span class="sc">+</span></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>p2_bi <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_degree_sustancias[df_degree_sustancias<span class="sc">$</span>grado <span class="sc">&gt;</span> <span class="dv">0</span>,], </span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>                <span class="fu">aes</span>(<span class="at">x =</span> grado, <span class="at">y =</span> prob)) <span class="sc">+</span></span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"coral"</span>) <span class="sc">+</span></span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"log(Grado)"</span>,</span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"log(P(k))"</span>,</span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Distribución de Grado - Sustancias"</span>,</span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Red Bipartita"</span>) <span class="sc">+</span></span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>p1_bi <span class="sc">+</span> p2_bi</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Prueba3_files/figure-html/bipartite-degree-dist-1.png" class="img-fluid figure-img" width="1152"></p>
<figcaption>Distribución del grado en la red bipartita</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="análisis-de-k-core-proyección" class="level2" data-number="5.11">
<h2 data-number="5.11" class="anchored" data-anchor-id="análisis-de-k-core-proyección"><span class="header-section-number">5.11</span> Análisis de K-Core (Proyección)</h2>
<div class="cell" data-tbl-cap="Análisis de K-Core - Proyección Bipartita">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular k-core</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>coreness_bi <span class="ot">&lt;-</span> <span class="fu">coreness</span>(g_substances)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>max_core_bi <span class="ot">&lt;-</span> <span class="fu">max</span>(coreness_bi)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>kcore_analysis_bi <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Sustancia =</span> <span class="fu">V</span>(g_substances)<span class="sc">$</span>name,</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">K_Core =</span> coreness_bi,</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Fuerza =</span> <span class="fu">strength</span>(g_substances)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(K_Core), <span class="fu">desc</span>(Fuerza))</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Resumen por k-core</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>kcore_summary_bi <span class="ot">&lt;-</span> kcore_analysis_bi <span class="sc">%&gt;%</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(K_Core) <span class="sc">%&gt;%</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">N_Sustancias =</span> <span class="fu">n</span>(),</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">Principales =</span> <span class="fu">paste</span>(<span class="fu">head</span>(Sustancia, <span class="dv">3</span>), <span class="at">collapse =</span> <span class="st">", "</span>),</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">Fuerza_Media =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Fuerza), <span class="dv">0</span>)</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(K_Core))</span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>kcore_summary_bi <span class="sc">%&gt;%</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"K-Core"</span>, <span class="st">"N° Sustancias"</span>, <span class="st">"Principales Sustancias"</span>, <span class="st">"Fuerza Media"</span>),</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"c"</span>, <span class="st">"r"</span>, <span class="st">"l"</span>, <span class="st">"r"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Análisis de K-Core - Proyección Bipartita</caption>
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">K-Core</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">N° Sustancias</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Principales Sustancias</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Fuerza Media</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">15</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">Alcohol, Marihuana, Cocaína</td>
<td style="text-align: right;">1929</td>
</tr>
<tr class="even">
<td style="text-align: center;">10</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Metadona</td>
<td style="text-align: right;">52</td>
</tr>
<tr class="odd">
<td style="text-align: center;">8</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Fenilciclidina</td>
<td style="text-align: right;">20</td>
</tr>
<tr class="even">
<td style="text-align: center;">6</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Esteroides Anabólicos</td>
<td style="text-align: right;">28</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="visualización-estática-bipartita" class="level2" data-number="5.12">
<h2 data-number="5.12" class="anchored" data-anchor-id="visualización-estática-bipartita"><span class="header-section-number">5.12</span> Visualización Estática Bipartita</h2>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Preparar muestra para visualización</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>sample_patients <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">unique</span>(bipartite_edges<span class="sc">$</span>HASH_KEY), <span class="dv">200</span>)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>sample_edges <span class="ot">&lt;-</span> bipartite_edges <span class="sc">%&gt;%</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(HASH_KEY <span class="sc">%in%</span> sample_patients)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>g_bi_viz <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(sample_edges, <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>type <span class="ot">&lt;-</span> <span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>name <span class="sc">%in%</span> sample_edges<span class="sc">$</span>sustancia</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>node_type <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>type, <span class="st">"Sustancia"</span>, <span class="st">"Paciente"</span>)</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular tamaños proporcionales para visualización</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>degree_bi_viz <span class="ot">&lt;-</span> <span class="fu">degree</span>(g_bi_viz)</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Para sustancias: tamaño grande proporcional</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Para pacientes: tamaño pequeño uniforme</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>node_sizes_bi <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>type, </span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>                        (degree_bi_viz <span class="sc">/</span> <span class="fu">max</span>(degree_bi_viz[<span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>type])) <span class="sc">*</span> <span class="dv">15</span> <span class="sc">+</span> <span class="dv">5</span>,</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">2</span>)</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear layout bipartito manual con mayor separación</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>n_nodes <span class="ot">&lt;-</span> <span class="fu">vcount</span>(g_bi_viz)</span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>layout_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, n_nodes, <span class="dv">2</span>)</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Separar nodos por tipo</span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>substance_nodes <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>type)</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>patient_nodes <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="sc">!</span><span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>type)</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Posicionar sustancias arriba con espaciado proporcional</span></span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">length</span>(substance_nodes) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Ordenar por grado</span></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>  substance_order <span class="ot">&lt;-</span> substance_nodes[<span class="fu">order</span>(degree_bi_viz[substance_nodes], <span class="at">decreasing =</span> <span class="cn">TRUE</span>)]</span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Espaciado proporcional al grado</span></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>  weights <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(degree_bi_viz[substance_order])</span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>  positions <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(<span class="fu">c</span>(<span class="dv">0</span>, weights))</span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>  positions <span class="ot">&lt;-</span> (positions <span class="sc">/</span> <span class="fu">max</span>(positions) <span class="sc">-</span> <span class="fl">0.5</span>) <span class="sc">*</span> <span class="fl">2.5</span>  <span class="co"># Más espaciado</span></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(substance_order)) {</span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>    layout_matrix[substance_order[i], <span class="dv">1</span>] <span class="ot">&lt;-</span> positions[i]</span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a>    layout_matrix[substance_order[i], <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Posicionar pacientes abajo con distribución uniforme</span></span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">length</span>(patient_nodes) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb31-44"><a href="#cb31-44" aria-hidden="true" tabindex="-1"></a>  layout_matrix[patient_nodes, <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">1.2</span>, <span class="fl">1.2</span>, <span class="at">length.out =</span> <span class="fu">length</span>(patient_nodes))</span>
<span id="cb31-45"><a href="#cb31-45" aria-hidden="true" tabindex="-1"></a>  layout_matrix[patient_nodes, <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb31-46"><a href="#cb31-46" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-47"><a href="#cb31-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-48"><a href="#cb31-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir a tidygraph para ggraph</span></span>
<span id="cb31-49"><a href="#cb31-49" aria-hidden="true" tabindex="-1"></a>g_bi_tidy <span class="ot">&lt;-</span> <span class="fu">as_tbl_graph</span>(g_bi_viz)</span>
<span id="cb31-50"><a href="#cb31-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-51"><a href="#cb31-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear visualización con tamaños proporcionales</span></span>
<span id="cb31-52"><a href="#cb31-52" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(g_bi_tidy, <span class="at">layout =</span> layout_matrix) <span class="sc">+</span></span>
<span id="cb31-53"><a href="#cb31-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">alpha =</span> weight), </span>
<span id="cb31-54"><a href="#cb31-54" aria-hidden="true" tabindex="-1"></a>                 <span class="at">color =</span> <span class="st">"gray60"</span>,</span>
<span id="cb31-55"><a href="#cb31-55" aria-hidden="true" tabindex="-1"></a>                 <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb31-56"><a href="#cb31-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>node_type),</span>
<span id="cb31-57"><a href="#cb31-57" aria-hidden="true" tabindex="-1"></a>                  <span class="at">size =</span> node_sizes_bi,</span>
<span id="cb31-58"><a href="#cb31-58" aria-hidden="true" tabindex="-1"></a>                  <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb31-59"><a href="#cb31-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">ifelse</span>(<span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>type, <span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>name, <span class="st">""</span>)),</span>
<span id="cb31-60"><a href="#cb31-60" aria-hidden="true" tabindex="-1"></a>                 <span class="at">nudge_y =</span> <span class="fl">0.05</span>,</span>
<span id="cb31-61"><a href="#cb31-61" aria-hidden="true" tabindex="-1"></a>                 <span class="at">size =</span> node_sizes_bi<span class="sc">/</span><span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb31-62"><a href="#cb31-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Paciente"</span> <span class="ot">=</span> <span class="st">"#3498db"</span>, </span>
<span id="cb31-63"><a href="#cb31-63" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Sustancia"</span> <span class="ot">=</span> <span class="st">"#e74c3c"</span>),</span>
<span id="cb31-64"><a href="#cb31-64" aria-hidden="true" tabindex="-1"></a>                     <span class="at">name =</span> <span class="st">"Tipo de Nodo"</span>) <span class="sc">+</span></span>
<span id="cb31-65"><a href="#cb31-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb31-66"><a href="#cb31-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Red Bipartita Paciente-Sustancia"</span>,</span>
<span id="cb31-67"><a href="#cb31-67" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Muestra de 200 pacientes | Tamaño de sustancias proporcional a conexiones"</span>) <span class="sc">+</span></span>
<span id="cb31-68"><a href="#cb31-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb31-69"><a href="#cb31-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb31-70"><a href="#cb31-70" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb31-71"><a href="#cb31-71" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Prueba3_files/figure-html/viz-bipartite-1.png" class="img-fluid figure-img" width="1344"></p>
<figcaption>Red bipartita paciente-sustancia (muestra)</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="red-interactiva-bipartita" class="level2" data-number="5.13">
<h2 data-number="5.13" class="anchored" data-anchor-id="red-interactiva-bipartita"><span class="header-section-number">5.13</span> Red Interactiva Bipartita</h2>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Preparar datos para visNetwork (muestra)</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>nodes_bi_viz <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>name,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> <span class="fu">ifelse</span>(<span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>type, </span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>name, </span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>                 <span class="st">""</span>),</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>node_type,</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">degree</span>(g_bi_viz),  <span class="co"># ← tamaño según grado</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="fu">paste0</span>(</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ifelse</span>(<span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>type,</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>           <span class="fu">paste0</span>(<span class="st">"&lt;b&gt;"</span>, <span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>name, <span class="st">"&lt;/b&gt;&lt;br&gt;"</span>,</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"Pacientes en muestra: "</span>, <span class="fu">degree</span>(g_bi_viz)),</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>           <span class="fu">paste0</span>(<span class="st">"Paciente ID: "</span>, <span class="fu">substr</span>(<span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>name, <span class="dv">1</span>, <span class="dv">8</span>), <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"Sustancias: "</span>, <span class="fu">degree</span>(g_bi_viz)))</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">shape =</span> <span class="fu">ifelse</span>(<span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>type, <span class="st">"dot"</span>, <span class="st">"square"</span>),</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="fu">ifelse</span>(<span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>type, <span class="st">"#e74c3c"</span>, <span class="st">"#3498db"</span>),</span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">font.size =</span> <span class="fu">ifelse</span>(<span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>type, <span class="dv">14</span>, <span class="dv">8</span>)</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Layout bipartito manual</span></span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>layout_bi <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="fu">nrow</span>(nodes_bi_viz), <span class="dv">2</span>)</span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>substance_idx <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>type)</span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>patient_idx <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="sc">!</span><span class="fu">V</span>(g_bi_viz)<span class="sc">$</span>type)</span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Posicionar sustancias</span></span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">length</span>(substance_idx) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a>  layout_bi[substance_idx, <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">400</span>, <span class="dv">400</span>, <span class="at">length.out =</span> <span class="fu">length</span>(substance_idx))</span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a>  layout_bi[substance_idx, <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">200</span></span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Posicionar pacientes</span></span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">length</span>(patient_idx) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a>  layout_bi[patient_idx, <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">400</span>, <span class="dv">400</span>, <span class="at">length.out =</span> <span class="fu">length</span>(patient_idx))</span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a>  layout_bi[patient_idx, <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">200</span></span>
<span id="cb32-36"><a href="#cb32-36" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-37"><a href="#cb32-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-38"><a href="#cb32-38" aria-hidden="true" tabindex="-1"></a>nodes_bi_viz<span class="sc">$</span>x <span class="ot">&lt;-</span> layout_bi[,<span class="dv">1</span>]</span>
<span id="cb32-39"><a href="#cb32-39" aria-hidden="true" tabindex="-1"></a>nodes_bi_viz<span class="sc">$</span>y <span class="ot">&lt;-</span> layout_bi[,<span class="dv">2</span>]</span>
<span id="cb32-40"><a href="#cb32-40" aria-hidden="true" tabindex="-1"></a>nodes_bi_viz<span class="sc">$</span>physics <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb32-41"><a href="#cb32-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-42"><a href="#cb32-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Edges para visNetwork</span></span>
<span id="cb32-43"><a href="#cb32-43" aria-hidden="true" tabindex="-1"></a>edges_bi_viz <span class="ot">&lt;-</span> <span class="fu">as_data_frame</span>(g_bi_viz, <span class="at">what =</span> <span class="st">"edges"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-44"><a href="#cb32-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb32-45"><a href="#cb32-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">from =</span> from,</span>
<span id="cb32-46"><a href="#cb32-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">to =</span> to,</span>
<span id="cb32-47"><a href="#cb32-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"rgba(150,150,150,0.3)"</span>,</span>
<span id="cb32-48"><a href="#cb32-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">highlight =</span> <span class="st">"#FF6B6B"</span>,</span>
<span id="cb32-49"><a href="#cb32-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="dv">1</span></span>
<span id="cb32-50"><a href="#cb32-50" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb32-51"><a href="#cb32-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-52"><a href="#cb32-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear red interactiva</span></span>
<span id="cb32-53"><a href="#cb32-53" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(nodes_bi_viz, edges_bi_viz, <span class="at">height =</span> <span class="st">"600px"</span>, <span class="at">width =</span> <span class="st">"100%"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-54"><a href="#cb32-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(</span>
<span id="cb32-55"><a href="#cb32-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">highlightNearest =</span> <span class="fu">list</span>(</span>
<span id="cb32-56"><a href="#cb32-56" aria-hidden="true" tabindex="-1"></a>      <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb32-57"><a href="#cb32-57" aria-hidden="true" tabindex="-1"></a>      <span class="at">hover =</span> <span class="cn">TRUE</span>,</span>
<span id="cb32-58"><a href="#cb32-58" aria-hidden="true" tabindex="-1"></a>      <span class="at">degree =</span> <span class="dv">1</span></span>
<span id="cb32-59"><a href="#cb32-59" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb32-60"><a href="#cb32-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">selectedBy =</span> <span class="fu">list</span>(</span>
<span id="cb32-61"><a href="#cb32-61" aria-hidden="true" tabindex="-1"></a>      <span class="at">variable =</span> <span class="st">"group"</span>,</span>
<span id="cb32-62"><a href="#cb32-62" aria-hidden="true" tabindex="-1"></a>      <span class="at">main =</span> <span class="st">"Filtrar por tipo"</span></span>
<span id="cb32-63"><a href="#cb32-63" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb32-64"><a href="#cb32-64" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb32-65"><a href="#cb32-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visInteraction</span>(</span>
<span id="cb32-66"><a href="#cb32-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">navigationButtons =</span> <span class="cn">TRUE</span>,</span>
<span id="cb32-67"><a href="#cb32-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">dragNodes =</span> <span class="cn">TRUE</span>,</span>
<span id="cb32-68"><a href="#cb32-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">dragView =</span> <span class="cn">TRUE</span>,</span>
<span id="cb32-69"><a href="#cb32-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">zoomView =</span> <span class="cn">TRUE</span></span>
<span id="cb32-70"><a href="#cb32-70" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb32-71"><a href="#cb32-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(</span>
<span id="cb32-72"><a href="#cb32-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">smooth =</span> <span class="cn">FALSE</span>,</span>
<span id="cb32-73"><a href="#cb32-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="fu">list</span>(</span>
<span id="cb32-74"><a href="#cb32-74" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">"rgba(150,150,150,0.3)"</span>,</span>
<span id="cb32-75"><a href="#cb32-75" aria-hidden="true" tabindex="-1"></a>      <span class="at">highlight =</span> <span class="st">"#FF6B6B"</span></span>
<span id="cb32-76"><a href="#cb32-76" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb32-77"><a href="#cb32-77" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb32-78"><a href="#cb32-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visNodes</span>(</span>
<span id="cb32-79"><a href="#cb32-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">scaling =</span> <span class="fu">list</span>(</span>
<span id="cb32-80"><a href="#cb32-80" aria-hidden="true" tabindex="-1"></a>      <span class="at">min =</span> <span class="dv">5</span>,</span>
<span id="cb32-81"><a href="#cb32-81" aria-hidden="true" tabindex="-1"></a>      <span class="at">max =</span> <span class="dv">50</span></span>
<span id="cb32-82"><a href="#cb32-82" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb32-83"><a href="#cb32-83" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb32-84"><a href="#cb32-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(</span>
<span id="cb32-85"><a href="#cb32-85" aria-hidden="true" tabindex="-1"></a>    <span class="at">groupname =</span> <span class="st">"Sustancia"</span>,</span>
<span id="cb32-86"><a href="#cb32-86" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"#e74c3c"</span>,</span>
<span id="cb32-87"><a href="#cb32-87" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="st">"dot"</span></span>
<span id="cb32-88"><a href="#cb32-88" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb32-89"><a href="#cb32-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(</span>
<span id="cb32-90"><a href="#cb32-90" aria-hidden="true" tabindex="-1"></a>    <span class="at">groupname =</span> <span class="st">"Paciente"</span>, </span>
<span id="cb32-91"><a href="#cb32-91" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"#3498db"</span>,</span>
<span id="cb32-92"><a href="#cb32-92" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="st">"square"</span>,</span>
<span id="cb32-93"><a href="#cb32-93" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">5</span></span>
<span id="cb32-94"><a href="#cb32-94" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb32-95"><a href="#cb32-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>(</span>
<span id="cb32-96"><a href="#cb32-96" aria-hidden="true" tabindex="-1"></a>    <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb32-97"><a href="#cb32-97" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="st">"right"</span>,</span>
<span id="cb32-98"><a href="#cb32-98" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="fl">0.1</span></span>
<span id="cb32-99"><a href="#cb32-99" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="htmlwidget-00f9589077110634c4d4" style="width:100%;height:600px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-00f9589077110634c4d4">{"x":{"nodes":{"id":["000906e5d2501066b0e92ae64d002476eaa619ddcd45d020e31029e7edbb1122","00429868053e89340ea087519aa67b0ab9ea79e3409684b0900b1669e2071f6e","00616d91badd7e5d9d4d20c0a87279c3316d662499a150486ac1fdd4ea0c973e","02f6dc313c904d331470e6bbf254c31cf66ef078c3214fcbdf15c092c0f41a3b","0485d16af244a71f3b798ec4619b20bd8ad21d6da09c3c17375c6719707e87e3","049cdc898ce8c1355457448a8ef5a90c51d9df800e1c118d467f9a8ba35d31d6","050bdb11d64438db51743e2800ff180cac78e3df540261ef359e4d6af3197050","092780e6edf072a6c66abe441d042e0d1529ed85f2a4d1c7f5931f0e089564b9","096ef0c0c1e1342ef6ef7df65aeea1d47f4b3eddcd6d0262be490566df775ff3","0b05f9edd6a5822f30a464b3f445c161b551a140ab7b493156eb989b333d1cc4","0b7bf7d71d57bee30a0f732fb6a5b0069aae494b719e801fce1529952682c7f2","0c30f71508850b2c15d4f73c8a9698bbad863642d1a60a1903d79dfd21ca1942","0cc839882e54097abd0d78f197b4eb4bcc0dbaf01e3dae15db070d6164dbcb3a","0d207d5c21c0ef16cea9120f5b908faed6ac976be754cec095424ea374e70ba8","0dd6fae9015b9c1df0ee2fb140de6b724825d4acbbf9c49313e3d1ed51f72ea9","109de45f923eeba96daffad8284c48fc394ece59967a7a46c06495a8a0730cc4","11365797baf6a26293874ce6e2aac27acd6585f09404cd431942c822481b867d","12db7ed624491a0315d776066a5f5e763f938411157db7b852d358c31751a093","14d98389b90a4dae8ed5fa66e7a9a8844d486a5b58d379b042b8ce6cf65717d8","15328b964a786e5aca1c856d45ec776ac74b6906905e93aa6583a167d0cec684","16ca08909e3564cf4e720d1ef310d83a04da9fc451f0622fe246f29a8c81856b","184fb1d893da095db5c8fdddca8e3acc727c3ac9d83e490cb4c7425e314f667e","1a38a8c1f8658dc68e2aa7a44d9985773e6a486c3051f5bad9a1a7065392dd68","1a45bc243a9a8884387437f0d980ee11d7fdc30e17de4637af4edca75c1f4ac1","1cf5d49580596ef6b14dff09628151d45be161c07a7d57c1664a1a8b98b113c2","1d0308b89b71c4d138e93c776ee8d3f8eb92974052a9f25d38bfceab26c09856","1fe756f2e75abaa34b6453121e46fc1bf28e3198d926897be90e5187df45a8a0","207a3e980ed04bcfe4a22feb3be167d82015a3e589c909f38bc711ebdb3c349a","2337a0d83912723ae8d99e35cbbda36b030e7f32ba4de57f0c82979c84b01495","25b99382c83cab147d9a78ac589b76de65b147888251abf8cbc645cfa8f5aeaf","273f2ba6975c3d3f254e2aafc68e7b2833f24e83234c5aea73b26fcb0fcd755f","2b1c95a2f5a180371e6ae8fa377a174f813756da90c23507e423c9187138cfbc","2c5804910c467627f36ce7006e08e1589909ab895c4f3d2514e0ed1e4d97a7a6","2ef5bdf5587b261edb6eab6123e5357d31accaeb5b2421317566d10a78ff4eb9","2f3e43b101bc385a757a938936d17bef4f7970327b0dcfe58170190a63d24077","2f402dc2a9f5c18e0c977da6fa79c9a1abd141a8b719fbf7707174dc1462d420","30f1d0e2727536c41588afd77bc89a25143f6b138288d7935be046f09c351a90","31b802de767ca70b7e16b0ef1ef9d8317cb6eaf17f907b06f026dd8510a9c2fb","37002d36ce34d3cc5e822e7c6472664a24064211648664d80fa142de799067a1","379b90731d465dfa973f6f7b899189390a6ea7357e821f0c7e503df4ca0d863e","38e0d513959280592571c8a963c460ec6492022dad807b01b2366fc4d0e4d964","3a245bb4c8eea2cfcfe1025faccdd18a0f8141270c677fac4c63da9376e24e4f","3bce07e19e197572047aea47b0c70ac786ea5cb82ff72c2b20ecd9a0960ead17","3c2a94eec3c38f8ebf9cc6a50acd1738a9312af47161656daa7058556a44d62e","3cfd5db5352dbb4dfca6791f34e475d000592f1c5a941d08d3feb7d9a5594b81","3d153e80fdffe4cbb78d971bd7f50ca7252abd23a6f434c466626f865d3e8741","3fb012ea9aff44a8d94b0315e869c766605b50b68517127cdf109c9b084dae0f","43ad88f2e55c84139615a6d4286a7abe2a1e23562f13e437f7a82e9fdeb5c6cb","44b859e54b9dab85a6fe2ada9255e37eb70240583d11f47e3b207ca4decbbdef","44ccd0a55950c3c35c2d2df178f90aec08eaa35bd62060aedebdb5dd05df0461","450cac448ac9f75a8bea07ece584f902139034b5c6fa3ec25fd0245f6eb777f3","486e7f539ef5d1c32fff914ee330d2c8f85689f0a70f3c8bf5bdf4a8248f1180","4b296da4d27cf19a8d418bba033d926ad37ed80d7976db9ba5f0761a781ea303","4c6be3f42974eec1e3dfcf981957ae45276ba4a24847d157fd7c87e8d0c2df0a","50108350cf1de3c6a16d5ef1b5725e2003799e2cf25555fec6ae846e0961945c","5014f45744d1d822bcdd47edb028e5117fc6045c636b66bd597b1270de4ebce1","50196eb838a1031add511dae319e2fbc133cbad51f0bd464d7ffb78ba1df41f0","5032485b08ee368783e9f84a45e59ef3983af54a15e137c5a79b90ad4ae60672","51c89cd00f6e31a291803fbbfe7b93f0318a19865e8580cb242836156b8feab9","52ca2ef117561f5b209b09061a9d2bbb3a8cc1ee3a840901a8b810625d85ddaf","54370e5921a9b1d419f43cf18f91de8c18cf20fdb8ef7807a71b29921b56b4ac","55f16f56e3fbd22d089d1bbb037850a155ef42191beba6042c5572a627f08c1f","57aa4612a9d2bbcb5d564e46c524bc9ccb6050bcb2fe8796c193d39b4cb03938","580beecd3da414c58e053311d604f183f958433d948a57cba7125e767c0e8d68","5a1844578eeb2ffb9c46c30425fb67e80ff6abf4f356f21b7329497fc7d36e04","5b0ceea7d591da81f21abdc0c56eb43c3b85b1f472262c5d31817347985773b3","5c910bd4589a4bb379396e9ecbd084df9723df03984dfabad7b808670c9c3adc","5e4c44be57c8ec2b25382b0266886159eef0f26dc8c0629553e53c79e912d592","5e647e6f2c74f3deb17a2a62338c4af8ebd3c52d7965207653ae4757f4c6188a","60dc21c0adad22e8f001cf6e74e7b75917115dfe88df1e534714569e3b8a3ae2","61a798c621d27f53020d27caf6a904196b72f1fd94b3b2a9f3229348ef19b5bb","664795645fb4a83ec4c17d16a7c320c16822fe8ddc908ea64de223acd9ba9053","666287acfb4a0e2fda830cf52cebf07d607125910565d9438db9a8f745feb0be","69694e5aaf27625f4387128364d1baa9306ececaf122b46390616935fe0e818a","6a9a82377f7509fb483d5baa46168169cffc02231fb00a9ce3a07e81b64163e0","6ed92c592a5cc44c4228f08f1c9e5a1db2a051a19974725f17dcff4a435d2ada","711296199d740a4c72dea2f38c75fc03bc8affe4d9733f120493f4036976b0ee","717aae0b71d47ecc0fbb51b8f7efc8623b7497c2d365c59ccb96f37d862eaefa","71e71f677acd18a45fed85d38c78480de3a56818e53aa7c86df04a5eab8b3413","72fb0e2be4050481b6c5f1e2fe016879b26f467184217aa508e8725796ee11bd","7a0597af7fb4520771ee64f7bc7c51e382a293331feaa33558eba34ba9b25019","7a5528526671dc5962a5e9c09f5328198f0ec25c55e42a64cdcc16a94bd456a5","7b5efb065869cb806e3862990b513a69763207242eef0b2b20174885846cce94","7b8ffecec48d814f043064df90d12ba415570cb2088894b900357ecda0c4e0c1","7e719fbde88f4b922de53e3e08ee0e1910e867bd4fc6eccdd381024290d9081a","8084b42950f147e6127d0ded8c27a99831a38ae6f897019d4066b3094365c425","80c2272658feb5d23a3d389e3e1fd840d4001f9a263f01888c16f11ec595a977","8267636c073b6f7a6274bd9901e568247506b79576e5d7578aa02e094851a1b3","8281f2b844af11e9cda3f5d0f68be734ec18aa09ff2df16bdfbe5a6da01a5958","829c92b1356d49cae538a2e35d4de6e8ae94a9e97b22db58f22b9c9c73aa22ba","82f63b6816d46d653d1fcf3b0ff40cce633fcce802e2450463f9f3a579e3b41b","838002e2336e9c72a2c8e6df6b7e80daf3a43780e079b4f44e5fe7f6a122b0f0","845494f0770223b4b7cf7c1d1752a6837602b74558b422c83298e6f333e23cfd","84e64546d89b95ee86df648d973ea8324def74a65b747d19e6fd6ed0aced8206","8780269f1f17f228e76d49eb4e99f5307bbeb90e4e97ef2d32fbd3f94146228e","88a8dc1b0d07fde5f09f0f15e24f90be257f02110c82a8b1ab7f5a83ce6a58c0","8c3f29eddd61f0b1bd43ae7e37e6c273df6cea00931dc5a6fe295f657001ebae","8e42d5ba3fcce22e914111548f69f5da07b59886f4ea705d395ce48ce8ba0432","8e74474c0fda8733aa3b9a9ecff4105524fe693b8fd86f265aad332cb61cef0d","90a684906e7285378f5a28a5f0f1d99df65d7dd7f430eb173bf685a6fd01deaf","9228b55e5fb5f1d2af98bfebf370d2164258d114b295025273228a78b4d27194","922f99c7b43b3e051ffbf499aca3eae69996443a199b5ec790dc881e355c89bf","9291c273b1df93c8f002a3d7a991c019f55a6bc7732a239bd530edadaabad415","92ef180ebad129a638a0d5959c09354f6628642b4382d70632e7ddda09b749f4","9346d908a77b329fefc96fedc74a77e867c90389e62137614a18cd71a9e60982","9351e5604abc93d1e0ad9910ee7bec22291ac95c5bd63c392792f76d47688e7f","93b69c43b67fbcbae4985fbc63432b0d0a2a68abcb8c21cef99d5c341d2b1565","93ceb77aef639e05ed980501649d5056a048782e16950d7d65c1d2d925112048","94adeab1b91c8aff69e90daec890104a72bda07b19ef943045bd37ce3989a264","94d42379b431f42716e6201c958ef6e37db32dfbe5e596b77584d5316e30e17e","959485466634dbc22387f73ac697976d385f874b836a5f5cbe3dc239f2893b69","972fa627840f3c30a5dd24db6d995d5e2ee25c9717747bf0427b61667dcac874","9755af84ac65f54033aed35060a5537a81ba681223cc4dfd1a6b2bdac9c1905a","9757d3d1caa7a78ca73d97555732a095dbdc3173c96e63464f1715820d90e468","98002b9fe09afc64b68bb2d25529fdb893e2a710a58f475c540558fda120cc0e","9a1abcf805fe6aa0aa9a1a6fc3d886dc2f92279bdbccf5868c7adc219982516d","9a860998583d81ad7b92f83ecd58fca203754ade8ae3f149726e1e1756e23dee","9a8ae2d140a0a441eb4fbb4d0b079503b2f51035333efdee7db9660235b91e52","9bb4e902e195082bbc9c9357061b93478acdf6c713205c22996828e4d85551fc","9d72513f098e7cdb0a2fd537b6867c8afd9cab06ddde9571f1275f23e1683743","9fa26123de6d313026fda6fdb916cd56c4eb53499d57113d272216ec8d8b8599","9fcaf46c487e65f4b25522161dd9744623ef1781a809b5f04c97cfcab5f37d24","a39e693b341115b594b69fdd5df34bd3441e111c57a4ef6cb48ffecd2c4954fb","a50c9e5b6e2f50843dda6f683593ee63ccb7cbd93ae27360ed35911e7dc22b56","a5860ae06882a74de33be8c23f3ad8f3c30a6079049ffbedbf23096e181b82e4","a6cbf78497a41cd9ef7f1dc2106307b5a3fc46d13feccce2cd6df077cdbc74b9","a8be41827948c2a2017d87209e376204b2e4d1a7617ee5824ecf1afc8ab422dc","a9b4ec0061a989a376e90a9546eca795f3dfbee9ce869b759e4a266cd64c9c79","ab5b7fbbbeb5dc96345ccc60ddeb895a73181e9fd36787747a0abdaefc359aee","ab61f40e8812e76c52ceb3140a61ff68c9a26f94478b08d9bafbd1d9a2f26d90","abe1278887e0795a6e5a9e35fd70d2ae3f5f96aba1910e4b9d4d5494a070eea2","adc04a54b096aae05c9f82087cdf74e54db52c28524f3a2b26fabb5aae40fcbf","ae4bff7d9ad960ce16e4a2ca16b59159f0e6c25e142dbd303bb7e73ce4773d24","af2760619c227657d5098752df1658e5b1b270c4286fec86794b8d6342e760cb","afbb463f17de40161d72b8cd57f65c7cb54846baa92429169f9a3b7f690de72a","b19ac2381264bec69ff99d3f134ac275b672ee53812238c7801a67900a4f0ff4","b2a0718737c12651da94ea7edebf1769f1f1e023b7abadd18b2456d850fa33da","b2b66f393d857b6f3e4a0ea1320b54726b196fbd68b38daad643d05cb5983d4d","b2c816f8410b8dd8c5aa09293523cf3fc55c7ee402e0d0bca124d5cbf818514d","b37f81603e89a2c14c9acc37780cfe01dba3854b7a8648eabf59a4a00cc6c61a","b505ee7977b4ac36bfc5c5b1489f2552e0a9bbf61c45732a23610c9ff8870312","b581d863d5a3a896138a79e0bcc1c6cb5f3604aea8e5ebdcf2b7bbff7a96a5bc","b65ae7ae3459c31734ddc7bbeacfbdab5e8056b9d1bbad2a53d29e08689822d8","b683944227cf20248720c1d4e954e61435a05481af0f135ad5b1e167e2ad4f12","b77030dd1838e20392f6823068505a49e3dc9603098492b75d2fe07f1055360e","b8710beecce18efa37a3faa031eeee3c94c56a43be1d891adb0423f74f90e8e3","b9e0b325c58a78a755e81e10218c3f350ca23e1fe35378967618e0f6b6f8cd3c","bad99e81aee8c0fb2babf9c832a4d217a434e4350c879bd55c7a1bbfaeda18f6","baf1727f6aa69ca494e45485a07e5db42735c709c9c78fe5d182fd4951bee330","bb83f54021a14d5e56ddc61f0ca5c7e651291396c4986a158d81cd1345960662","bca5d2b1f4e7ba699965fccb161cb80ca060f28cee327dc07787fe542e0135dc","bde304e7a77f5fd6de4e29ed3ddf662e5136dcd8277eca97acc2c72a74d36630","bfea882e01db26e43e9d4ba17ab70ff8624aefcfcd262311d8c07e2734371a44","c182821046950b1c68db64a9f23d504191ae060189588b2e1b14b8035c611ac6","c3a0e41842ad7d8ccd18b0d07b5b2f0f5864aa9bd3f272e0047c3fbcb5865e62","c692c128dfa18150503773ad209546ed5fc825986df5306a05141ee3f4e45571","c6a6523ebecc517706bb5f743d7b5e4ce31a8bb1e86765431d75ba91742f4b9c","c781ac55cd49ed1f52d696a9a1cb0d2fefb8277b82c83ec904005397038a1adf","c9e0b20c5b6a4fa553d0fdf15c4a078304fd2db3948ad5c3c1ed8f307b5cb48b","cb1644798ac711c20d54b7a1dddef86668f3795faa97bf393364f6e751994d22","cbe4aa25467fb7f8f4729b5b4b496d1323919ecaff833b1abbadb1f0ec1833ac","cf9657b510050e2f593eb6aa09467607c8b64710c864be2f9c9d72d848877a0a","d0b8bd0ec875fb1728bb51e9871795743f6ce1204ab64ed733b0e5741378e4e7","d13d49834d640991a68662b316075a966b62b81a8e3a741a7b2213f77910e6e1","d2aa819b964c5bcc0426d62df38ae30857290dd70fbf136081d764594a44a750","d3280d4ef53efdbfa24b3fd264fb74ff84c57cbbf0f2fc56327d8229e263cd93","d440eb45b9eec08908d6e8a1e9f1a6f5f6d19d66eab5757e228e3360d6661a61","d551c49d72ff52339212f86e6109202080f6ba7272e360e139b6bc5507100c96","d86377e2ebd31e6db458ac68563dc71060b67218a0468cf1fdceb7d8e7889a34","da66570eaf4398afb9fd603cfacddba3ecca4820aca154e16b31d4a20c45fe84","dbe7ddec7591332da15c3c4a1d4a2a1559d455a67b6c31a390ea546ea259c045","dc336dfbae788c0c1aee16047b5a441541020f44bb5312d9f8d0980922ff4206","dc8b56351e1d0436d6677a3176cfd8ca2533f70b0f1299c14e5048e4207e7d48","dd4ea90b12dadd2396c13a7d3f2139c6f248004bf73d8396c7e36a4002325c25","de9254897dc0af74eb03cf70242828514591b8f13d62d5f9a70ae7774aa3ab44","dfabee347dc4d30c7db2cb89d57eb8b430d900a28324ec85ce1fce25ee4071d8","e010328e97dcd4ce53605cb28f7ed549753705ab60886b35929bf8820e3b14d3","e5005207bd793f9efeb724cf88578dba00370aca162f61d5dc6b0313d47fa01d","e7c91c00f3cc73cc11c5c8253e59f90311ec2dd56c4c2e30141ac95e817c086b","e7e4d300bf067edef7f03fb9e7e5aa591cd7942771c1ead87da0dcbe2041ebd5","e8bbb83d6126f8d9434137385a6ab1d3ab0c76b5733a283faf7c01f789ee90fa","e95014c85da7518e63991bc00ad2df3f114f6b8c0c6e5733d296e3326b58a70e","e97140a4ca9686e6a440827b7beb8947d612fd60c0b471564e19a5c9f1d98d60","e9739397f74c2501289059108cb060319acdf35070d6d5dffe2023390a999fce","e9b66c510eda7623fde7c16a1228e9b408264f9f28315fb97f381ab760581e4d","e9d00d6bd5343443a644e3938e10423677873a36521cb261d37478bd1d056879","ea143d3dcda3d1a2337c71cd43d2b700c6639c20368d5641136cc1300864d51b","ee8b90bf93ac51b41c075f5233af33af338a4a01afb84cf15ee63107c8948828","ef210f85826c904d3b7be5c7667caca00821a637634e4c2beb895388301403de","ef687765b1a70f42657d3a40b6fdf2dbe0e70f8364cc7711a62e26212ee9a56c","f244b7ec6f0bcfab422fa5238f954927aebb8b563dea1a262f3cfbbc5ab4ccfb","f39c09aba69bb11c3026ec4b542f7e1e4b1d669acdd8c62abd3e8d95d94be1d2","f5f32236072094abc1b4dc4cded9692d496df6f687a74e6232121d154e5364a2","f6fda49d6b92561a6b8ab6452780fb13402a935133661d2ca2609b1f86572c5b","f925eee200cbf0b0b1b45d8550204561ff4ec422923ca37ad5d1c84be0464616","f96d65dd467f5d6f91cddf4e2d216253a4451282430963ad9a488fd0c27484ff","fabbe83496a926da732c87837864840d3952fb4805c703ea4efc74106523b698","fe40f94b85dbd75b7c8eea8e0930618b961479780ea24fac952a64d664c5f18a","ff721830335e197b3f31fb463d310e944c49c2b4bf11f236a60a5edca363fab2","ff7f258c404a241f8cf311e0e771d04e409945a3b8abccfdc97d8e692eebfa72","Marihuana","Alcohol","Pasta Base","Sedantes","Cocaína","Anfetaminas","Otros","Alucinógenos","Inhalables","Heroína","Hipnóticos","Opioides"],"label":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Marihuana","Alcohol","Pasta Base","Sedantes","Cocaína","Anfetaminas","Otros","Alucinógenos","Inhalables","Heroína","Hipnóticos","Opioides"],"group":["Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Paciente","Sustancia","Sustancia","Sustancia","Sustancia","Sustancia","Sustancia","Sustancia","Sustancia","Sustancia","Sustancia","Sustancia","Sustancia"],"value":[1,2,1,1,1,1,1,1,2,3,1,2,3,3,4,1,2,3,3,5,2,4,1,2,1,3,3,2,2,2,2,2,2,3,2,2,1,4,2,1,2,3,2,1,2,1,3,2,2,4,2,4,3,2,3,3,1,4,4,2,2,2,3,1,2,3,2,1,2,1,4,4,2,2,3,3,3,2,3,1,4,2,1,4,2,1,3,2,3,4,4,4,2,1,2,1,3,3,1,1,2,3,3,3,4,3,1,1,2,3,1,1,4,2,3,3,1,4,2,1,3,1,3,1,2,4,1,3,3,3,2,1,2,2,4,3,3,1,3,2,3,3,2,2,1,1,1,3,1,2,1,4,1,3,2,2,1,4,2,2,2,2,1,3,3,2,4,1,1,3,2,4,4,4,1,2,1,2,3,2,4,1,2,1,3,2,2,1,3,4,2,3,2,3,2,3,1,2,4,4,104,158,95,7,82,1,7,1,1,1,1,1],"title":["Paciente ID: 000906e5<br>Sustancias: 1","Paciente ID: 00429868<br>Sustancias: 2","Paciente ID: 00616d91<br>Sustancias: 1","Paciente ID: 02f6dc31<br>Sustancias: 1","Paciente ID: 0485d16a<br>Sustancias: 1","Paciente ID: 049cdc89<br>Sustancias: 1","Paciente ID: 050bdb11<br>Sustancias: 1","Paciente ID: 092780e6<br>Sustancias: 1","Paciente ID: 096ef0c0<br>Sustancias: 2","Paciente ID: 0b05f9ed<br>Sustancias: 3","Paciente ID: 0b7bf7d7<br>Sustancias: 1","Paciente ID: 0c30f715<br>Sustancias: 2","Paciente ID: 0cc83988<br>Sustancias: 3","Paciente ID: 0d207d5c<br>Sustancias: 3","Paciente ID: 0dd6fae9<br>Sustancias: 4","Paciente ID: 109de45f<br>Sustancias: 1","Paciente ID: 11365797<br>Sustancias: 2","Paciente ID: 12db7ed6<br>Sustancias: 3","Paciente ID: 14d98389<br>Sustancias: 3","Paciente ID: 15328b96<br>Sustancias: 5","Paciente ID: 16ca0890<br>Sustancias: 2","Paciente ID: 184fb1d8<br>Sustancias: 4","Paciente ID: 1a38a8c1<br>Sustancias: 1","Paciente ID: 1a45bc24<br>Sustancias: 2","Paciente ID: 1cf5d495<br>Sustancias: 1","Paciente ID: 1d0308b8<br>Sustancias: 3","Paciente ID: 1fe756f2<br>Sustancias: 3","Paciente ID: 207a3e98<br>Sustancias: 2","Paciente ID: 2337a0d8<br>Sustancias: 2","Paciente ID: 25b99382<br>Sustancias: 2","Paciente ID: 273f2ba6<br>Sustancias: 2","Paciente ID: 2b1c95a2<br>Sustancias: 2","Paciente ID: 2c580491<br>Sustancias: 2","Paciente ID: 2ef5bdf5<br>Sustancias: 3","Paciente ID: 2f3e43b1<br>Sustancias: 2","Paciente ID: 2f402dc2<br>Sustancias: 2","Paciente ID: 30f1d0e2<br>Sustancias: 1","Paciente ID: 31b802de<br>Sustancias: 4","Paciente ID: 37002d36<br>Sustancias: 2","Paciente ID: 379b9073<br>Sustancias: 1","Paciente ID: 38e0d513<br>Sustancias: 2","Paciente ID: 3a245bb4<br>Sustancias: 3","Paciente ID: 3bce07e1<br>Sustancias: 2","Paciente ID: 3c2a94ee<br>Sustancias: 1","Paciente ID: 3cfd5db5<br>Sustancias: 2","Paciente ID: 3d153e80<br>Sustancias: 1","Paciente ID: 3fb012ea<br>Sustancias: 3","Paciente ID: 43ad88f2<br>Sustancias: 2","Paciente ID: 44b859e5<br>Sustancias: 2","Paciente ID: 44ccd0a5<br>Sustancias: 4","Paciente ID: 450cac44<br>Sustancias: 2","Paciente ID: 486e7f53<br>Sustancias: 4","Paciente ID: 4b296da4<br>Sustancias: 3","Paciente ID: 4c6be3f4<br>Sustancias: 2","Paciente ID: 50108350<br>Sustancias: 3","Paciente ID: 5014f457<br>Sustancias: 3","Paciente ID: 50196eb8<br>Sustancias: 1","Paciente ID: 5032485b<br>Sustancias: 4","Paciente ID: 51c89cd0<br>Sustancias: 4","Paciente ID: 52ca2ef1<br>Sustancias: 2","Paciente ID: 54370e59<br>Sustancias: 2","Paciente ID: 55f16f56<br>Sustancias: 2","Paciente ID: 57aa4612<br>Sustancias: 3","Paciente ID: 580beecd<br>Sustancias: 1","Paciente ID: 5a184457<br>Sustancias: 2","Paciente ID: 5b0ceea7<br>Sustancias: 3","Paciente ID: 5c910bd4<br>Sustancias: 2","Paciente ID: 5e4c44be<br>Sustancias: 1","Paciente ID: 5e647e6f<br>Sustancias: 2","Paciente ID: 60dc21c0<br>Sustancias: 1","Paciente ID: 61a798c6<br>Sustancias: 4","Paciente ID: 66479564<br>Sustancias: 4","Paciente ID: 666287ac<br>Sustancias: 2","Paciente ID: 69694e5a<br>Sustancias: 2","Paciente ID: 6a9a8237<br>Sustancias: 3","Paciente ID: 6ed92c59<br>Sustancias: 3","Paciente ID: 71129619<br>Sustancias: 3","Paciente ID: 717aae0b<br>Sustancias: 2","Paciente ID: 71e71f67<br>Sustancias: 3","Paciente ID: 72fb0e2b<br>Sustancias: 1","Paciente ID: 7a0597af<br>Sustancias: 4","Paciente ID: 7a552852<br>Sustancias: 2","Paciente ID: 7b5efb06<br>Sustancias: 1","Paciente ID: 7b8ffece<br>Sustancias: 4","Paciente ID: 7e719fbd<br>Sustancias: 2","Paciente ID: 8084b429<br>Sustancias: 1","Paciente ID: 80c22726<br>Sustancias: 3","Paciente ID: 8267636c<br>Sustancias: 2","Paciente ID: 8281f2b8<br>Sustancias: 3","Paciente ID: 829c92b1<br>Sustancias: 4","Paciente ID: 82f63b68<br>Sustancias: 4","Paciente ID: 838002e2<br>Sustancias: 4","Paciente ID: 845494f0<br>Sustancias: 2","Paciente ID: 84e64546<br>Sustancias: 1","Paciente ID: 8780269f<br>Sustancias: 2","Paciente ID: 88a8dc1b<br>Sustancias: 1","Paciente ID: 8c3f29ed<br>Sustancias: 3","Paciente ID: 8e42d5ba<br>Sustancias: 3","Paciente ID: 8e74474c<br>Sustancias: 1","Paciente ID: 90a68490<br>Sustancias: 1","Paciente ID: 9228b55e<br>Sustancias: 2","Paciente ID: 922f99c7<br>Sustancias: 3","Paciente ID: 9291c273<br>Sustancias: 3","Paciente ID: 92ef180e<br>Sustancias: 3","Paciente ID: 9346d908<br>Sustancias: 4","Paciente ID: 9351e560<br>Sustancias: 3","Paciente ID: 93b69c43<br>Sustancias: 1","Paciente ID: 93ceb77a<br>Sustancias: 1","Paciente ID: 94adeab1<br>Sustancias: 2","Paciente ID: 94d42379<br>Sustancias: 3","Paciente ID: 95948546<br>Sustancias: 1","Paciente ID: 972fa627<br>Sustancias: 1","Paciente ID: 9755af84<br>Sustancias: 4","Paciente ID: 9757d3d1<br>Sustancias: 2","Paciente ID: 98002b9f<br>Sustancias: 3","Paciente ID: 9a1abcf8<br>Sustancias: 3","Paciente ID: 9a860998<br>Sustancias: 1","Paciente ID: 9a8ae2d1<br>Sustancias: 4","Paciente ID: 9bb4e902<br>Sustancias: 2","Paciente ID: 9d72513f<br>Sustancias: 1","Paciente ID: 9fa26123<br>Sustancias: 3","Paciente ID: 9fcaf46c<br>Sustancias: 1","Paciente ID: a39e693b<br>Sustancias: 3","Paciente ID: a50c9e5b<br>Sustancias: 1","Paciente ID: a5860ae0<br>Sustancias: 2","Paciente ID: a6cbf784<br>Sustancias: 4","Paciente ID: a8be4182<br>Sustancias: 1","Paciente ID: a9b4ec00<br>Sustancias: 3","Paciente ID: ab5b7fbb<br>Sustancias: 3","Paciente ID: ab61f40e<br>Sustancias: 3","Paciente ID: abe12788<br>Sustancias: 2","Paciente ID: adc04a54<br>Sustancias: 1","Paciente ID: ae4bff7d<br>Sustancias: 2","Paciente ID: af276061<br>Sustancias: 2","Paciente ID: afbb463f<br>Sustancias: 4","Paciente ID: b19ac238<br>Sustancias: 3","Paciente ID: b2a07187<br>Sustancias: 3","Paciente ID: b2b66f39<br>Sustancias: 1","Paciente ID: b2c816f8<br>Sustancias: 3","Paciente ID: b37f8160<br>Sustancias: 2","Paciente ID: b505ee79<br>Sustancias: 3","Paciente ID: b581d863<br>Sustancias: 3","Paciente ID: b65ae7ae<br>Sustancias: 2","Paciente ID: b6839442<br>Sustancias: 2","Paciente ID: b77030dd<br>Sustancias: 1","Paciente ID: b8710bee<br>Sustancias: 1","Paciente ID: b9e0b325<br>Sustancias: 1","Paciente ID: bad99e81<br>Sustancias: 3","Paciente ID: baf1727f<br>Sustancias: 1","Paciente ID: bb83f540<br>Sustancias: 2","Paciente ID: bca5d2b1<br>Sustancias: 1","Paciente ID: bde304e7<br>Sustancias: 4","Paciente ID: bfea882e<br>Sustancias: 1","Paciente ID: c1828210<br>Sustancias: 3","Paciente ID: c3a0e418<br>Sustancias: 2","Paciente ID: c692c128<br>Sustancias: 2","Paciente ID: c6a6523e<br>Sustancias: 1","Paciente ID: c781ac55<br>Sustancias: 4","Paciente ID: c9e0b20c<br>Sustancias: 2","Paciente ID: cb164479<br>Sustancias: 2","Paciente ID: cbe4aa25<br>Sustancias: 2","Paciente ID: cf9657b5<br>Sustancias: 2","Paciente ID: d0b8bd0e<br>Sustancias: 1","Paciente ID: d13d4983<br>Sustancias: 3","Paciente ID: d2aa819b<br>Sustancias: 3","Paciente ID: d3280d4e<br>Sustancias: 2","Paciente ID: d440eb45<br>Sustancias: 4","Paciente ID: d551c49d<br>Sustancias: 1","Paciente ID: d86377e2<br>Sustancias: 1","Paciente ID: da66570e<br>Sustancias: 3","Paciente ID: dbe7ddec<br>Sustancias: 2","Paciente ID: dc336dfb<br>Sustancias: 4","Paciente ID: dc8b5635<br>Sustancias: 4","Paciente ID: dd4ea90b<br>Sustancias: 4","Paciente ID: de925489<br>Sustancias: 1","Paciente ID: dfabee34<br>Sustancias: 2","Paciente ID: e010328e<br>Sustancias: 1","Paciente ID: e5005207<br>Sustancias: 2","Paciente ID: e7c91c00<br>Sustancias: 3","Paciente ID: e7e4d300<br>Sustancias: 2","Paciente ID: e8bbb83d<br>Sustancias: 4","Paciente ID: e95014c8<br>Sustancias: 1","Paciente ID: e97140a4<br>Sustancias: 2","Paciente ID: e9739397<br>Sustancias: 1","Paciente ID: e9b66c51<br>Sustancias: 3","Paciente ID: e9d00d6b<br>Sustancias: 2","Paciente ID: ea143d3d<br>Sustancias: 2","Paciente ID: ee8b90bf<br>Sustancias: 1","Paciente ID: ef210f85<br>Sustancias: 3","Paciente ID: ef687765<br>Sustancias: 4","Paciente ID: f244b7ec<br>Sustancias: 2","Paciente ID: f39c09ab<br>Sustancias: 3","Paciente ID: f5f32236<br>Sustancias: 2","Paciente ID: f6fda49d<br>Sustancias: 3","Paciente ID: f925eee2<br>Sustancias: 2","Paciente ID: f96d65dd<br>Sustancias: 3","Paciente ID: fabbe834<br>Sustancias: 1","Paciente ID: fe40f94b<br>Sustancias: 2","Paciente ID: ff721830<br>Sustancias: 4","Paciente ID: ff7f258c<br>Sustancias: 4","<b>Marihuana<\/b><br>Pacientes en muestra: 104","<b>Alcohol<\/b><br>Pacientes en muestra: 158","<b>Pasta Base<\/b><br>Pacientes en muestra: 95","<b>Sedantes<\/b><br>Pacientes en muestra: 7","<b>Cocaína<\/b><br>Pacientes en muestra: 82","<b>Anfetaminas<\/b><br>Pacientes en muestra: 1","<b>Otros<\/b><br>Pacientes en muestra: 7","<b>Alucinógenos<\/b><br>Pacientes en muestra: 1","<b>Inhalables<\/b><br>Pacientes en muestra: 1","<b>Heroína<\/b><br>Pacientes en muestra: 1","<b>Hipnóticos<\/b><br>Pacientes en muestra: 1","<b>Opioides<\/b><br>Pacientes en muestra: 1"],"shape":["square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","square","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot"],"color":["#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#3498db","#e74c3c","#e74c3c","#e74c3c","#e74c3c","#e74c3c","#e74c3c","#e74c3c","#e74c3c","#e74c3c","#e74c3c","#e74c3c","#e74c3c"],"font.size":[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,14,14,14,14,14,14,14,14,14,14,14,14],"x":[-400,-395.9798994974875,-391.9597989949749,-387.9396984924623,-383.9195979899498,-379.8994974874372,-375.8793969849246,-371.859296482412,-367.8391959798995,-363.819095477387,-359.7989949748744,-355.7788944723618,-351.7587939698493,-347.7386934673367,-343.7185929648241,-339.6984924623115,-335.678391959799,-331.6582914572865,-327.6381909547739,-323.6180904522613,-319.5979899497488,-315.5778894472362,-311.5577889447236,-307.537688442211,-303.5175879396985,-299.497487437186,-295.4773869346734,-291.4572864321608,-287.4371859296483,-283.4170854271357,-279.3969849246231,-275.3768844221105,-271.356783919598,-267.3366834170855,-263.3165829145729,-259.2964824120603,-255.2763819095478,-251.2562814070352,-247.2361809045226,-243.21608040201,-239.1959798994975,-235.175879396985,-231.1557788944724,-227.1356783919598,-223.1155778894473,-219.0954773869347,-215.0753768844221,-211.0552763819096,-207.035175879397,-203.0150753768845,-198.9949748743719,-194.9748743718593,-190.9547738693468,-186.9346733668342,-182.9145728643216,-178.8944723618091,-174.8743718592965,-170.854271356784,-166.8341708542714,-162.8140703517588,-158.7939698492463,-154.7738693467337,-150.7537688442211,-146.7336683417086,-142.713567839196,-138.6934673366835,-134.6733668341709,-130.6532663316583,-126.6331658291458,-122.6130653266332,-118.5929648241206,-114.5728643216081,-110.5527638190955,-106.532663316583,-102.5125628140704,-98.4924623115578,-94.47236180904525,-90.45226130653271,-86.4321608040201,-82.41206030150755,-78.391959798995,-74.37185929648246,-70.35175879396991,-66.3316582914573,-62.31155778894475,-58.29145728643221,-54.2713567839196,-50.25125628140705,-46.2311557788945,-42.21105527638196,-38.19095477386941,-34.1708542713568,-30.15075376884425,-26.13065326633171,-22.1105527638191,-18.09045226130655,-14.070351758794,-10.05025125628146,-6.030150753768908,-2.010050251256303,2.010050251256246,6.030150753768794,10.0502512562814,14.07035175879395,18.0904522613065,22.11055276381904,26.13065326633159,30.1507537688442,34.17085427135675,38.19095477386929,42.2110552763819,46.23115577889445,50.251256281407,54.27135678391954,58.29145728643209,62.3115577889447,66.33165829145725,70.35175879396979,74.3718592964824,78.39195979899495,82.41206030150749,86.43216080402004,90.45226130653259,94.4723618090452,98.49246231155774,102.5125628140703,106.5326633165829,110.5527638190954,114.572864321608,118.5929648241206,122.6130653266331,126.6331658291457,130.6532663316582,134.6733668341708,138.6934673366834,142.7135678391959,146.7336683417085,150.7537688442211,154.7738693467336,158.7939698492462,162.8140703517588,166.8341708542713,170.8542713567839,174.8743718592964,178.894472361809,182.9145728643216,186.9346733668341,190.9547738693467,194.9748743718592,198.9949748743718,203.0150753768844,207.0351758793969,211.0552763819095,215.0753768844221,219.0954773869346,223.1155778894472,227.1356783919598,231.1557788944723,235.1758793969849,239.1959798994974,243.21608040201,247.2361809045226,251.2562814070351,255.2763819095477,259.2964824120602,263.3165829145728,267.3366834170854,271.3567839195979,275.3768844221105,279.3969849246231,283.4170854271356,287.4371859296482,291.4572864321608,295.4773869346733,299.4974874371859,303.5175879396984,307.537688442211,311.5577889447236,315.5778894472361,319.5979899497487,323.6180904522612,327.6381909547738,331.6582914572864,335.6783919597989,339.6984924623115,343.7185929648241,347.7386934673366,351.7587939698492,355.7788944723618,359.7989949748743,363.8190954773869,367.8391959798994,371.859296482412,375.8793969849246,379.8994974874371,383.9195979899497,387.9396984924622,391.9597989949748,395.9798994974874,400,-400,-327.2727272727273,-254.5454545454545,-181.8181818181818,-109.0909090909091,-36.36363636363632,36.36363636363637,109.0909090909091,181.8181818181819,254.5454545454546,327.2727272727274,400],"y":[-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,-200,200,200,200,200,200,200,200,200,200,200,200,200],"physics":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]},"edges":{"from":["000906e5d2501066b0e92ae64d002476eaa619ddcd45d020e31029e7edbb1122","00429868053e89340ea087519aa67b0ab9ea79e3409684b0900b1669e2071f6e","00429868053e89340ea087519aa67b0ab9ea79e3409684b0900b1669e2071f6e","00616d91badd7e5d9d4d20c0a87279c3316d662499a150486ac1fdd4ea0c973e","02f6dc313c904d331470e6bbf254c31cf66ef078c3214fcbdf15c092c0f41a3b","0485d16af244a71f3b798ec4619b20bd8ad21d6da09c3c17375c6719707e87e3","049cdc898ce8c1355457448a8ef5a90c51d9df800e1c118d467f9a8ba35d31d6","050bdb11d64438db51743e2800ff180cac78e3df540261ef359e4d6af3197050","092780e6edf072a6c66abe441d042e0d1529ed85f2a4d1c7f5931f0e089564b9","096ef0c0c1e1342ef6ef7df65aeea1d47f4b3eddcd6d0262be490566df775ff3","096ef0c0c1e1342ef6ef7df65aeea1d47f4b3eddcd6d0262be490566df775ff3","0b05f9edd6a5822f30a464b3f445c161b551a140ab7b493156eb989b333d1cc4","0b05f9edd6a5822f30a464b3f445c161b551a140ab7b493156eb989b333d1cc4","0b05f9edd6a5822f30a464b3f445c161b551a140ab7b493156eb989b333d1cc4","0b7bf7d71d57bee30a0f732fb6a5b0069aae494b719e801fce1529952682c7f2","0c30f71508850b2c15d4f73c8a9698bbad863642d1a60a1903d79dfd21ca1942","0c30f71508850b2c15d4f73c8a9698bbad863642d1a60a1903d79dfd21ca1942","0cc839882e54097abd0d78f197b4eb4bcc0dbaf01e3dae15db070d6164dbcb3a","0cc839882e54097abd0d78f197b4eb4bcc0dbaf01e3dae15db070d6164dbcb3a","0cc839882e54097abd0d78f197b4eb4bcc0dbaf01e3dae15db070d6164dbcb3a","0d207d5c21c0ef16cea9120f5b908faed6ac976be754cec095424ea374e70ba8","0d207d5c21c0ef16cea9120f5b908faed6ac976be754cec095424ea374e70ba8","0d207d5c21c0ef16cea9120f5b908faed6ac976be754cec095424ea374e70ba8","0dd6fae9015b9c1df0ee2fb140de6b724825d4acbbf9c49313e3d1ed51f72ea9","0dd6fae9015b9c1df0ee2fb140de6b724825d4acbbf9c49313e3d1ed51f72ea9","0dd6fae9015b9c1df0ee2fb140de6b724825d4acbbf9c49313e3d1ed51f72ea9","0dd6fae9015b9c1df0ee2fb140de6b724825d4acbbf9c49313e3d1ed51f72ea9","109de45f923eeba96daffad8284c48fc394ece59967a7a46c06495a8a0730cc4","11365797baf6a26293874ce6e2aac27acd6585f09404cd431942c822481b867d","11365797baf6a26293874ce6e2aac27acd6585f09404cd431942c822481b867d","12db7ed624491a0315d776066a5f5e763f938411157db7b852d358c31751a093","12db7ed624491a0315d776066a5f5e763f938411157db7b852d358c31751a093","12db7ed624491a0315d776066a5f5e763f938411157db7b852d358c31751a093","14d98389b90a4dae8ed5fa66e7a9a8844d486a5b58d379b042b8ce6cf65717d8","14d98389b90a4dae8ed5fa66e7a9a8844d486a5b58d379b042b8ce6cf65717d8","14d98389b90a4dae8ed5fa66e7a9a8844d486a5b58d379b042b8ce6cf65717d8","15328b964a786e5aca1c856d45ec776ac74b6906905e93aa6583a167d0cec684","15328b964a786e5aca1c856d45ec776ac74b6906905e93aa6583a167d0cec684","15328b964a786e5aca1c856d45ec776ac74b6906905e93aa6583a167d0cec684","15328b964a786e5aca1c856d45ec776ac74b6906905e93aa6583a167d0cec684","15328b964a786e5aca1c856d45ec776ac74b6906905e93aa6583a167d0cec684","16ca08909e3564cf4e720d1ef310d83a04da9fc451f0622fe246f29a8c81856b","16ca08909e3564cf4e720d1ef310d83a04da9fc451f0622fe246f29a8c81856b","184fb1d893da095db5c8fdddca8e3acc727c3ac9d83e490cb4c7425e314f667e","184fb1d893da095db5c8fdddca8e3acc727c3ac9d83e490cb4c7425e314f667e","184fb1d893da095db5c8fdddca8e3acc727c3ac9d83e490cb4c7425e314f667e","184fb1d893da095db5c8fdddca8e3acc727c3ac9d83e490cb4c7425e314f667e","1a38a8c1f8658dc68e2aa7a44d9985773e6a486c3051f5bad9a1a7065392dd68","1a45bc243a9a8884387437f0d980ee11d7fdc30e17de4637af4edca75c1f4ac1","1a45bc243a9a8884387437f0d980ee11d7fdc30e17de4637af4edca75c1f4ac1","1cf5d49580596ef6b14dff09628151d45be161c07a7d57c1664a1a8b98b113c2","1d0308b89b71c4d138e93c776ee8d3f8eb92974052a9f25d38bfceab26c09856","1d0308b89b71c4d138e93c776ee8d3f8eb92974052a9f25d38bfceab26c09856","1d0308b89b71c4d138e93c776ee8d3f8eb92974052a9f25d38bfceab26c09856","1fe756f2e75abaa34b6453121e46fc1bf28e3198d926897be90e5187df45a8a0","1fe756f2e75abaa34b6453121e46fc1bf28e3198d926897be90e5187df45a8a0","1fe756f2e75abaa34b6453121e46fc1bf28e3198d926897be90e5187df45a8a0","207a3e980ed04bcfe4a22feb3be167d82015a3e589c909f38bc711ebdb3c349a","207a3e980ed04bcfe4a22feb3be167d82015a3e589c909f38bc711ebdb3c349a","2337a0d83912723ae8d99e35cbbda36b030e7f32ba4de57f0c82979c84b01495","2337a0d83912723ae8d99e35cbbda36b030e7f32ba4de57f0c82979c84b01495","25b99382c83cab147d9a78ac589b76de65b147888251abf8cbc645cfa8f5aeaf","25b99382c83cab147d9a78ac589b76de65b147888251abf8cbc645cfa8f5aeaf","273f2ba6975c3d3f254e2aafc68e7b2833f24e83234c5aea73b26fcb0fcd755f","273f2ba6975c3d3f254e2aafc68e7b2833f24e83234c5aea73b26fcb0fcd755f","2b1c95a2f5a180371e6ae8fa377a174f813756da90c23507e423c9187138cfbc","2b1c95a2f5a180371e6ae8fa377a174f813756da90c23507e423c9187138cfbc","2c5804910c467627f36ce7006e08e1589909ab895c4f3d2514e0ed1e4d97a7a6","2c5804910c467627f36ce7006e08e1589909ab895c4f3d2514e0ed1e4d97a7a6","2ef5bdf5587b261edb6eab6123e5357d31accaeb5b2421317566d10a78ff4eb9","2ef5bdf5587b261edb6eab6123e5357d31accaeb5b2421317566d10a78ff4eb9","2ef5bdf5587b261edb6eab6123e5357d31accaeb5b2421317566d10a78ff4eb9","2f3e43b101bc385a757a938936d17bef4f7970327b0dcfe58170190a63d24077","2f3e43b101bc385a757a938936d17bef4f7970327b0dcfe58170190a63d24077","2f402dc2a9f5c18e0c977da6fa79c9a1abd141a8b719fbf7707174dc1462d420","2f402dc2a9f5c18e0c977da6fa79c9a1abd141a8b719fbf7707174dc1462d420","30f1d0e2727536c41588afd77bc89a25143f6b138288d7935be046f09c351a90","31b802de767ca70b7e16b0ef1ef9d8317cb6eaf17f907b06f026dd8510a9c2fb","31b802de767ca70b7e16b0ef1ef9d8317cb6eaf17f907b06f026dd8510a9c2fb","31b802de767ca70b7e16b0ef1ef9d8317cb6eaf17f907b06f026dd8510a9c2fb","31b802de767ca70b7e16b0ef1ef9d8317cb6eaf17f907b06f026dd8510a9c2fb","37002d36ce34d3cc5e822e7c6472664a24064211648664d80fa142de799067a1","37002d36ce34d3cc5e822e7c6472664a24064211648664d80fa142de799067a1","379b90731d465dfa973f6f7b899189390a6ea7357e821f0c7e503df4ca0d863e","38e0d513959280592571c8a963c460ec6492022dad807b01b2366fc4d0e4d964","38e0d513959280592571c8a963c460ec6492022dad807b01b2366fc4d0e4d964","3a245bb4c8eea2cfcfe1025faccdd18a0f8141270c677fac4c63da9376e24e4f","3a245bb4c8eea2cfcfe1025faccdd18a0f8141270c677fac4c63da9376e24e4f","3a245bb4c8eea2cfcfe1025faccdd18a0f8141270c677fac4c63da9376e24e4f","3bce07e19e197572047aea47b0c70ac786ea5cb82ff72c2b20ecd9a0960ead17","3bce07e19e197572047aea47b0c70ac786ea5cb82ff72c2b20ecd9a0960ead17","3c2a94eec3c38f8ebf9cc6a50acd1738a9312af47161656daa7058556a44d62e","3cfd5db5352dbb4dfca6791f34e475d000592f1c5a941d08d3feb7d9a5594b81","3cfd5db5352dbb4dfca6791f34e475d000592f1c5a941d08d3feb7d9a5594b81","3d153e80fdffe4cbb78d971bd7f50ca7252abd23a6f434c466626f865d3e8741","3fb012ea9aff44a8d94b0315e869c766605b50b68517127cdf109c9b084dae0f","3fb012ea9aff44a8d94b0315e869c766605b50b68517127cdf109c9b084dae0f","3fb012ea9aff44a8d94b0315e869c766605b50b68517127cdf109c9b084dae0f","43ad88f2e55c84139615a6d4286a7abe2a1e23562f13e437f7a82e9fdeb5c6cb","43ad88f2e55c84139615a6d4286a7abe2a1e23562f13e437f7a82e9fdeb5c6cb","44b859e54b9dab85a6fe2ada9255e37eb70240583d11f47e3b207ca4decbbdef","44b859e54b9dab85a6fe2ada9255e37eb70240583d11f47e3b207ca4decbbdef","44ccd0a55950c3c35c2d2df178f90aec08eaa35bd62060aedebdb5dd05df0461","44ccd0a55950c3c35c2d2df178f90aec08eaa35bd62060aedebdb5dd05df0461","44ccd0a55950c3c35c2d2df178f90aec08eaa35bd62060aedebdb5dd05df0461","44ccd0a55950c3c35c2d2df178f90aec08eaa35bd62060aedebdb5dd05df0461","450cac448ac9f75a8bea07ece584f902139034b5c6fa3ec25fd0245f6eb777f3","450cac448ac9f75a8bea07ece584f902139034b5c6fa3ec25fd0245f6eb777f3","486e7f539ef5d1c32fff914ee330d2c8f85689f0a70f3c8bf5bdf4a8248f1180","486e7f539ef5d1c32fff914ee330d2c8f85689f0a70f3c8bf5bdf4a8248f1180","486e7f539ef5d1c32fff914ee330d2c8f85689f0a70f3c8bf5bdf4a8248f1180","486e7f539ef5d1c32fff914ee330d2c8f85689f0a70f3c8bf5bdf4a8248f1180","4b296da4d27cf19a8d418bba033d926ad37ed80d7976db9ba5f0761a781ea303","4b296da4d27cf19a8d418bba033d926ad37ed80d7976db9ba5f0761a781ea303","4b296da4d27cf19a8d418bba033d926ad37ed80d7976db9ba5f0761a781ea303","4c6be3f42974eec1e3dfcf981957ae45276ba4a24847d157fd7c87e8d0c2df0a","4c6be3f42974eec1e3dfcf981957ae45276ba4a24847d157fd7c87e8d0c2df0a","50108350cf1de3c6a16d5ef1b5725e2003799e2cf25555fec6ae846e0961945c","50108350cf1de3c6a16d5ef1b5725e2003799e2cf25555fec6ae846e0961945c","50108350cf1de3c6a16d5ef1b5725e2003799e2cf25555fec6ae846e0961945c","5014f45744d1d822bcdd47edb028e5117fc6045c636b66bd597b1270de4ebce1","5014f45744d1d822bcdd47edb028e5117fc6045c636b66bd597b1270de4ebce1","5014f45744d1d822bcdd47edb028e5117fc6045c636b66bd597b1270de4ebce1","50196eb838a1031add511dae319e2fbc133cbad51f0bd464d7ffb78ba1df41f0","5032485b08ee368783e9f84a45e59ef3983af54a15e137c5a79b90ad4ae60672","5032485b08ee368783e9f84a45e59ef3983af54a15e137c5a79b90ad4ae60672","5032485b08ee368783e9f84a45e59ef3983af54a15e137c5a79b90ad4ae60672","5032485b08ee368783e9f84a45e59ef3983af54a15e137c5a79b90ad4ae60672","51c89cd00f6e31a291803fbbfe7b93f0318a19865e8580cb242836156b8feab9","51c89cd00f6e31a291803fbbfe7b93f0318a19865e8580cb242836156b8feab9","51c89cd00f6e31a291803fbbfe7b93f0318a19865e8580cb242836156b8feab9","51c89cd00f6e31a291803fbbfe7b93f0318a19865e8580cb242836156b8feab9","52ca2ef117561f5b209b09061a9d2bbb3a8cc1ee3a840901a8b810625d85ddaf","52ca2ef117561f5b209b09061a9d2bbb3a8cc1ee3a840901a8b810625d85ddaf","54370e5921a9b1d419f43cf18f91de8c18cf20fdb8ef7807a71b29921b56b4ac","54370e5921a9b1d419f43cf18f91de8c18cf20fdb8ef7807a71b29921b56b4ac","55f16f56e3fbd22d089d1bbb037850a155ef42191beba6042c5572a627f08c1f","55f16f56e3fbd22d089d1bbb037850a155ef42191beba6042c5572a627f08c1f","57aa4612a9d2bbcb5d564e46c524bc9ccb6050bcb2fe8796c193d39b4cb03938","57aa4612a9d2bbcb5d564e46c524bc9ccb6050bcb2fe8796c193d39b4cb03938","57aa4612a9d2bbcb5d564e46c524bc9ccb6050bcb2fe8796c193d39b4cb03938","580beecd3da414c58e053311d604f183f958433d948a57cba7125e767c0e8d68","5a1844578eeb2ffb9c46c30425fb67e80ff6abf4f356f21b7329497fc7d36e04","5a1844578eeb2ffb9c46c30425fb67e80ff6abf4f356f21b7329497fc7d36e04","5b0ceea7d591da81f21abdc0c56eb43c3b85b1f472262c5d31817347985773b3","5b0ceea7d591da81f21abdc0c56eb43c3b85b1f472262c5d31817347985773b3","5b0ceea7d591da81f21abdc0c56eb43c3b85b1f472262c5d31817347985773b3","5c910bd4589a4bb379396e9ecbd084df9723df03984dfabad7b808670c9c3adc","5c910bd4589a4bb379396e9ecbd084df9723df03984dfabad7b808670c9c3adc","5e4c44be57c8ec2b25382b0266886159eef0f26dc8c0629553e53c79e912d592","5e647e6f2c74f3deb17a2a62338c4af8ebd3c52d7965207653ae4757f4c6188a","5e647e6f2c74f3deb17a2a62338c4af8ebd3c52d7965207653ae4757f4c6188a","60dc21c0adad22e8f001cf6e74e7b75917115dfe88df1e534714569e3b8a3ae2","61a798c621d27f53020d27caf6a904196b72f1fd94b3b2a9f3229348ef19b5bb","61a798c621d27f53020d27caf6a904196b72f1fd94b3b2a9f3229348ef19b5bb","61a798c621d27f53020d27caf6a904196b72f1fd94b3b2a9f3229348ef19b5bb","61a798c621d27f53020d27caf6a904196b72f1fd94b3b2a9f3229348ef19b5bb","664795645fb4a83ec4c17d16a7c320c16822fe8ddc908ea64de223acd9ba9053","664795645fb4a83ec4c17d16a7c320c16822fe8ddc908ea64de223acd9ba9053","664795645fb4a83ec4c17d16a7c320c16822fe8ddc908ea64de223acd9ba9053","664795645fb4a83ec4c17d16a7c320c16822fe8ddc908ea64de223acd9ba9053","666287acfb4a0e2fda830cf52cebf07d607125910565d9438db9a8f745feb0be","666287acfb4a0e2fda830cf52cebf07d607125910565d9438db9a8f745feb0be","69694e5aaf27625f4387128364d1baa9306ececaf122b46390616935fe0e818a","69694e5aaf27625f4387128364d1baa9306ececaf122b46390616935fe0e818a","6a9a82377f7509fb483d5baa46168169cffc02231fb00a9ce3a07e81b64163e0","6a9a82377f7509fb483d5baa46168169cffc02231fb00a9ce3a07e81b64163e0","6a9a82377f7509fb483d5baa46168169cffc02231fb00a9ce3a07e81b64163e0","6ed92c592a5cc44c4228f08f1c9e5a1db2a051a19974725f17dcff4a435d2ada","6ed92c592a5cc44c4228f08f1c9e5a1db2a051a19974725f17dcff4a435d2ada","6ed92c592a5cc44c4228f08f1c9e5a1db2a051a19974725f17dcff4a435d2ada","711296199d740a4c72dea2f38c75fc03bc8affe4d9733f120493f4036976b0ee","711296199d740a4c72dea2f38c75fc03bc8affe4d9733f120493f4036976b0ee","711296199d740a4c72dea2f38c75fc03bc8affe4d9733f120493f4036976b0ee","717aae0b71d47ecc0fbb51b8f7efc8623b7497c2d365c59ccb96f37d862eaefa","717aae0b71d47ecc0fbb51b8f7efc8623b7497c2d365c59ccb96f37d862eaefa","71e71f677acd18a45fed85d38c78480de3a56818e53aa7c86df04a5eab8b3413","71e71f677acd18a45fed85d38c78480de3a56818e53aa7c86df04a5eab8b3413","71e71f677acd18a45fed85d38c78480de3a56818e53aa7c86df04a5eab8b3413","72fb0e2be4050481b6c5f1e2fe016879b26f467184217aa508e8725796ee11bd","7a0597af7fb4520771ee64f7bc7c51e382a293331feaa33558eba34ba9b25019","7a0597af7fb4520771ee64f7bc7c51e382a293331feaa33558eba34ba9b25019","7a0597af7fb4520771ee64f7bc7c51e382a293331feaa33558eba34ba9b25019","7a0597af7fb4520771ee64f7bc7c51e382a293331feaa33558eba34ba9b25019","7a5528526671dc5962a5e9c09f5328198f0ec25c55e42a64cdcc16a94bd456a5","7a5528526671dc5962a5e9c09f5328198f0ec25c55e42a64cdcc16a94bd456a5","7b5efb065869cb806e3862990b513a69763207242eef0b2b20174885846cce94","7b8ffecec48d814f043064df90d12ba415570cb2088894b900357ecda0c4e0c1","7b8ffecec48d814f043064df90d12ba415570cb2088894b900357ecda0c4e0c1","7b8ffecec48d814f043064df90d12ba415570cb2088894b900357ecda0c4e0c1","7b8ffecec48d814f043064df90d12ba415570cb2088894b900357ecda0c4e0c1","7e719fbde88f4b922de53e3e08ee0e1910e867bd4fc6eccdd381024290d9081a","7e719fbde88f4b922de53e3e08ee0e1910e867bd4fc6eccdd381024290d9081a","8084b42950f147e6127d0ded8c27a99831a38ae6f897019d4066b3094365c425","80c2272658feb5d23a3d389e3e1fd840d4001f9a263f01888c16f11ec595a977","80c2272658feb5d23a3d389e3e1fd840d4001f9a263f01888c16f11ec595a977","80c2272658feb5d23a3d389e3e1fd840d4001f9a263f01888c16f11ec595a977","8267636c073b6f7a6274bd9901e568247506b79576e5d7578aa02e094851a1b3","8267636c073b6f7a6274bd9901e568247506b79576e5d7578aa02e094851a1b3","8281f2b844af11e9cda3f5d0f68be734ec18aa09ff2df16bdfbe5a6da01a5958","8281f2b844af11e9cda3f5d0f68be734ec18aa09ff2df16bdfbe5a6da01a5958","8281f2b844af11e9cda3f5d0f68be734ec18aa09ff2df16bdfbe5a6da01a5958","829c92b1356d49cae538a2e35d4de6e8ae94a9e97b22db58f22b9c9c73aa22ba","829c92b1356d49cae538a2e35d4de6e8ae94a9e97b22db58f22b9c9c73aa22ba","829c92b1356d49cae538a2e35d4de6e8ae94a9e97b22db58f22b9c9c73aa22ba","829c92b1356d49cae538a2e35d4de6e8ae94a9e97b22db58f22b9c9c73aa22ba","82f63b6816d46d653d1fcf3b0ff40cce633fcce802e2450463f9f3a579e3b41b","82f63b6816d46d653d1fcf3b0ff40cce633fcce802e2450463f9f3a579e3b41b","82f63b6816d46d653d1fcf3b0ff40cce633fcce802e2450463f9f3a579e3b41b","82f63b6816d46d653d1fcf3b0ff40cce633fcce802e2450463f9f3a579e3b41b","838002e2336e9c72a2c8e6df6b7e80daf3a43780e079b4f44e5fe7f6a122b0f0","838002e2336e9c72a2c8e6df6b7e80daf3a43780e079b4f44e5fe7f6a122b0f0","838002e2336e9c72a2c8e6df6b7e80daf3a43780e079b4f44e5fe7f6a122b0f0","838002e2336e9c72a2c8e6df6b7e80daf3a43780e079b4f44e5fe7f6a122b0f0","845494f0770223b4b7cf7c1d1752a6837602b74558b422c83298e6f333e23cfd","845494f0770223b4b7cf7c1d1752a6837602b74558b422c83298e6f333e23cfd","84e64546d89b95ee86df648d973ea8324def74a65b747d19e6fd6ed0aced8206","8780269f1f17f228e76d49eb4e99f5307bbeb90e4e97ef2d32fbd3f94146228e","8780269f1f17f228e76d49eb4e99f5307bbeb90e4e97ef2d32fbd3f94146228e","88a8dc1b0d07fde5f09f0f15e24f90be257f02110c82a8b1ab7f5a83ce6a58c0","8c3f29eddd61f0b1bd43ae7e37e6c273df6cea00931dc5a6fe295f657001ebae","8c3f29eddd61f0b1bd43ae7e37e6c273df6cea00931dc5a6fe295f657001ebae","8c3f29eddd61f0b1bd43ae7e37e6c273df6cea00931dc5a6fe295f657001ebae","8e42d5ba3fcce22e914111548f69f5da07b59886f4ea705d395ce48ce8ba0432","8e42d5ba3fcce22e914111548f69f5da07b59886f4ea705d395ce48ce8ba0432","8e42d5ba3fcce22e914111548f69f5da07b59886f4ea705d395ce48ce8ba0432","8e74474c0fda8733aa3b9a9ecff4105524fe693b8fd86f265aad332cb61cef0d","90a684906e7285378f5a28a5f0f1d99df65d7dd7f430eb173bf685a6fd01deaf","9228b55e5fb5f1d2af98bfebf370d2164258d114b295025273228a78b4d27194","9228b55e5fb5f1d2af98bfebf370d2164258d114b295025273228a78b4d27194","922f99c7b43b3e051ffbf499aca3eae69996443a199b5ec790dc881e355c89bf","922f99c7b43b3e051ffbf499aca3eae69996443a199b5ec790dc881e355c89bf","922f99c7b43b3e051ffbf499aca3eae69996443a199b5ec790dc881e355c89bf","9291c273b1df93c8f002a3d7a991c019f55a6bc7732a239bd530edadaabad415","9291c273b1df93c8f002a3d7a991c019f55a6bc7732a239bd530edadaabad415","9291c273b1df93c8f002a3d7a991c019f55a6bc7732a239bd530edadaabad415","92ef180ebad129a638a0d5959c09354f6628642b4382d70632e7ddda09b749f4","92ef180ebad129a638a0d5959c09354f6628642b4382d70632e7ddda09b749f4","92ef180ebad129a638a0d5959c09354f6628642b4382d70632e7ddda09b749f4","9346d908a77b329fefc96fedc74a77e867c90389e62137614a18cd71a9e60982","9346d908a77b329fefc96fedc74a77e867c90389e62137614a18cd71a9e60982","9346d908a77b329fefc96fedc74a77e867c90389e62137614a18cd71a9e60982","9346d908a77b329fefc96fedc74a77e867c90389e62137614a18cd71a9e60982","9351e5604abc93d1e0ad9910ee7bec22291ac95c5bd63c392792f76d47688e7f","9351e5604abc93d1e0ad9910ee7bec22291ac95c5bd63c392792f76d47688e7f","9351e5604abc93d1e0ad9910ee7bec22291ac95c5bd63c392792f76d47688e7f","93b69c43b67fbcbae4985fbc63432b0d0a2a68abcb8c21cef99d5c341d2b1565","93ceb77aef639e05ed980501649d5056a048782e16950d7d65c1d2d925112048","94adeab1b91c8aff69e90daec890104a72bda07b19ef943045bd37ce3989a264","94adeab1b91c8aff69e90daec890104a72bda07b19ef943045bd37ce3989a264","94d42379b431f42716e6201c958ef6e37db32dfbe5e596b77584d5316e30e17e","94d42379b431f42716e6201c958ef6e37db32dfbe5e596b77584d5316e30e17e","94d42379b431f42716e6201c958ef6e37db32dfbe5e596b77584d5316e30e17e","959485466634dbc22387f73ac697976d385f874b836a5f5cbe3dc239f2893b69","972fa627840f3c30a5dd24db6d995d5e2ee25c9717747bf0427b61667dcac874","9755af84ac65f54033aed35060a5537a81ba681223cc4dfd1a6b2bdac9c1905a","9755af84ac65f54033aed35060a5537a81ba681223cc4dfd1a6b2bdac9c1905a","9755af84ac65f54033aed35060a5537a81ba681223cc4dfd1a6b2bdac9c1905a","9755af84ac65f54033aed35060a5537a81ba681223cc4dfd1a6b2bdac9c1905a","9757d3d1caa7a78ca73d97555732a095dbdc3173c96e63464f1715820d90e468","9757d3d1caa7a78ca73d97555732a095dbdc3173c96e63464f1715820d90e468","98002b9fe09afc64b68bb2d25529fdb893e2a710a58f475c540558fda120cc0e","98002b9fe09afc64b68bb2d25529fdb893e2a710a58f475c540558fda120cc0e","98002b9fe09afc64b68bb2d25529fdb893e2a710a58f475c540558fda120cc0e","9a1abcf805fe6aa0aa9a1a6fc3d886dc2f92279bdbccf5868c7adc219982516d","9a1abcf805fe6aa0aa9a1a6fc3d886dc2f92279bdbccf5868c7adc219982516d","9a1abcf805fe6aa0aa9a1a6fc3d886dc2f92279bdbccf5868c7adc219982516d","9a860998583d81ad7b92f83ecd58fca203754ade8ae3f149726e1e1756e23dee","9a8ae2d140a0a441eb4fbb4d0b079503b2f51035333efdee7db9660235b91e52","9a8ae2d140a0a441eb4fbb4d0b079503b2f51035333efdee7db9660235b91e52","9a8ae2d140a0a441eb4fbb4d0b079503b2f51035333efdee7db9660235b91e52","9a8ae2d140a0a441eb4fbb4d0b079503b2f51035333efdee7db9660235b91e52","9bb4e902e195082bbc9c9357061b93478acdf6c713205c22996828e4d85551fc","9bb4e902e195082bbc9c9357061b93478acdf6c713205c22996828e4d85551fc","9d72513f098e7cdb0a2fd537b6867c8afd9cab06ddde9571f1275f23e1683743","9fa26123de6d313026fda6fdb916cd56c4eb53499d57113d272216ec8d8b8599","9fa26123de6d313026fda6fdb916cd56c4eb53499d57113d272216ec8d8b8599","9fa26123de6d313026fda6fdb916cd56c4eb53499d57113d272216ec8d8b8599","9fcaf46c487e65f4b25522161dd9744623ef1781a809b5f04c97cfcab5f37d24","a39e693b341115b594b69fdd5df34bd3441e111c57a4ef6cb48ffecd2c4954fb","a39e693b341115b594b69fdd5df34bd3441e111c57a4ef6cb48ffecd2c4954fb","a39e693b341115b594b69fdd5df34bd3441e111c57a4ef6cb48ffecd2c4954fb","a50c9e5b6e2f50843dda6f683593ee63ccb7cbd93ae27360ed35911e7dc22b56","a5860ae06882a74de33be8c23f3ad8f3c30a6079049ffbedbf23096e181b82e4","a5860ae06882a74de33be8c23f3ad8f3c30a6079049ffbedbf23096e181b82e4","a6cbf78497a41cd9ef7f1dc2106307b5a3fc46d13feccce2cd6df077cdbc74b9","a6cbf78497a41cd9ef7f1dc2106307b5a3fc46d13feccce2cd6df077cdbc74b9","a6cbf78497a41cd9ef7f1dc2106307b5a3fc46d13feccce2cd6df077cdbc74b9","a6cbf78497a41cd9ef7f1dc2106307b5a3fc46d13feccce2cd6df077cdbc74b9","a8be41827948c2a2017d87209e376204b2e4d1a7617ee5824ecf1afc8ab422dc","a9b4ec0061a989a376e90a9546eca795f3dfbee9ce869b759e4a266cd64c9c79","a9b4ec0061a989a376e90a9546eca795f3dfbee9ce869b759e4a266cd64c9c79","a9b4ec0061a989a376e90a9546eca795f3dfbee9ce869b759e4a266cd64c9c79","ab5b7fbbbeb5dc96345ccc60ddeb895a73181e9fd36787747a0abdaefc359aee","ab5b7fbbbeb5dc96345ccc60ddeb895a73181e9fd36787747a0abdaefc359aee","ab5b7fbbbeb5dc96345ccc60ddeb895a73181e9fd36787747a0abdaefc359aee","ab61f40e8812e76c52ceb3140a61ff68c9a26f94478b08d9bafbd1d9a2f26d90","ab61f40e8812e76c52ceb3140a61ff68c9a26f94478b08d9bafbd1d9a2f26d90","ab61f40e8812e76c52ceb3140a61ff68c9a26f94478b08d9bafbd1d9a2f26d90","abe1278887e0795a6e5a9e35fd70d2ae3f5f96aba1910e4b9d4d5494a070eea2","abe1278887e0795a6e5a9e35fd70d2ae3f5f96aba1910e4b9d4d5494a070eea2","adc04a54b096aae05c9f82087cdf74e54db52c28524f3a2b26fabb5aae40fcbf","ae4bff7d9ad960ce16e4a2ca16b59159f0e6c25e142dbd303bb7e73ce4773d24","ae4bff7d9ad960ce16e4a2ca16b59159f0e6c25e142dbd303bb7e73ce4773d24","af2760619c227657d5098752df1658e5b1b270c4286fec86794b8d6342e760cb","af2760619c227657d5098752df1658e5b1b270c4286fec86794b8d6342e760cb","afbb463f17de40161d72b8cd57f65c7cb54846baa92429169f9a3b7f690de72a","afbb463f17de40161d72b8cd57f65c7cb54846baa92429169f9a3b7f690de72a","afbb463f17de40161d72b8cd57f65c7cb54846baa92429169f9a3b7f690de72a","afbb463f17de40161d72b8cd57f65c7cb54846baa92429169f9a3b7f690de72a","b19ac2381264bec69ff99d3f134ac275b672ee53812238c7801a67900a4f0ff4","b19ac2381264bec69ff99d3f134ac275b672ee53812238c7801a67900a4f0ff4","b19ac2381264bec69ff99d3f134ac275b672ee53812238c7801a67900a4f0ff4","b2a0718737c12651da94ea7edebf1769f1f1e023b7abadd18b2456d850fa33da","b2a0718737c12651da94ea7edebf1769f1f1e023b7abadd18b2456d850fa33da","b2a0718737c12651da94ea7edebf1769f1f1e023b7abadd18b2456d850fa33da","b2b66f393d857b6f3e4a0ea1320b54726b196fbd68b38daad643d05cb5983d4d","b2c816f8410b8dd8c5aa09293523cf3fc55c7ee402e0d0bca124d5cbf818514d","b2c816f8410b8dd8c5aa09293523cf3fc55c7ee402e0d0bca124d5cbf818514d","b2c816f8410b8dd8c5aa09293523cf3fc55c7ee402e0d0bca124d5cbf818514d","b37f81603e89a2c14c9acc37780cfe01dba3854b7a8648eabf59a4a00cc6c61a","b37f81603e89a2c14c9acc37780cfe01dba3854b7a8648eabf59a4a00cc6c61a","b505ee7977b4ac36bfc5c5b1489f2552e0a9bbf61c45732a23610c9ff8870312","b505ee7977b4ac36bfc5c5b1489f2552e0a9bbf61c45732a23610c9ff8870312","b505ee7977b4ac36bfc5c5b1489f2552e0a9bbf61c45732a23610c9ff8870312","b581d863d5a3a896138a79e0bcc1c6cb5f3604aea8e5ebdcf2b7bbff7a96a5bc","b581d863d5a3a896138a79e0bcc1c6cb5f3604aea8e5ebdcf2b7bbff7a96a5bc","b581d863d5a3a896138a79e0bcc1c6cb5f3604aea8e5ebdcf2b7bbff7a96a5bc","b65ae7ae3459c31734ddc7bbeacfbdab5e8056b9d1bbad2a53d29e08689822d8","b65ae7ae3459c31734ddc7bbeacfbdab5e8056b9d1bbad2a53d29e08689822d8","b683944227cf20248720c1d4e954e61435a05481af0f135ad5b1e167e2ad4f12","b683944227cf20248720c1d4e954e61435a05481af0f135ad5b1e167e2ad4f12","b77030dd1838e20392f6823068505a49e3dc9603098492b75d2fe07f1055360e","b8710beecce18efa37a3faa031eeee3c94c56a43be1d891adb0423f74f90e8e3","b9e0b325c58a78a755e81e10218c3f350ca23e1fe35378967618e0f6b6f8cd3c","bad99e81aee8c0fb2babf9c832a4d217a434e4350c879bd55c7a1bbfaeda18f6","bad99e81aee8c0fb2babf9c832a4d217a434e4350c879bd55c7a1bbfaeda18f6","bad99e81aee8c0fb2babf9c832a4d217a434e4350c879bd55c7a1bbfaeda18f6","baf1727f6aa69ca494e45485a07e5db42735c709c9c78fe5d182fd4951bee330","bb83f54021a14d5e56ddc61f0ca5c7e651291396c4986a158d81cd1345960662","bb83f54021a14d5e56ddc61f0ca5c7e651291396c4986a158d81cd1345960662","bca5d2b1f4e7ba699965fccb161cb80ca060f28cee327dc07787fe542e0135dc","bde304e7a77f5fd6de4e29ed3ddf662e5136dcd8277eca97acc2c72a74d36630","bde304e7a77f5fd6de4e29ed3ddf662e5136dcd8277eca97acc2c72a74d36630","bde304e7a77f5fd6de4e29ed3ddf662e5136dcd8277eca97acc2c72a74d36630","bde304e7a77f5fd6de4e29ed3ddf662e5136dcd8277eca97acc2c72a74d36630","bfea882e01db26e43e9d4ba17ab70ff8624aefcfcd262311d8c07e2734371a44","c182821046950b1c68db64a9f23d504191ae060189588b2e1b14b8035c611ac6","c182821046950b1c68db64a9f23d504191ae060189588b2e1b14b8035c611ac6","c182821046950b1c68db64a9f23d504191ae060189588b2e1b14b8035c611ac6","c3a0e41842ad7d8ccd18b0d07b5b2f0f5864aa9bd3f272e0047c3fbcb5865e62","c3a0e41842ad7d8ccd18b0d07b5b2f0f5864aa9bd3f272e0047c3fbcb5865e62","c692c128dfa18150503773ad209546ed5fc825986df5306a05141ee3f4e45571","c692c128dfa18150503773ad209546ed5fc825986df5306a05141ee3f4e45571","c6a6523ebecc517706bb5f743d7b5e4ce31a8bb1e86765431d75ba91742f4b9c","c781ac55cd49ed1f52d696a9a1cb0d2fefb8277b82c83ec904005397038a1adf","c781ac55cd49ed1f52d696a9a1cb0d2fefb8277b82c83ec904005397038a1adf","c781ac55cd49ed1f52d696a9a1cb0d2fefb8277b82c83ec904005397038a1adf","c781ac55cd49ed1f52d696a9a1cb0d2fefb8277b82c83ec904005397038a1adf","c9e0b20c5b6a4fa553d0fdf15c4a078304fd2db3948ad5c3c1ed8f307b5cb48b","c9e0b20c5b6a4fa553d0fdf15c4a078304fd2db3948ad5c3c1ed8f307b5cb48b","cb1644798ac711c20d54b7a1dddef86668f3795faa97bf393364f6e751994d22","cb1644798ac711c20d54b7a1dddef86668f3795faa97bf393364f6e751994d22","cbe4aa25467fb7f8f4729b5b4b496d1323919ecaff833b1abbadb1f0ec1833ac","cbe4aa25467fb7f8f4729b5b4b496d1323919ecaff833b1abbadb1f0ec1833ac","cf9657b510050e2f593eb6aa09467607c8b64710c864be2f9c9d72d848877a0a","cf9657b510050e2f593eb6aa09467607c8b64710c864be2f9c9d72d848877a0a","d0b8bd0ec875fb1728bb51e9871795743f6ce1204ab64ed733b0e5741378e4e7","d13d49834d640991a68662b316075a966b62b81a8e3a741a7b2213f77910e6e1","d13d49834d640991a68662b316075a966b62b81a8e3a741a7b2213f77910e6e1","d13d49834d640991a68662b316075a966b62b81a8e3a741a7b2213f77910e6e1","d2aa819b964c5bcc0426d62df38ae30857290dd70fbf136081d764594a44a750","d2aa819b964c5bcc0426d62df38ae30857290dd70fbf136081d764594a44a750","d2aa819b964c5bcc0426d62df38ae30857290dd70fbf136081d764594a44a750","d3280d4ef53efdbfa24b3fd264fb74ff84c57cbbf0f2fc56327d8229e263cd93","d3280d4ef53efdbfa24b3fd264fb74ff84c57cbbf0f2fc56327d8229e263cd93","d440eb45b9eec08908d6e8a1e9f1a6f5f6d19d66eab5757e228e3360d6661a61","d440eb45b9eec08908d6e8a1e9f1a6f5f6d19d66eab5757e228e3360d6661a61","d440eb45b9eec08908d6e8a1e9f1a6f5f6d19d66eab5757e228e3360d6661a61","d440eb45b9eec08908d6e8a1e9f1a6f5f6d19d66eab5757e228e3360d6661a61","d551c49d72ff52339212f86e6109202080f6ba7272e360e139b6bc5507100c96","d86377e2ebd31e6db458ac68563dc71060b67218a0468cf1fdceb7d8e7889a34","da66570eaf4398afb9fd603cfacddba3ecca4820aca154e16b31d4a20c45fe84","da66570eaf4398afb9fd603cfacddba3ecca4820aca154e16b31d4a20c45fe84","da66570eaf4398afb9fd603cfacddba3ecca4820aca154e16b31d4a20c45fe84","dbe7ddec7591332da15c3c4a1d4a2a1559d455a67b6c31a390ea546ea259c045","dbe7ddec7591332da15c3c4a1d4a2a1559d455a67b6c31a390ea546ea259c045","dc336dfbae788c0c1aee16047b5a441541020f44bb5312d9f8d0980922ff4206","dc336dfbae788c0c1aee16047b5a441541020f44bb5312d9f8d0980922ff4206","dc336dfbae788c0c1aee16047b5a441541020f44bb5312d9f8d0980922ff4206","dc336dfbae788c0c1aee16047b5a441541020f44bb5312d9f8d0980922ff4206","dc8b56351e1d0436d6677a3176cfd8ca2533f70b0f1299c14e5048e4207e7d48","dc8b56351e1d0436d6677a3176cfd8ca2533f70b0f1299c14e5048e4207e7d48","dc8b56351e1d0436d6677a3176cfd8ca2533f70b0f1299c14e5048e4207e7d48","dc8b56351e1d0436d6677a3176cfd8ca2533f70b0f1299c14e5048e4207e7d48","dd4ea90b12dadd2396c13a7d3f2139c6f248004bf73d8396c7e36a4002325c25","dd4ea90b12dadd2396c13a7d3f2139c6f248004bf73d8396c7e36a4002325c25","dd4ea90b12dadd2396c13a7d3f2139c6f248004bf73d8396c7e36a4002325c25","dd4ea90b12dadd2396c13a7d3f2139c6f248004bf73d8396c7e36a4002325c25","de9254897dc0af74eb03cf70242828514591b8f13d62d5f9a70ae7774aa3ab44","dfabee347dc4d30c7db2cb89d57eb8b430d900a28324ec85ce1fce25ee4071d8","dfabee347dc4d30c7db2cb89d57eb8b430d900a28324ec85ce1fce25ee4071d8","e010328e97dcd4ce53605cb28f7ed549753705ab60886b35929bf8820e3b14d3","e5005207bd793f9efeb724cf88578dba00370aca162f61d5dc6b0313d47fa01d","e5005207bd793f9efeb724cf88578dba00370aca162f61d5dc6b0313d47fa01d","e7c91c00f3cc73cc11c5c8253e59f90311ec2dd56c4c2e30141ac95e817c086b","e7c91c00f3cc73cc11c5c8253e59f90311ec2dd56c4c2e30141ac95e817c086b","e7c91c00f3cc73cc11c5c8253e59f90311ec2dd56c4c2e30141ac95e817c086b","e7e4d300bf067edef7f03fb9e7e5aa591cd7942771c1ead87da0dcbe2041ebd5","e7e4d300bf067edef7f03fb9e7e5aa591cd7942771c1ead87da0dcbe2041ebd5","e8bbb83d6126f8d9434137385a6ab1d3ab0c76b5733a283faf7c01f789ee90fa","e8bbb83d6126f8d9434137385a6ab1d3ab0c76b5733a283faf7c01f789ee90fa","e8bbb83d6126f8d9434137385a6ab1d3ab0c76b5733a283faf7c01f789ee90fa","e8bbb83d6126f8d9434137385a6ab1d3ab0c76b5733a283faf7c01f789ee90fa","e95014c85da7518e63991bc00ad2df3f114f6b8c0c6e5733d296e3326b58a70e","e97140a4ca9686e6a440827b7beb8947d612fd60c0b471564e19a5c9f1d98d60","e97140a4ca9686e6a440827b7beb8947d612fd60c0b471564e19a5c9f1d98d60","e9739397f74c2501289059108cb060319acdf35070d6d5dffe2023390a999fce","e9b66c510eda7623fde7c16a1228e9b408264f9f28315fb97f381ab760581e4d","e9b66c510eda7623fde7c16a1228e9b408264f9f28315fb97f381ab760581e4d","e9b66c510eda7623fde7c16a1228e9b408264f9f28315fb97f381ab760581e4d","e9d00d6bd5343443a644e3938e10423677873a36521cb261d37478bd1d056879","e9d00d6bd5343443a644e3938e10423677873a36521cb261d37478bd1d056879","ea143d3dcda3d1a2337c71cd43d2b700c6639c20368d5641136cc1300864d51b","ea143d3dcda3d1a2337c71cd43d2b700c6639c20368d5641136cc1300864d51b","ee8b90bf93ac51b41c075f5233af33af338a4a01afb84cf15ee63107c8948828","ef210f85826c904d3b7be5c7667caca00821a637634e4c2beb895388301403de","ef210f85826c904d3b7be5c7667caca00821a637634e4c2beb895388301403de","ef210f85826c904d3b7be5c7667caca00821a637634e4c2beb895388301403de","ef687765b1a70f42657d3a40b6fdf2dbe0e70f8364cc7711a62e26212ee9a56c","ef687765b1a70f42657d3a40b6fdf2dbe0e70f8364cc7711a62e26212ee9a56c","ef687765b1a70f42657d3a40b6fdf2dbe0e70f8364cc7711a62e26212ee9a56c","ef687765b1a70f42657d3a40b6fdf2dbe0e70f8364cc7711a62e26212ee9a56c","f244b7ec6f0bcfab422fa5238f954927aebb8b563dea1a262f3cfbbc5ab4ccfb","f244b7ec6f0bcfab422fa5238f954927aebb8b563dea1a262f3cfbbc5ab4ccfb","f39c09aba69bb11c3026ec4b542f7e1e4b1d669acdd8c62abd3e8d95d94be1d2","f39c09aba69bb11c3026ec4b542f7e1e4b1d669acdd8c62abd3e8d95d94be1d2","f39c09aba69bb11c3026ec4b542f7e1e4b1d669acdd8c62abd3e8d95d94be1d2","f5f32236072094abc1b4dc4cded9692d496df6f687a74e6232121d154e5364a2","f5f32236072094abc1b4dc4cded9692d496df6f687a74e6232121d154e5364a2","f6fda49d6b92561a6b8ab6452780fb13402a935133661d2ca2609b1f86572c5b","f6fda49d6b92561a6b8ab6452780fb13402a935133661d2ca2609b1f86572c5b","f6fda49d6b92561a6b8ab6452780fb13402a935133661d2ca2609b1f86572c5b","f925eee200cbf0b0b1b45d8550204561ff4ec422923ca37ad5d1c84be0464616","f925eee200cbf0b0b1b45d8550204561ff4ec422923ca37ad5d1c84be0464616","f96d65dd467f5d6f91cddf4e2d216253a4451282430963ad9a488fd0c27484ff","f96d65dd467f5d6f91cddf4e2d216253a4451282430963ad9a488fd0c27484ff","f96d65dd467f5d6f91cddf4e2d216253a4451282430963ad9a488fd0c27484ff","fabbe83496a926da732c87837864840d3952fb4805c703ea4efc74106523b698","fe40f94b85dbd75b7c8eea8e0930618b961479780ea24fac952a64d664c5f18a","fe40f94b85dbd75b7c8eea8e0930618b961479780ea24fac952a64d664c5f18a","ff721830335e197b3f31fb463d310e944c49c2b4bf11f236a60a5edca363fab2","ff721830335e197b3f31fb463d310e944c49c2b4bf11f236a60a5edca363fab2","ff721830335e197b3f31fb463d310e944c49c2b4bf11f236a60a5edca363fab2","ff721830335e197b3f31fb463d310e944c49c2b4bf11f236a60a5edca363fab2","ff7f258c404a241f8cf311e0e771d04e409945a3b8abccfdc97d8e692eebfa72","ff7f258c404a241f8cf311e0e771d04e409945a3b8abccfdc97d8e692eebfa72","ff7f258c404a241f8cf311e0e771d04e409945a3b8abccfdc97d8e692eebfa72","ff7f258c404a241f8cf311e0e771d04e409945a3b8abccfdc97d8e692eebfa72"],"to":["Marihuana","Alcohol","Marihuana","Marihuana","Alcohol","Alcohol","Alcohol","Alcohol","Pasta Base","Pasta Base","Sedantes","Alcohol","Cocaína","Marihuana","Alcohol","Alcohol","Pasta Base","Alcohol","Marihuana","Pasta Base","Alcohol","Marihuana","Pasta Base","Alcohol","Cocaína","Marihuana","Pasta Base","Sedantes","Cocaína","Marihuana","Alcohol","Cocaína","Marihuana","Alcohol","Marihuana","Pasta Base","Alcohol","Anfetaminas","Cocaína","Marihuana","Pasta Base","Alcohol","Pasta Base","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Alcohol","Cocaína","Cocaína","Alcohol","Marihuana","Pasta Base","Alcohol","Cocaína","Pasta Base","Alcohol","Marihuana","Alcohol","Pasta Base","Alcohol","Marihuana","Alcohol","Marihuana","Marihuana","Pasta Base","Alcohol","Marihuana","Alcohol","Cocaína","Marihuana","Alcohol","Cocaína","Alcohol","Pasta Base","Cocaína","Alcohol","Marihuana","Otros","Pasta Base","Marihuana","Pasta Base","Alcohol","Alcohol","Otros","Alcohol","Cocaína","Marihuana","Alcohol","Cocaína","Cocaína","Alcohol","Otros","Pasta Base","Alcohol","Cocaína","Marihuana","Alcohol","Marihuana","Alcohol","Marihuana","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Pasta Base","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Marihuana","Pasta Base","Alcohol","Pasta Base","Alcohol","Marihuana","Pasta Base","Alcohol","Cocaína","Marihuana","Cocaína","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Cocaína","Pasta Base","Sedantes","Alcohol","Cocaína","Alcohol","Cocaína","Cocaína","Marihuana","Alcohol","Otros","Pasta Base","Marihuana","Cocaína","Pasta Base","Alcohol","Cocaína","Marihuana","Marihuana","Pasta Base","Alcohol","Cocaína","Marihuana","Alcohol","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Cocaína","Marihuana","Pasta Base","Marihuana","Pasta Base","Alcohol","Pasta Base","Alcohol","Marihuana","Pasta Base","Alcohol","Marihuana","Pasta Base","Alcohol","Cocaína","Marihuana","Alcohol","Marihuana","Alcohol","Cocaína","Marihuana","Alcohol","Alcohol","Cocaína","Marihuana","Pasta Base","Marihuana","Pasta Base","Alcohol","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Marihuana","Alcohol","Alcohol","Marihuana","Pasta Base","Otros","Sedantes","Alcohol","Cocaína","Marihuana","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Cocaína","Pasta Base","Alcohol","Pasta Base","Alcohol","Alcohol","Marihuana","Pasta Base","Alucinógenos","Cocaína","Marihuana","Alcohol","Alcohol","Alcohol","Pasta Base","Alcohol","Marihuana","Pasta Base","Alcohol","Cocaína","Marihuana","Alcohol","Marihuana","Pasta Base","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Cocaína","Marihuana","Alcohol","Alcohol","Cocaína","Pasta Base","Alcohol","Marihuana","Pasta Base","Pasta Base","Alcohol","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Pasta Base","Alcohol","Marihuana","Pasta Base","Alcohol","Cocaína","Marihuana","Alcohol","Alcohol","Cocaína","Marihuana","Pasta Base","Marihuana","Pasta Base","Alcohol","Alcohol","Marihuana","Pasta Base","Alcohol","Alcohol","Marihuana","Pasta Base","Alcohol","Alcohol","Cocaína","Alcohol","Cocaína","Marihuana","Pasta Base","Pasta Base","Cocaína","Marihuana","Pasta Base","Alcohol","Cocaína","Pasta Base","Alcohol","Marihuana","Pasta Base","Alcohol","Marihuana","Cocaína","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Inhalables","Marihuana","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Cocaína","Pasta Base","Alcohol","Marihuana","Alcohol","Marihuana","Pasta Base","Alcohol","Marihuana","Pasta Base","Alcohol","Pasta Base","Alcohol","Marihuana","Alcohol","Marihuana","Alcohol","Alcohol","Marihuana","Pasta Base","Alcohol","Alcohol","Marihuana","Alcohol","Alcohol","Cocaína","Marihuana","Sedantes","Alcohol","Alcohol","Cocaína","Marihuana","Alcohol","Pasta Base","Alcohol","Sedantes","Pasta Base","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Cocaína","Alcohol","Cocaína","Alcohol","Marihuana","Alcohol","Marihuana","Cocaína","Cocaína","Marihuana","Pasta Base","Alcohol","Cocaína","Pasta Base","Alcohol","Cocaína","Alcohol","Cocaína","Heroína","Hipnóticos","Alcohol","Alcohol","Alcohol","Cocaína","Pasta Base","Alcohol","Cocaína","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Marihuana","Pasta Base","Alcohol","Alcohol","Cocaína","Alcohol","Marihuana","Pasta Base","Cocaína","Marihuana","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Alcohol","Pasta Base","Opioides","Marihuana","Otros","Pasta Base","Alcohol","Marihuana","Alcohol","Pasta Base","Pasta Base","Alcohol","Marihuana","Pasta Base","Alcohol","Marihuana","Pasta Base","Sedantes","Alcohol","Cocaína","Marihuana","Otros","Pasta Base","Alcohol","Cocaína","Alcohol","Cocaína","Marihuana","Cocaína","Pasta Base","Alcohol","Cocaína","Pasta Base","Alcohol","Alcohol","Cocaína","Alcohol","Cocaína","Marihuana","Pasta Base","Alcohol","Cocaína","Marihuana","Pasta Base"],"weight":[6,2,1,4,2,2,4,6,2,2,1,2,1,1,4,4,14,2,1,1,1,1,2,2,5,5,10,2,2,1,1,2,1,1,2,1,3,1,1,2,10,2,4,1,1,1,2,2,4,2,4,3,3,6,2,4,2,3,6,1,2,2,1,2,1,1,2,14,3,2,1,1,1,2,1,2,6,4,3,1,5,3,6,2,4,2,2,8,7,4,2,6,4,1,6,2,3,1,6,2,10,4,4,2,2,2,4,2,2,1,1,4,1,1,2,2,4,3,3,6,1,2,1,2,4,8,4,4,2,4,1,1,6,3,1,2,1,2,1,1,2,2,2,4,2,6,3,2,1,4,2,5,2,13,2,3,17,2,2,2,4,1,2,1,2,2,2,4,1,1,2,1,2,1,4,2,2,1,1,2,1,1,1,2,1,2,6,3,3,3,6,2,1,6,1,1,2,2,14,14,7,4,1,2,3,6,1,1,1,2,1,1,2,1,2,1,2,1,4,4,1,1,2,2,4,2,8,2,1,2,4,1,2,6,3,3,2,2,4,2,5,3,7,1,1,2,12,2,4,2,1,1,2,6,4,1,1,1,2,2,1,2,2,4,4,2,2,6,1,2,1,1,1,4,2,1,2,1,6,1,1,2,4,2,1,1,2,1,1,4,1,1,2,1,1,2,1,1,2,2,4,2,2,4,1,2,7,10,9,20,6,3,3,3,6,3,2,1,1,2,8,2,1,3,3,1,1,2,2,4,1,2,4,2,2,2,2,4,6,9,9,2,5,10,4,3,8,4,2,2,1,2,6,6,2,5,5,5,10,3,10,4,2,6,1,1,2,10,1,1,2,1,2,6,4,2,1,2,1,1,2,4,3,2,6,1,4,2,4,1,1,1,1,1,2,7,8,4,16,4,1,2,2,1,2,2,2,4,2,1,2,2,2,4,8,2,4,8,1,1,2,4,2,1,2,2,1,1,2,1,1,2,1,1,2,1,1,2,3,6,2,2,4,1,2,2,1,1,2,4,2,1,1,1,2,4,4,4,8],"color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"],"highlight":["#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B"],"width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","scaling":{"min":5,"max":50}},"manipulation":{"enabled":false},"interaction":{"hover":true,"dragNodes":true,"dragView":true,"navigationButtons":true,"zoomView":true,"zoomSpeed":1},"edges":{"color":{"color":"rgba(150,150,150,0.3)","highlight":"#FF6B6B"},"smooth":false},"groups":{"Sustancia":{"color":"#e74c3c","shape":"dot"},"useDefaultGroups":true,"Paciente":{"color":"#3498db","shape":"square","size":5}}},"groups":["Paciente","Sustancia"],"width":"100%","height":"600px","idselection":{"enabled":false,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":true,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false,"variable":"group","main":"Filtrar por tipo","values":["Paciente","Sustancia"]},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":true,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);","legend":{"width":0.1,"useGroups":true,"position":"right","ncol":1,"stepX":100,"stepY":100,"zoom":true}},"evals":[],"jsHooks":[]}</script>
<p>Red bipartita interactiva (zoom y arrastre habilitados)</p>
</div>
</div>
</section>
<section id="red-interactiva-de-proyección" class="level2" data-number="5.14">
<h2 data-number="5.14" class="anchored" data-anchor-id="red-interactiva-de-proyección"><span class="header-section-number">5.14</span> Red Interactiva de Proyección</h2>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular layout con mayor separación</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>coords_proj <span class="ot">&lt;-</span> <span class="fu">layout_with_fr</span>(g_substances, <span class="at">weights =</span> <span class="fu">E</span>(g_substances)<span class="sc">$</span>weight)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>coords_proj <span class="ot">&lt;-</span> coords_proj <span class="sc">*</span> <span class="dv">300</span>  <span class="co"># Mayor escala para mejor separación</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular tamaños proporcionales</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>node_strength_proj <span class="ot">&lt;-</span> <span class="fu">strength</span>(g_substances)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>node_sizes_proj <span class="ot">&lt;-</span> (node_strength_proj <span class="sc">/</span> <span class="fu">max</span>(node_strength_proj)) <span class="sc">*</span> <span class="dv">50</span> <span class="sc">+</span> <span class="dv">10</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Preparar datos para visNetwork</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>nodes_proj <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="fu">V</span>(g_substances)<span class="sc">$</span>name,</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> <span class="fu">V</span>(g_substances)<span class="sc">$</span>name,</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> node_sizes_proj,  <span class="co"># Tamaño proporcional a interacciones</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">membership</span>(communities_proj),</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> coords_proj[,<span class="dv">1</span>],</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> coords_proj[,<span class="dv">2</span>],</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="fu">paste0</span>(</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;b&gt;"</span>, <span class="fu">V</span>(g_substances)<span class="sc">$</span>name, <span class="st">"&lt;/b&gt;&lt;br&gt;"</span>,</span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Pacientes totales: "</span>, centrality_metrics_bi<span class="sc">$</span>Pacientes_Totales[</span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">match</span>(<span class="fu">V</span>(g_substances)<span class="sc">$</span>name, centrality_metrics_bi<span class="sc">$</span>Sustancia)</span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>    ], <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Fuerza de conexión: "</span>, <span class="fu">format</span>(<span class="fu">round</span>(node_strength_proj, <span class="dv">0</span>), <span class="at">big.mark =</span> <span class="st">","</span>), <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Conexiones: "</span>, <span class="fu">degree</span>(g_substances), <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Comunidad: "</span>, <span class="fu">membership</span>(communities_proj), <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"K-Core: "</span>, coreness_bi</span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">font.size =</span> <span class="fu">ifelse</span>(node_strength_proj <span class="sc">&gt;</span> <span class="fu">quantile</span>(node_strength_proj, <span class="fl">0.75</span>), <span class="dv">20</span>, <span class="dv">14</span>),</span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">physics =</span> <span class="cn">TRUE</span></span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajustar posiciones de nodos principales</span></span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>top_nodes_proj <span class="ot">&lt;-</span> <span class="fu">head</span>(nodes_proj<span class="sc">$</span>id[<span class="fu">order</span>(node_strength_proj, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)], <span class="dv">4</span>)</span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="st">"Alcohol"</span> <span class="sc">%in%</span> nodes_proj<span class="sc">$</span>id) {</span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>  idx <span class="ot">&lt;-</span> <span class="fu">which</span>(nodes_proj<span class="sc">$</span>id <span class="sc">==</span> <span class="st">"Alcohol"</span>)</span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>  nodes_proj[idx, <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">400</span>, <span class="dv">0</span>)</span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a>  nodes_proj[idx, <span class="st">"fixed"</span>] <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="st">"Marihuana"</span> <span class="sc">%in%</span> nodes_proj<span class="sc">$</span>id) {</span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a>  idx <span class="ot">&lt;-</span> <span class="fu">which</span>(nodes_proj<span class="sc">$</span>id <span class="sc">==</span> <span class="st">"Marihuana"</span>)</span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a>  nodes_proj[idx, <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">400</span>, <span class="dv">0</span>)</span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a>  nodes_proj[idx, <span class="st">"fixed"</span>] <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb33-43"><a href="#cb33-43" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-44"><a href="#cb33-44" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="st">"Pasta Base"</span> <span class="sc">%in%</span> nodes_proj<span class="sc">$</span>id) {</span>
<span id="cb33-45"><a href="#cb33-45" aria-hidden="true" tabindex="-1"></a>  idx <span class="ot">&lt;-</span> <span class="fu">which</span>(nodes_proj<span class="sc">$</span>id <span class="sc">==</span> <span class="st">"Pasta Base"</span>)</span>
<span id="cb33-46"><a href="#cb33-46" aria-hidden="true" tabindex="-1"></a>  nodes_proj[idx, <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">400</span>)</span>
<span id="cb33-47"><a href="#cb33-47" aria-hidden="true" tabindex="-1"></a>  nodes_proj[idx, <span class="st">"fixed"</span>] <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb33-48"><a href="#cb33-48" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-49"><a href="#cb33-49" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="st">"Cocaína"</span> <span class="sc">%in%</span> nodes_proj<span class="sc">$</span>id) {</span>
<span id="cb33-50"><a href="#cb33-50" aria-hidden="true" tabindex="-1"></a>  idx <span class="ot">&lt;-</span> <span class="fu">which</span>(nodes_proj<span class="sc">$</span>id <span class="sc">==</span> <span class="st">"Cocaína"</span>)</span>
<span id="cb33-51"><a href="#cb33-51" aria-hidden="true" tabindex="-1"></a>  nodes_proj[idx, <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">400</span>)</span>
<span id="cb33-52"><a href="#cb33-52" aria-hidden="true" tabindex="-1"></a>  nodes_proj[idx, <span class="st">"fixed"</span>] <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb33-53"><a href="#cb33-53" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-54"><a href="#cb33-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-55"><a href="#cb33-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Preparar edges con grosor proporcional</span></span>
<span id="cb33-56"><a href="#cb33-56" aria-hidden="true" tabindex="-1"></a>edges_proj_df <span class="ot">&lt;-</span> <span class="fu">as_data_frame</span>(g_substances, <span class="at">what =</span> <span class="st">"edges"</span>)</span>
<span id="cb33-57"><a href="#cb33-57" aria-hidden="true" tabindex="-1"></a>edges_proj <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb33-58"><a href="#cb33-58" aria-hidden="true" tabindex="-1"></a>  <span class="at">from =</span> edges_proj_df<span class="sc">$</span>from,</span>
<span id="cb33-59"><a href="#cb33-59" aria-hidden="true" tabindex="-1"></a>  <span class="at">to =</span> edges_proj_df<span class="sc">$</span>to,</span>
<span id="cb33-60"><a href="#cb33-60" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> edges_proj_df<span class="sc">$</span>weight <span class="sc">/</span> <span class="dv">50</span>,  <span class="co"># Escalar para visualización</span></span>
<span id="cb33-61"><a href="#cb33-61" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="fu">paste0</span>(</span>
<span id="cb33-62"><a href="#cb33-62" aria-hidden="true" tabindex="-1"></a>    edges_proj_df<span class="sc">$</span>from, <span class="st">" ↔ "</span>, edges_proj_df<span class="sc">$</span>to, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb33-63"><a href="#cb33-63" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Pacientes compartidos: "</span>, <span class="fu">format</span>(edges_proj_df<span class="sc">$</span>weight, <span class="at">big.mark =</span> <span class="st">","</span>)</span>
<span id="cb33-64"><a href="#cb33-64" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb33-65"><a href="#cb33-65" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="st">"rgba(150,150,150,0.4)"</span>,</span>
<span id="cb33-66"><a href="#cb33-66" aria-hidden="true" tabindex="-1"></a>  <span class="at">highlight =</span> <span class="st">"#FF6B6B"</span></span>
<span id="cb33-67"><a href="#cb33-67" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-68"><a href="#cb33-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-69"><a href="#cb33-69" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear visualización interactiva con mejor separación</span></span>
<span id="cb33-70"><a href="#cb33-70" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(nodes_proj, edges_proj, <span class="at">height =</span> <span class="st">"700px"</span>, <span class="at">width =</span> <span class="st">"100%"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-71"><a href="#cb33-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(</span>
<span id="cb33-72"><a href="#cb33-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">highlightNearest =</span> <span class="fu">list</span>(</span>
<span id="cb33-73"><a href="#cb33-73" aria-hidden="true" tabindex="-1"></a>      <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-74"><a href="#cb33-74" aria-hidden="true" tabindex="-1"></a>      <span class="at">hover =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-75"><a href="#cb33-75" aria-hidden="true" tabindex="-1"></a>      <span class="at">degree =</span> <span class="dv">1</span>,</span>
<span id="cb33-76"><a href="#cb33-76" aria-hidden="true" tabindex="-1"></a>      <span class="at">labelOnly =</span> <span class="cn">FALSE</span></span>
<span id="cb33-77"><a href="#cb33-77" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb33-78"><a href="#cb33-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">nodesIdSelection =</span> <span class="fu">list</span>(</span>
<span id="cb33-79"><a href="#cb33-79" aria-hidden="true" tabindex="-1"></a>      <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-80"><a href="#cb33-80" aria-hidden="true" tabindex="-1"></a>      <span class="at">style =</span> <span class="st">'width: 200px; height: 30px;'</span>,</span>
<span id="cb33-81"><a href="#cb33-81" aria-hidden="true" tabindex="-1"></a>      <span class="at">main =</span> <span class="st">"Buscar sustancia"</span></span>
<span id="cb33-82"><a href="#cb33-82" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb33-83"><a href="#cb33-83" aria-hidden="true" tabindex="-1"></a>    <span class="at">selectedBy =</span> <span class="fu">list</span>(</span>
<span id="cb33-84"><a href="#cb33-84" aria-hidden="true" tabindex="-1"></a>      <span class="at">variable =</span> <span class="st">"group"</span>,</span>
<span id="cb33-85"><a href="#cb33-85" aria-hidden="true" tabindex="-1"></a>      <span class="at">style =</span> <span class="st">'width: 200px; height: 30px;'</span>,</span>
<span id="cb33-86"><a href="#cb33-86" aria-hidden="true" tabindex="-1"></a>      <span class="at">main =</span> <span class="st">"Filtrar por comunidad"</span></span>
<span id="cb33-87"><a href="#cb33-87" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-88"><a href="#cb33-88" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb33-89"><a href="#cb33-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visPhysics</span>(</span>
<span id="cb33-90"><a href="#cb33-90" aria-hidden="true" tabindex="-1"></a>    <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-91"><a href="#cb33-91" aria-hidden="true" tabindex="-1"></a>    <span class="at">stabilization =</span> <span class="fu">list</span>(</span>
<span id="cb33-92"><a href="#cb33-92" aria-hidden="true" tabindex="-1"></a>      <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-93"><a href="#cb33-93" aria-hidden="true" tabindex="-1"></a>      <span class="at">iterations =</span> <span class="dv">500</span>,</span>
<span id="cb33-94"><a href="#cb33-94" aria-hidden="true" tabindex="-1"></a>      <span class="at">updateInterval =</span> <span class="dv">50</span></span>
<span id="cb33-95"><a href="#cb33-95" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb33-96"><a href="#cb33-96" aria-hidden="true" tabindex="-1"></a>    <span class="at">barnesHut =</span> <span class="fu">list</span>(</span>
<span id="cb33-97"><a href="#cb33-97" aria-hidden="true" tabindex="-1"></a>      <span class="at">gravitationalConstant =</span> <span class="sc">-</span><span class="dv">10000</span>,  <span class="co"># Mayor repulsión</span></span>
<span id="cb33-98"><a href="#cb33-98" aria-hidden="true" tabindex="-1"></a>      <span class="at">centralGravity =</span> <span class="fl">0.1</span>,</span>
<span id="cb33-99"><a href="#cb33-99" aria-hidden="true" tabindex="-1"></a>      <span class="at">springLength =</span> <span class="dv">350</span>,  <span class="co"># Resortes más largos</span></span>
<span id="cb33-100"><a href="#cb33-100" aria-hidden="true" tabindex="-1"></a>      <span class="at">springConstant =</span> <span class="fl">0.001</span>,</span>
<span id="cb33-101"><a href="#cb33-101" aria-hidden="true" tabindex="-1"></a>      <span class="at">damping =</span> <span class="fl">0.5</span>,</span>
<span id="cb33-102"><a href="#cb33-102" aria-hidden="true" tabindex="-1"></a>      <span class="at">avoidOverlap =</span> <span class="dv">1</span></span>
<span id="cb33-103"><a href="#cb33-103" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb33-104"><a href="#cb33-104" aria-hidden="true" tabindex="-1"></a>    <span class="at">repulsion =</span> <span class="fu">list</span>(</span>
<span id="cb33-105"><a href="#cb33-105" aria-hidden="true" tabindex="-1"></a>      <span class="at">nodeDistance =</span> <span class="dv">300</span>,  <span class="co"># Mayor distancia mínima</span></span>
<span id="cb33-106"><a href="#cb33-106" aria-hidden="true" tabindex="-1"></a>      <span class="at">centralGravity =</span> <span class="fl">0.1</span>,</span>
<span id="cb33-107"><a href="#cb33-107" aria-hidden="true" tabindex="-1"></a>      <span class="at">springLength =</span> <span class="dv">350</span>,</span>
<span id="cb33-108"><a href="#cb33-108" aria-hidden="true" tabindex="-1"></a>      <span class="at">springConstant =</span> <span class="fl">0.01</span>,</span>
<span id="cb33-109"><a href="#cb33-109" aria-hidden="true" tabindex="-1"></a>      <span class="at">damping =</span> <span class="fl">0.5</span></span>
<span id="cb33-110"><a href="#cb33-110" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb33-111"><a href="#cb33-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">maxVelocity =</span> <span class="dv">50</span>,</span>
<span id="cb33-112"><a href="#cb33-112" aria-hidden="true" tabindex="-1"></a>    <span class="at">minVelocity =</span> <span class="fl">0.75</span>,</span>
<span id="cb33-113"><a href="#cb33-113" aria-hidden="true" tabindex="-1"></a>    <span class="at">solver =</span> <span class="st">"barnesHut"</span></span>
<span id="cb33-114"><a href="#cb33-114" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb33-115"><a href="#cb33-115" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(</span>
<span id="cb33-116"><a href="#cb33-116" aria-hidden="true" tabindex="-1"></a>    <span class="at">randomSeed =</span> <span class="dv">123</span>,</span>
<span id="cb33-117"><a href="#cb33-117" aria-hidden="true" tabindex="-1"></a>    <span class="at">improvedLayout =</span> <span class="cn">TRUE</span></span>
<span id="cb33-118"><a href="#cb33-118" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb33-119"><a href="#cb33-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visInteraction</span>(</span>
<span id="cb33-120"><a href="#cb33-120" aria-hidden="true" tabindex="-1"></a>    <span class="at">navigationButtons =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-121"><a href="#cb33-121" aria-hidden="true" tabindex="-1"></a>    <span class="at">dragNodes =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-122"><a href="#cb33-122" aria-hidden="true" tabindex="-1"></a>    <span class="at">dragView =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-123"><a href="#cb33-123" aria-hidden="true" tabindex="-1"></a>    <span class="at">zoomView =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-124"><a href="#cb33-124" aria-hidden="true" tabindex="-1"></a>    <span class="at">hover =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-125"><a href="#cb33-125" aria-hidden="true" tabindex="-1"></a>    <span class="at">tooltipDelay =</span> <span class="dv">0</span>,</span>
<span id="cb33-126"><a href="#cb33-126" aria-hidden="true" tabindex="-1"></a>    <span class="at">hideEdgesOnDrag =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-127"><a href="#cb33-127" aria-hidden="true" tabindex="-1"></a>    <span class="at">zoomSpeed =</span> <span class="fl">0.5</span></span>
<span id="cb33-128"><a href="#cb33-128" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb33-129"><a href="#cb33-129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(</span>
<span id="cb33-130"><a href="#cb33-130" aria-hidden="true" tabindex="-1"></a>    <span class="at">smooth =</span> <span class="fu">list</span>(</span>
<span id="cb33-131"><a href="#cb33-131" aria-hidden="true" tabindex="-1"></a>      <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-132"><a href="#cb33-132" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">"continuous"</span>,</span>
<span id="cb33-133"><a href="#cb33-133" aria-hidden="true" tabindex="-1"></a>      <span class="at">roundness =</span> <span class="fl">0.5</span></span>
<span id="cb33-134"><a href="#cb33-134" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb33-135"><a href="#cb33-135" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="dv">2</span>,</span>
<span id="cb33-136"><a href="#cb33-136" aria-hidden="true" tabindex="-1"></a>    <span class="at">physics =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-137"><a href="#cb33-137" aria-hidden="true" tabindex="-1"></a>    <span class="at">scaling =</span> <span class="fu">list</span>(</span>
<span id="cb33-138"><a href="#cb33-138" aria-hidden="true" tabindex="-1"></a>      <span class="at">min =</span> <span class="fl">0.5</span>,</span>
<span id="cb33-139"><a href="#cb33-139" aria-hidden="true" tabindex="-1"></a>      <span class="at">max =</span> <span class="dv">6</span></span>
<span id="cb33-140"><a href="#cb33-140" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb33-141"><a href="#cb33-141" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="fu">list</span>(</span>
<span id="cb33-142"><a href="#cb33-142" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">"rgba(150,150,150,0.4)"</span>,</span>
<span id="cb33-143"><a href="#cb33-143" aria-hidden="true" tabindex="-1"></a>      <span class="at">highlight =</span> <span class="st">"#FF6B6B"</span>,</span>
<span id="cb33-144"><a href="#cb33-144" aria-hidden="true" tabindex="-1"></a>      <span class="at">hover =</span> <span class="st">"#FF6B6B"</span></span>
<span id="cb33-145"><a href="#cb33-145" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-146"><a href="#cb33-146" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb33-147"><a href="#cb33-147" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visNodes</span>(</span>
<span id="cb33-148"><a href="#cb33-148" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="st">"dot"</span>,</span>
<span id="cb33-149"><a href="#cb33-149" aria-hidden="true" tabindex="-1"></a>    <span class="at">scaling =</span> <span class="fu">list</span>(</span>
<span id="cb33-150"><a href="#cb33-150" aria-hidden="true" tabindex="-1"></a>      <span class="at">min =</span> <span class="dv">10</span>,</span>
<span id="cb33-151"><a href="#cb33-151" aria-hidden="true" tabindex="-1"></a>      <span class="at">max =</span> <span class="dv">60</span>,</span>
<span id="cb33-152"><a href="#cb33-152" aria-hidden="true" tabindex="-1"></a>      <span class="at">label =</span> <span class="fu">list</span>(</span>
<span id="cb33-153"><a href="#cb33-153" aria-hidden="true" tabindex="-1"></a>        <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-154"><a href="#cb33-154" aria-hidden="true" tabindex="-1"></a>        <span class="at">min =</span> <span class="dv">14</span>,</span>
<span id="cb33-155"><a href="#cb33-155" aria-hidden="true" tabindex="-1"></a>        <span class="at">max =</span> <span class="dv">24</span></span>
<span id="cb33-156"><a href="#cb33-156" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb33-157"><a href="#cb33-157" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb33-158"><a href="#cb33-158" aria-hidden="true" tabindex="-1"></a>    <span class="at">borderWidth =</span> <span class="dv">2</span>,</span>
<span id="cb33-159"><a href="#cb33-159" aria-hidden="true" tabindex="-1"></a>    <span class="at">borderWidthSelected =</span> <span class="dv">4</span>,</span>
<span id="cb33-160"><a href="#cb33-160" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="fu">list</span>(</span>
<span id="cb33-161"><a href="#cb33-161" aria-hidden="true" tabindex="-1"></a>      <span class="at">background =</span> <span class="st">"#e74c3c"</span>,</span>
<span id="cb33-162"><a href="#cb33-162" aria-hidden="true" tabindex="-1"></a>      <span class="at">border =</span> <span class="st">"#c0392b"</span>,</span>
<span id="cb33-163"><a href="#cb33-163" aria-hidden="true" tabindex="-1"></a>      <span class="at">highlight =</span> <span class="fu">list</span>(</span>
<span id="cb33-164"><a href="#cb33-164" aria-hidden="true" tabindex="-1"></a>        <span class="at">background =</span> <span class="st">"#ff6b6b"</span>,</span>
<span id="cb33-165"><a href="#cb33-165" aria-hidden="true" tabindex="-1"></a>        <span class="at">border =</span> <span class="st">"#e74c3c"</span></span>
<span id="cb33-166"><a href="#cb33-166" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb33-167"><a href="#cb33-167" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-168"><a href="#cb33-168" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb33-169"><a href="#cb33-169" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>(</span>
<span id="cb33-170"><a href="#cb33-170" aria-hidden="true" tabindex="-1"></a>    <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-171"><a href="#cb33-171" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="st">"right"</span>,</span>
<span id="cb33-172"><a href="#cb33-172" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="fl">0.15</span>,</span>
<span id="cb33-173"><a href="#cb33-173" aria-hidden="true" tabindex="-1"></a>    <span class="at">useGroups =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-174"><a href="#cb33-174" aria-hidden="true" tabindex="-1"></a>    <span class="at">main =</span> <span class="st">"Comunidades"</span></span>
<span id="cb33-175"><a href="#cb33-175" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb33-176"><a href="#cb33-176" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visConfigure</span>(<span class="at">enabled =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="htmlwidget-28590c98a28e71fa0a22" style="width:100%;height:700px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-28590c98a28e71fa0a22">{"x":{"nodes":{"id":["Alcohol","Hipnóticos","Cocaína","Estimulantes","Marihuana","Tranquilizantes","Inhalables","Pasta Base","Sedantes","Anfetaminas","Crack","Metanfetaminas y Otros Derivados","Opioides","Lsd","Alucinógenos","Éxtasis/MDMA","Otros","Hongos","Heroína","Metadona","Esteroides Anabólicos","Fenilciclidina"],"label":["Alcohol","Hipnóticos","Cocaína","Estimulantes","Marihuana","Tranquilizantes","Inhalables","Pasta Base","Sedantes","Anfetaminas","Crack","Metanfetaminas y Otros Derivados","Opioides","Lsd","Alucinógenos","Éxtasis/MDMA","Otros","Hongos","Heroína","Metadona","Esteroides Anabólicos","Fenilciclidina"],"value":[60,13.50692155570204,51.00197758734344,14.614370468029,55.68885959129862,12.86750164798945,15.40540540540541,40.84377059986816,21.64139749505603,15.92617007251154,14.0210942649967,14.37705998681608,15.35266974291364,15.55042847725775,15.06262359920897,15.74159525379038,16.31509558338827,12.46539222148978,11.22610415293342,10.34278180619644,10.18457481872116,10.1318391562294],"group":[1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,2,3,3,1,3],"x":[-400,112.410811987321,0,18.26970210834738,400,78.93892943927845,77.85890805465336,0,62.89791872985653,51.24781312751844,-45.49413250643195,82.08362657398918,-4.892632437073973,32.0068865139426,-9.859393752183173,98.20354468993365,-24.18540319324568,61.5692063616541,-53.89887225678448,-105.1177132020251,-232.3549251752621,243.1770892398997],"y":[0,39.70769682346845,-400,69.06414391161977,0,87.51223955717522,-35.07886471180533,400,23.77349401188502,53.67135798523854,-24.32740694155294,-63.51221756044659,47.37613540884919,-65.70806243774783,-51.15929052760677,-12.2090469391751,16.54368670699587,-107.143271786792,-105.2215463142807,168.599773906516,-35.97386937557588,-218.0942467124659],"title":["<b>Alcohol<\/b><br>Pacientes totales: 87036<br>Fuerza de conexión: 7,585<br>Conexiones: 21<br>Comunidad: 1<br>K-Core: 15","<b>Hipnóticos<\/b><br>Pacientes totales: 241<br>Fuerza de conexión:   532<br>Conexiones: 16<br>Comunidad: 1<br>K-Core: 15","<b>Cocaína<\/b><br>Pacientes totales: 47990<br>Fuerza de conexión: 6,220<br>Conexiones: 21<br>Comunidad: 1<br>K-Core: 15","<b>Estimulantes<\/b><br>Pacientes totales: 697<br>Fuerza de conexión:   700<br>Conexiones: 18<br>Comunidad: 1<br>K-Core: 15","<b>Marihuana<\/b><br>Pacientes totales: 52768<br>Fuerza de conexión: 6,931<br>Conexiones: 21<br>Comunidad: 1<br>K-Core: 15","<b>Tranquilizantes<\/b><br>Pacientes totales: 184<br>Fuerza de conexión:   435<br>Conexiones: 15<br>Comunidad: 1<br>K-Core: 15","<b>Inhalables<\/b><br>Pacientes totales: 1065<br>Fuerza de conexión:   820<br>Conexiones: 17<br>Comunidad: 1<br>K-Core: 15","<b>Pasta Base<\/b><br>Pacientes totales: 48914<br>Fuerza de conexión: 4,679<br>Conexiones: 21<br>Comunidad: 1<br>K-Core: 15","<b>Sedantes<\/b><br>Pacientes totales: 6025<br>Fuerza de conexión: 1,766<br>Conexiones: 20<br>Comunidad: 1<br>K-Core: 15","<b>Anfetaminas<\/b><br>Pacientes totales: 1004<br>Fuerza de conexión:   899<br>Conexiones: 19<br>Comunidad: 1<br>K-Core: 15","<b>Crack<\/b><br>Pacientes totales: 193<br>Fuerza de conexión:   610<br>Conexiones: 16<br>Comunidad: 1<br>K-Core: 15","<b>Metanfetaminas y Otros Derivados<\/b><br>Pacientes totales: 222<br>Fuerza de conexión:   664<br>Conexiones: 18<br>Comunidad: 1<br>K-Core: 15","<b>Opioides<\/b><br>Pacientes totales: 896<br>Fuerza de conexión:   812<br>Conexiones: 20<br>Comunidad: 1<br>K-Core: 15","<b>Lsd<\/b><br>Pacientes totales: 420<br>Fuerza de conexión:   842<br>Conexiones: 18<br>Comunidad: 2<br>K-Core: 15","<b>Alucinógenos<\/b><br>Pacientes totales: 372<br>Fuerza de conexión:   768<br>Conexiones: 18<br>Comunidad: 1<br>K-Core: 15","<b>Éxtasis/MDMA<\/b><br>Pacientes totales: 501<br>Fuerza de conexión:   871<br>Conexiones: 19<br>Comunidad: 2<br>K-Core: 15","<b>Otros<\/b><br>Pacientes totales: 2703<br>Fuerza de conexión:   958<br>Conexiones: 20<br>Comunidad: 1<br>K-Core: 15","<b>Hongos<\/b><br>Pacientes totales: 126<br>Fuerza de conexión:   374<br>Conexiones: 16<br>Comunidad: 2<br>K-Core: 15","<b>Heroína<\/b><br>Pacientes totales: 53<br>Fuerza de conexión:   186<br>Conexiones: 18<br>Comunidad: 3<br>K-Core: 15","<b>Metadona<\/b><br>Pacientes totales: 19<br>Fuerza de conexión:    52<br>Conexiones: 10<br>Comunidad: 3<br>K-Core: 10","<b>Esteroides Anabólicos<\/b><br>Pacientes totales: 10<br>Fuerza de conexión:    28<br>Conexiones: 6<br>Comunidad: 1<br>K-Core: 6","<b>Fenilciclidina<\/b><br>Pacientes totales: 8<br>Fuerza de conexión:    20<br>Conexiones: 8<br>Comunidad: 3<br>K-Core: 8"],"font.size":[20,14,20,14,20,14,14,20,20,14,14,14,14,14,14,14,20,14,14,14,14,14],"physics":[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],"fixed":[true,null,true,null,true,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},"edges":{"from":["Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Alcohol","Hipnóticos","Hipnóticos","Hipnóticos","Hipnóticos","Hipnóticos","Hipnóticos","Hipnóticos","Hipnóticos","Hipnóticos","Hipnóticos","Hipnóticos","Hipnóticos","Hipnóticos","Hipnóticos","Hipnóticos","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Cocaína","Estimulantes","Estimulantes","Estimulantes","Estimulantes","Estimulantes","Estimulantes","Estimulantes","Estimulantes","Estimulantes","Estimulantes","Estimulantes","Estimulantes","Estimulantes","Estimulantes","Estimulantes","Marihuana","Marihuana","Marihuana","Marihuana","Marihuana","Marihuana","Marihuana","Marihuana","Marihuana","Marihuana","Marihuana","Marihuana","Marihuana","Marihuana","Marihuana","Marihuana","Marihuana","Tranquilizantes","Tranquilizantes","Tranquilizantes","Tranquilizantes","Tranquilizantes","Tranquilizantes","Tranquilizantes","Tranquilizantes","Tranquilizantes","Tranquilizantes","Inhalables","Inhalables","Inhalables","Inhalables","Inhalables","Inhalables","Inhalables","Inhalables","Inhalables","Inhalables","Inhalables","Inhalables","Pasta Base","Pasta Base","Pasta Base","Pasta Base","Pasta Base","Pasta Base","Pasta Base","Pasta Base","Pasta Base","Pasta Base","Pasta Base","Pasta Base","Pasta Base","Pasta Base","Sedantes","Sedantes","Sedantes","Sedantes","Sedantes","Sedantes","Sedantes","Sedantes","Sedantes","Sedantes","Sedantes","Sedantes","Anfetaminas","Anfetaminas","Anfetaminas","Anfetaminas","Anfetaminas","Anfetaminas","Anfetaminas","Anfetaminas","Anfetaminas","Anfetaminas","Crack","Crack","Crack","Crack","Crack","Crack","Crack","Crack","Metanfetaminas y Otros Derivados","Metanfetaminas y Otros Derivados","Metanfetaminas y Otros Derivados","Metanfetaminas y Otros Derivados","Metanfetaminas y Otros Derivados","Metanfetaminas y Otros Derivados","Metanfetaminas y Otros Derivados","Opioides","Opioides","Opioides","Opioides","Opioides","Opioides","Opioides","Opioides","Lsd","Lsd","Lsd","Lsd","Lsd","Alucinógenos","Alucinógenos","Alucinógenos","Alucinógenos","Éxtasis/MDMA","Éxtasis/MDMA","Éxtasis/MDMA","Éxtasis/MDMA","Otros","Otros","Otros","Otros","Hongos","Heroína","Heroína"],"to":["Hipnóticos","Cocaína","Estimulantes","Marihuana","Tranquilizantes","Inhalables","Pasta Base","Sedantes","Anfetaminas","Crack","Metanfetaminas y Otros Derivados","Opioides","Lsd","Alucinógenos","Éxtasis/MDMA","Otros","Hongos","Heroína","Metadona","Esteroides Anabólicos","Fenilciclidina","Cocaína","Estimulantes","Marihuana","Tranquilizantes","Pasta Base","Sedantes","Anfetaminas","Crack","Metanfetaminas y Otros Derivados","Opioides","Lsd","Alucinógenos","Éxtasis/MDMA","Otros","Heroína","Estimulantes","Marihuana","Tranquilizantes","Inhalables","Pasta Base","Sedantes","Anfetaminas","Crack","Metanfetaminas y Otros Derivados","Opioides","Lsd","Alucinógenos","Éxtasis/MDMA","Otros","Hongos","Heroína","Metadona","Esteroides Anabólicos","Fenilciclidina","Marihuana","Tranquilizantes","Inhalables","Pasta Base","Sedantes","Anfetaminas","Metanfetaminas y Otros Derivados","Opioides","Lsd","Alucinógenos","Éxtasis/MDMA","Otros","Hongos","Heroína","Metadona","Tranquilizantes","Inhalables","Pasta Base","Sedantes","Anfetaminas","Crack","Metanfetaminas y Otros Derivados","Opioides","Lsd","Alucinógenos","Éxtasis/MDMA","Otros","Hongos","Heroína","Metadona","Esteroides Anabólicos","Fenilciclidina","Inhalables","Pasta Base","Sedantes","Anfetaminas","Metanfetaminas y Otros Derivados","Opioides","Lsd","Alucinógenos","Éxtasis/MDMA","Otros","Pasta Base","Sedantes","Anfetaminas","Crack","Metanfetaminas y Otros Derivados","Opioides","Lsd","Alucinógenos","Éxtasis/MDMA","Otros","Hongos","Heroína","Sedantes","Anfetaminas","Crack","Metanfetaminas y Otros Derivados","Opioides","Lsd","Alucinógenos","Éxtasis/MDMA","Otros","Hongos","Heroína","Metadona","Esteroides Anabólicos","Fenilciclidina","Anfetaminas","Crack","Metanfetaminas y Otros Derivados","Opioides","Lsd","Alucinógenos","Éxtasis/MDMA","Otros","Hongos","Heroína","Metadona","Esteroides Anabólicos","Crack","Metanfetaminas y Otros Derivados","Opioides","Lsd","Alucinógenos","Éxtasis/MDMA","Otros","Hongos","Heroína","Metadona","Metanfetaminas y Otros Derivados","Opioides","Lsd","Alucinógenos","Éxtasis/MDMA","Otros","Hongos","Heroína","Opioides","Lsd","Alucinógenos","Éxtasis/MDMA","Otros","Hongos","Heroína","Lsd","Alucinógenos","Éxtasis/MDMA","Otros","Hongos","Heroína","Metadona","Fenilciclidina","Alucinógenos","Éxtasis/MDMA","Otros","Hongos","Heroína","Éxtasis/MDMA","Otros","Hongos","Heroína","Otros","Hongos","Heroína","Fenilciclidina","Hongos","Heroína","Metadona","Esteroides Anabólicos","Fenilciclidina","Metadona","Fenilciclidina"],"value":[3.44,33.02,3.98,36.98,2.74,4.18,24.32,9.039999999999999,4.52,2.86,3.28,3.72,3.58,3.76,3.62,5.64,1.72,0.8,0.22,0.2,0.08,1.9,0.12,1.76,0.12,1,1.48,0.16,0.02,0.02,0.18,0.04,0.06,0.02,0.3,0.02,2.62,29.8,1.78,2.44,18.76,5.62,3.66,2.52,2.86,2.88,3.84,2.92,3.82,3.1,1.54,0.88,0.2,0.16,0.08,3.08,0.1,0.04,1.3,0.8,0.22,0.14,0.22,0.22,0.28,0.4,0.38,0.04,0.04,0.02,1.76,3.82,22.28,6.7,3.72,2.5,2.88,3.5,4.6,3.82,4.44,3.72,2.14,0.66,0.22,0.12,0.12,0.06,0.9,0.6,0.06,0.02,0.28,0.04,0.08,0.02,0.14,3.68,0.66,0.32,0.14,0.1,0.18,0.16,0.1,0.14,0.32,0.04,0.02,3.94,2.78,3.06,1.84,1.6,1.12,1.94,0.98,2.8,0.64,0.5,0.08,0.04,0.02,0.96,0.28,0.78,1.54,0.44,0.52,0.76,0.88,0.12,0.12,0.06,0.02,0.12,0.28,0.28,0.22,0.1,0.2,0.22,0.08,0.06,0.02,0.1,0.04,0.12,0.02,0.12,0.14,0.02,0.14,0.24,0.1,0.16,0.26,0.16,0.04,0.02,0.26,0.24,0.28,0.42,0.14,0.06,0.14,0.04,0.34,1.12,0.16,0.34,0.14,0.46,0.32,0.18,0.06,0.3,0.38,0.08,0.02,0.04,0.06,0.04,0.02,0.02,0.04,0.02],"title":["Alcohol ↔ Hipnóticos<br>Pacientes compartidos:   172","Alcohol ↔ Cocaína<br>Pacientes compartidos: 1,651","Alcohol ↔ Estimulantes<br>Pacientes compartidos:   199","Alcohol ↔ Marihuana<br>Pacientes compartidos: 1,849","Alcohol ↔ Tranquilizantes<br>Pacientes compartidos:   137","Alcohol ↔ Inhalables<br>Pacientes compartidos:   209","Alcohol ↔ Pasta Base<br>Pacientes compartidos: 1,216","Alcohol ↔ Sedantes<br>Pacientes compartidos:   452","Alcohol ↔ Anfetaminas<br>Pacientes compartidos:   226","Alcohol ↔ Crack<br>Pacientes compartidos:   143","Alcohol ↔ Metanfetaminas y Otros Derivados<br>Pacientes compartidos:   164","Alcohol ↔ Opioides<br>Pacientes compartidos:   186","Alcohol ↔ Lsd<br>Pacientes compartidos:   179","Alcohol ↔ Alucinógenos<br>Pacientes compartidos:   188","Alcohol ↔ Éxtasis/MDMA<br>Pacientes compartidos:   181","Alcohol ↔ Otros<br>Pacientes compartidos:   282","Alcohol ↔ Hongos<br>Pacientes compartidos:    86","Alcohol ↔ Heroína<br>Pacientes compartidos:    40","Alcohol ↔ Metadona<br>Pacientes compartidos:    11","Alcohol ↔ Esteroides Anabólicos<br>Pacientes compartidos:    10","Alcohol ↔ Fenilciclidina<br>Pacientes compartidos:     4","Hipnóticos ↔ Cocaína<br>Pacientes compartidos:    95","Hipnóticos ↔ Estimulantes<br>Pacientes compartidos:     6","Hipnóticos ↔ Marihuana<br>Pacientes compartidos:    88","Hipnóticos ↔ Tranquilizantes<br>Pacientes compartidos:     6","Hipnóticos ↔ Pasta Base<br>Pacientes compartidos:    50","Hipnóticos ↔ Sedantes<br>Pacientes compartidos:    74","Hipnóticos ↔ Anfetaminas<br>Pacientes compartidos:     8","Hipnóticos ↔ Crack<br>Pacientes compartidos:     1","Hipnóticos ↔ Metanfetaminas y Otros Derivados<br>Pacientes compartidos:     1","Hipnóticos ↔ Opioides<br>Pacientes compartidos:     9","Hipnóticos ↔ Lsd<br>Pacientes compartidos:     2","Hipnóticos ↔ Alucinógenos<br>Pacientes compartidos:     3","Hipnóticos ↔ Éxtasis/MDMA<br>Pacientes compartidos:     1","Hipnóticos ↔ Otros<br>Pacientes compartidos:    15","Hipnóticos ↔ Heroína<br>Pacientes compartidos:     1","Cocaína ↔ Estimulantes<br>Pacientes compartidos:   131","Cocaína ↔ Marihuana<br>Pacientes compartidos: 1,490","Cocaína ↔ Tranquilizantes<br>Pacientes compartidos:    89","Cocaína ↔ Inhalables<br>Pacientes compartidos:   122","Cocaína ↔ Pasta Base<br>Pacientes compartidos:   938","Cocaína ↔ Sedantes<br>Pacientes compartidos:   281","Cocaína ↔ Anfetaminas<br>Pacientes compartidos:   183","Cocaína ↔ Crack<br>Pacientes compartidos:   126","Cocaína ↔ Metanfetaminas y Otros Derivados<br>Pacientes compartidos:   143","Cocaína ↔ Opioides<br>Pacientes compartidos:   144","Cocaína ↔ Lsd<br>Pacientes compartidos:   192","Cocaína ↔ Alucinógenos<br>Pacientes compartidos:   146","Cocaína ↔ Éxtasis/MDMA<br>Pacientes compartidos:   191","Cocaína ↔ Otros<br>Pacientes compartidos:   155","Cocaína ↔ Hongos<br>Pacientes compartidos:    77","Cocaína ↔ Heroína<br>Pacientes compartidos:    44","Cocaína ↔ Metadona<br>Pacientes compartidos:    10","Cocaína ↔ Esteroides Anabólicos<br>Pacientes compartidos:     8","Cocaína ↔ Fenilciclidina<br>Pacientes compartidos:     4","Estimulantes ↔ Marihuana<br>Pacientes compartidos:   154","Estimulantes ↔ Tranquilizantes<br>Pacientes compartidos:     5","Estimulantes ↔ Inhalables<br>Pacientes compartidos:     2","Estimulantes ↔ Pasta Base<br>Pacientes compartidos:    65","Estimulantes ↔ Sedantes<br>Pacientes compartidos:    40","Estimulantes ↔ Anfetaminas<br>Pacientes compartidos:    11","Estimulantes ↔ Metanfetaminas y Otros Derivados<br>Pacientes compartidos:     7","Estimulantes ↔ Opioides<br>Pacientes compartidos:    11","Estimulantes ↔ Lsd<br>Pacientes compartidos:    11","Estimulantes ↔ Alucinógenos<br>Pacientes compartidos:    14","Estimulantes ↔ Éxtasis/MDMA<br>Pacientes compartidos:    20","Estimulantes ↔ Otros<br>Pacientes compartidos:    19","Estimulantes ↔ Hongos<br>Pacientes compartidos:     2","Estimulantes ↔ Heroína<br>Pacientes compartidos:     2","Estimulantes ↔ Metadona<br>Pacientes compartidos:     1","Marihuana ↔ Tranquilizantes<br>Pacientes compartidos:    88","Marihuana ↔ Inhalables<br>Pacientes compartidos:   191","Marihuana ↔ Pasta Base<br>Pacientes compartidos: 1,114","Marihuana ↔ Sedantes<br>Pacientes compartidos:   335","Marihuana ↔ Anfetaminas<br>Pacientes compartidos:   186","Marihuana ↔ Crack<br>Pacientes compartidos:   125","Marihuana ↔ Metanfetaminas y Otros Derivados<br>Pacientes compartidos:   144","Marihuana ↔ Opioides<br>Pacientes compartidos:   175","Marihuana ↔ Lsd<br>Pacientes compartidos:   230","Marihuana ↔ Alucinógenos<br>Pacientes compartidos:   191","Marihuana ↔ Éxtasis/MDMA<br>Pacientes compartidos:   222","Marihuana ↔ Otros<br>Pacientes compartidos:   186","Marihuana ↔ Hongos<br>Pacientes compartidos:   107","Marihuana ↔ Heroína<br>Pacientes compartidos:    33","Marihuana ↔ Metadona<br>Pacientes compartidos:    11","Marihuana ↔ Esteroides Anabólicos<br>Pacientes compartidos:     6","Marihuana ↔ Fenilciclidina<br>Pacientes compartidos:     6","Tranquilizantes ↔ Inhalables<br>Pacientes compartidos:     3","Tranquilizantes ↔ Pasta Base<br>Pacientes compartidos:    45","Tranquilizantes ↔ Sedantes<br>Pacientes compartidos:    30","Tranquilizantes ↔ Anfetaminas<br>Pacientes compartidos:     3","Tranquilizantes ↔ Metanfetaminas y Otros Derivados<br>Pacientes compartidos:     1","Tranquilizantes ↔ Opioides<br>Pacientes compartidos:    14","Tranquilizantes ↔ Lsd<br>Pacientes compartidos:     2","Tranquilizantes ↔ Alucinógenos<br>Pacientes compartidos:     4","Tranquilizantes ↔ Éxtasis/MDMA<br>Pacientes compartidos:     1","Tranquilizantes ↔ Otros<br>Pacientes compartidos:     7","Inhalables ↔ Pasta Base<br>Pacientes compartidos:   184","Inhalables ↔ Sedantes<br>Pacientes compartidos:    33","Inhalables ↔ Anfetaminas<br>Pacientes compartidos:    16","Inhalables ↔ Crack<br>Pacientes compartidos:     7","Inhalables ↔ Metanfetaminas y Otros Derivados<br>Pacientes compartidos:     5","Inhalables ↔ Opioides<br>Pacientes compartidos:     9","Inhalables ↔ Lsd<br>Pacientes compartidos:     8","Inhalables ↔ Alucinógenos<br>Pacientes compartidos:     5","Inhalables ↔ Éxtasis/MDMA<br>Pacientes compartidos:     7","Inhalables ↔ Otros<br>Pacientes compartidos:    16","Inhalables ↔ Hongos<br>Pacientes compartidos:     2","Inhalables ↔ Heroína<br>Pacientes compartidos:     1","Pasta Base ↔ Sedantes<br>Pacientes compartidos:   197","Pasta Base ↔ Anfetaminas<br>Pacientes compartidos:   139","Pasta Base ↔ Crack<br>Pacientes compartidos:   153","Pasta Base ↔ Metanfetaminas y Otros Derivados<br>Pacientes compartidos:    92","Pasta Base ↔ Opioides<br>Pacientes compartidos:    80","Pasta Base ↔ Lsd<br>Pacientes compartidos:    56","Pasta Base ↔ Alucinógenos<br>Pacientes compartidos:    97","Pasta Base ↔ Éxtasis/MDMA<br>Pacientes compartidos:    49","Pasta Base ↔ Otros<br>Pacientes compartidos:   140","Pasta Base ↔ Hongos<br>Pacientes compartidos:    32","Pasta Base ↔ Heroína<br>Pacientes compartidos:    25","Pasta Base ↔ Metadona<br>Pacientes compartidos:     4","Pasta Base ↔ Esteroides Anabólicos<br>Pacientes compartidos:     2","Pasta Base ↔ Fenilciclidina<br>Pacientes compartidos:     1","Sedantes ↔ Anfetaminas<br>Pacientes compartidos:    48","Sedantes ↔ Crack<br>Pacientes compartidos:    14","Sedantes ↔ Metanfetaminas y Otros Derivados<br>Pacientes compartidos:    39","Sedantes ↔ Opioides<br>Pacientes compartidos:    77","Sedantes ↔ Lsd<br>Pacientes compartidos:    22","Sedantes ↔ Alucinógenos<br>Pacientes compartidos:    26","Sedantes ↔ Éxtasis/MDMA<br>Pacientes compartidos:    38","Sedantes ↔ Otros<br>Pacientes compartidos:    44","Sedantes ↔ Hongos<br>Pacientes compartidos:     6","Sedantes ↔ Heroína<br>Pacientes compartidos:     6","Sedantes ↔ Metadona<br>Pacientes compartidos:     3","Sedantes ↔ Esteroides Anabólicos<br>Pacientes compartidos:     1","Anfetaminas ↔ Crack<br>Pacientes compartidos:     6","Anfetaminas ↔ Metanfetaminas y Otros Derivados<br>Pacientes compartidos:    14","Anfetaminas ↔ Opioides<br>Pacientes compartidos:    14","Anfetaminas ↔ Lsd<br>Pacientes compartidos:    11","Anfetaminas ↔ Alucinógenos<br>Pacientes compartidos:     5","Anfetaminas ↔ Éxtasis/MDMA<br>Pacientes compartidos:    10","Anfetaminas ↔ Otros<br>Pacientes compartidos:    11","Anfetaminas ↔ Hongos<br>Pacientes compartidos:     4","Anfetaminas ↔ Heroína<br>Pacientes compartidos:     3","Anfetaminas ↔ Metadona<br>Pacientes compartidos:     1","Crack ↔ Metanfetaminas y Otros Derivados<br>Pacientes compartidos:     5","Crack ↔ Opioides<br>Pacientes compartidos:     2","Crack ↔ Lsd<br>Pacientes compartidos:     6","Crack ↔ Alucinógenos<br>Pacientes compartidos:     1","Crack ↔ Éxtasis/MDMA<br>Pacientes compartidos:     6","Crack ↔ Otros<br>Pacientes compartidos:     7","Crack ↔ Hongos<br>Pacientes compartidos:     1","Crack ↔ Heroína<br>Pacientes compartidos:     7","Metanfetaminas y Otros Derivados ↔ Opioides<br>Pacientes compartidos:    12","Metanfetaminas y Otros Derivados ↔ Lsd<br>Pacientes compartidos:     5","Metanfetaminas y Otros Derivados ↔ Alucinógenos<br>Pacientes compartidos:     8","Metanfetaminas y Otros Derivados ↔ Éxtasis/MDMA<br>Pacientes compartidos:    13","Metanfetaminas y Otros Derivados ↔ Otros<br>Pacientes compartidos:     8","Metanfetaminas y Otros Derivados ↔ Hongos<br>Pacientes compartidos:     2","Metanfetaminas y Otros Derivados ↔ Heroína<br>Pacientes compartidos:     1","Opioides ↔ Lsd<br>Pacientes compartidos:    13","Opioides ↔ Alucinógenos<br>Pacientes compartidos:    12","Opioides ↔ Éxtasis/MDMA<br>Pacientes compartidos:    14","Opioides ↔ Otros<br>Pacientes compartidos:    21","Opioides ↔ Hongos<br>Pacientes compartidos:     7","Opioides ↔ Heroína<br>Pacientes compartidos:     3","Opioides ↔ Metadona<br>Pacientes compartidos:     7","Opioides ↔ Fenilciclidina<br>Pacientes compartidos:     2","Lsd ↔ Alucinógenos<br>Pacientes compartidos:    17","Lsd ↔ Éxtasis/MDMA<br>Pacientes compartidos:    56","Lsd ↔ Otros<br>Pacientes compartidos:     8","Lsd ↔ Hongos<br>Pacientes compartidos:    17","Lsd ↔ Heroína<br>Pacientes compartidos:     7","Alucinógenos ↔ Éxtasis/MDMA<br>Pacientes compartidos:    23","Alucinógenos ↔ Otros<br>Pacientes compartidos:    16","Alucinógenos ↔ Hongos<br>Pacientes compartidos:     9","Alucinógenos ↔ Heroína<br>Pacientes compartidos:     3","Éxtasis/MDMA ↔ Otros<br>Pacientes compartidos:    15","Éxtasis/MDMA ↔ Hongos<br>Pacientes compartidos:    19","Éxtasis/MDMA ↔ Heroína<br>Pacientes compartidos:     4","Éxtasis/MDMA ↔ Fenilciclidina<br>Pacientes compartidos:     1","Otros ↔ Hongos<br>Pacientes compartidos:     2","Otros ↔ Heroína<br>Pacientes compartidos:     3","Otros ↔ Metadona<br>Pacientes compartidos:     2","Otros ↔ Esteroides Anabólicos<br>Pacientes compartidos:     1","Hongos ↔ Fenilciclidina<br>Pacientes compartidos:     1","Heroína ↔ Metadona<br>Pacientes compartidos:     2","Heroína ↔ Fenilciclidina<br>Pacientes compartidos:     1"],"color":["rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)","rgba(150,150,150,0.4)"],"highlight":["#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B","#FF6B6B"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","borderWidth":2,"borderWidthSelected":4,"color":{"background":"#e74c3c","border":"#c0392b","highlight":{"background":"#ff6b6b","border":"#e74c3c"}},"scaling":{"min":10,"max":60,"label":{"enabled":true,"min":14,"max":24}}},"manipulation":{"enabled":false},"interaction":{"dragNodes":true,"dragView":true,"hideEdgesOnDrag":true,"hover":true,"navigationButtons":true,"tooltipDelay":0,"zoomView":true,"zoomSpeed":0.5},"physics":{"solver":"barnesHut","maxVelocity":50,"minVelocity":0.75,"stabilization":{"enabled":true,"iterations":500,"updateInterval":50},"enabled":true,"barnesHut":{"gravitationalConstant":-10000,"centralGravity":0.1,"springLength":350,"springConstant":0.001,"damping":0.5,"avoidOverlap":1},"repulsion":{"nodeDistance":300,"centralGravity":0.1,"springLength":350,"springConstant":0.01,"damping":0.5}},"layout":{"randomSeed":123,"improvedLayout":true},"edges":{"width":2,"physics":true,"color":{"color":"rgba(150,150,150,0.4)","highlight":"#FF6B6B","hover":"#FF6B6B"},"smooth":{"enabled":true,"type":"continuous","roundness":0.5},"scaling":{"min":0.5,"max":6}},"configure":{"enabled":false}},"groups":["1","2","3"],"width":"100%","height":"700px","idselection":{"enabled":true,"style":"width: 200px; height: 30px;","useLabels":true,"main":"Buscar sustancia"},"byselection":{"enabled":true,"style":"width: 200px; height: 30px;","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false,"variable":"group","main":"Filtrar por comunidad","values":["1","2","3"]},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":true,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":false},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);","legend":{"width":0.15,"useGroups":true,"position":"right","ncol":1,"stepX":100,"stepY":100,"zoom":true,"main":{"text":"Comunidades","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:14px;text-align:center;"}}},"evals":[],"jsHooks":[]}</script>
<p>Red interactiva de proyección de sustancias</p>
</div>
</div>
</section>
</section>
<section id="visualizaciones-adicionales" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> VISUALIZACIONES ADICIONALES</h1>
<section id="matriz-de-calor-de-co-ocurrencia" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="matriz-de-calor-de-co-ocurrencia"><span class="header-section-number">6.1</span> Matriz de Calor de Co-ocurrencia</h2>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Seleccionar top sustancias</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>top_n <span class="ot">&lt;-</span> <span class="dv">15</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>top_substances <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">sort</span>(<span class="fu">rowSums</span>(co_matrix), <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span>top_n])</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>co_matrix_subset <span class="ot">&lt;-</span> co_matrix[top_substances, top_substances]</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Normalizar por fila</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>co_matrix_norm <span class="ot">&lt;-</span> <span class="fu">sweep</span>(co_matrix_subset, <span class="dv">1</span>, </span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">pmax</span>(<span class="fu">rowSums</span>(co_matrix_subset), <span class="dv">1</span>), <span class="st">"/"</span>) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir a formato largo</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>co_matrix_long <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">as.table</span>(co_matrix_norm)) <span class="sc">%&gt;%</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Sustancia1 =</span> Var1, <span class="at">Sustancia2 =</span> Var2, <span class="at">Porcentaje =</span> Freq)</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(co_matrix_long, <span class="fu">aes</span>(<span class="at">x =</span> Sustancia1, <span class="at">y =</span> Sustancia2, <span class="at">fill =</span> Porcentaje)) <span class="sc">+</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(Porcentaje, <span class="dv">0</span>)), </span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient2</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">mid =</span> <span class="st">"#FEC44F"</span>, <span class="at">high =</span> <span class="st">"#D95F0E"</span>,</span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>                       <span class="at">midpoint =</span> <span class="dv">50</span>,</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>                       <span class="at">name =</span> <span class="st">"Co-ocurrencia</span><span class="sc">\n</span><span class="st">(%)"</span>) <span class="sc">+</span></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Matriz de Co-ocurrencia de Sustancias"</span>,</span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Porcentaje de co-ocurrencia respecto al total de cada sustancia"</span>) <span class="sc">+</span></span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"right"</span>) <span class="sc">+</span></span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Prueba3_files/figure-html/viz-heatmap-1.png" class="img-fluid figure-img" width="960"></p>
<figcaption>Matriz de co-ocurrencia de las sustancias más frecuentes</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="dendrograma-de-comunidades" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="dendrograma-de-comunidades"><span class="header-section-number">6.2</span> Dendrograma de Comunidades</h2>
<div class="cell">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular distancia basada en co-ocurrencia</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>dist_matrix <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fu">cor</span>(<span class="fu">t</span>(co_matrix[top_substances, top_substances]))</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>dist_matrix[<span class="fu">is.na</span>(dist_matrix)] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Clustering jerárquico</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>hc <span class="ot">&lt;-</span> <span class="fu">hclust</span>(<span class="fu">as.dist</span>(dist_matrix), <span class="at">method =</span> <span class="st">"ward.D2"</span>)</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear dendrograma mejorado</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>dend <span class="ot">&lt;-</span> <span class="fu">as.dendrogram</span>(hc)</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>dend <span class="ot">&lt;-</span> <span class="fu">color_branches</span>(dend, <span class="at">k =</span> <span class="dv">4</span>)</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(dend, <span class="at">main =</span> <span class="st">"Dendrograma de Sustancias por Similitud de Consumo"</span>,</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Sustancias"</span>, <span class="at">ylab =</span> <span class="st">"Distancia"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Prueba3_files/figure-html/viz-dendrogram-1.png" class="img-fluid figure-img" width="1152"></p>
<figcaption>Dendrograma de comunidades basado en similitud</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="análisis-comparativo" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> ANÁLISIS COMPARATIVO</h1>
<section id="comparación-de-propiedades-estructurales" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="comparación-de-propiedades-estructurales"><span class="header-section-number">7.1</span> Comparación de Propiedades Estructurales</h2>
<div class="cell" data-tbl-cap="Comparación de propiedades entre ambas redes">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>comparison_props <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Propiedad =</span> <span class="fu">c</span>(<span class="st">"Número de nodos (sustancias)"</span>,</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Número de enlaces"</span>,</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Densidad"</span>,</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Diámetro"</span>,</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Distancia media"</span>,</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Clustering global"</span>,</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Clustering promedio"</span>,</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Asortatividad"</span>,</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Comunidades"</span>,</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Modularidad"</span>,</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>                <span class="st">"K-Core máximo"</span>),</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Red Co-ocurrencia</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">vcount</span>(g_co),</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ecount</span>(g_co),</span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">edge_density</span>(g_co), <span class="dv">4</span>),</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">diameter</span>(g_co, <span class="at">weights =</span> <span class="cn">NA</span>),</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">mean_distance</span>(g_co, <span class="at">weights =</span> <span class="cn">NA</span>), <span class="dv">2</span>),</span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">transitivity</span>(g_co, <span class="at">type =</span> <span class="st">"global"</span>), <span class="dv">3</span>),</span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">transitivity</span>(g_co, <span class="at">type =</span> <span class="st">"average"</span>), <span class="dv">3</span>),</span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">assortativity_degree</span>(g_co), <span class="dv">3</span>),</span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">length</span>(communities_co),</span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">modularity</span>(communities_co), <span class="dv">3</span>),</span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">max</span>(coreness_co)</span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Red Bipartita (Proyección)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">vcount</span>(g_substances),</span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ecount</span>(g_substances),</span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">edge_density</span>(g_substances), <span class="dv">4</span>),</span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">diameter</span>(g_substances, <span class="at">weights =</span> <span class="cn">NA</span>),</span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">mean_distance</span>(g_substances, <span class="at">weights =</span> <span class="cn">NA</span>), <span class="dv">2</span>),</span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">transitivity</span>(g_substances, <span class="at">type =</span> <span class="st">"global"</span>), <span class="dv">3</span>),</span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">transitivity</span>(g_substances, <span class="at">type =</span> <span class="st">"average"</span>), <span class="dv">3</span>),</span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">assortativity_degree</span>(g_substances), <span class="dv">3</span>),</span>
<span id="cb36-35"><a href="#cb36-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">length</span>(communities_proj),</span>
<span id="cb36-36"><a href="#cb36-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">modularity</span>(communities_proj), <span class="dv">3</span>),</span>
<span id="cb36-37"><a href="#cb36-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">max</span>(coreness_bi)</span>
<span id="cb36-38"><a href="#cb36-38" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-39"><a href="#cb36-39" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb36-40"><a href="#cb36-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-41"><a href="#cb36-41" aria-hidden="true" tabindex="-1"></a>comparison_props <span class="sc">%&gt;%</span></span>
<span id="cb36-42"><a href="#cb36-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb36-43"><a href="#cb36-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb36-44"><a href="#cb36-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb36-45"><a href="#cb36-45" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-46"><a href="#cb36-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Comparación de propiedades entre ambas redes</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Propiedad</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Red.Co.ocurrencia</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Red.Bipartita..Proyección.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Número de nodos (sustancias)</td>
<td style="text-align: right;">12.0000</td>
<td style="text-align: right;">22.0000</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">Número de enlaces</td>
<td style="text-align: right;">29.0000</td>
<td style="text-align: right;">188.0000</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Densidad</td>
<td style="text-align: right;">0.4394</td>
<td style="text-align: right;">0.8139</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">Diámetro</td>
<td style="text-align: right;">3.0000</td>
<td style="text-align: right;">2.0000</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Distancia media</td>
<td style="text-align: right;">1.5900</td>
<td style="text-align: right;">1.1900</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">Clustering global</td>
<td style="text-align: right;">0.5780</td>
<td style="text-align: right;">0.8840</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Clustering promedio</td>
<td style="text-align: right;">0.8090</td>
<td style="text-align: right;">0.9070</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">Asortatividad</td>
<td style="text-align: right;">-0.6500</td>
<td style="text-align: right;">-0.2600</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Comunidades</td>
<td style="text-align: right;">1.0000</td>
<td style="text-align: right;">3.0000</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">Modularidad</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.0040</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">K-Core máximo</td>
<td style="text-align: right;">4.0000</td>
<td style="text-align: right;">15.0000</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="comparación-de-centralización" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="comparación-de-centralización"><span class="header-section-number">7.2</span> Comparación de Centralización</h2>
<div class="cell" data-tbl-cap="Comparación de centralización entre redes">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular valores de centralización</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>co_oc_values <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="fu">centr_degree</span>(g_co)<span class="sc">$</span>centralization, <span class="dv">4</span>),</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="fu">centr_clo</span>(g_co)<span class="sc">$</span>centralization, <span class="dv">4</span>),</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="fu">centr_betw</span>(g_co)<span class="sc">$</span>centralization, <span class="dv">4</span>),</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="fu">centr_eigen</span>(g_co)<span class="sc">$</span>centralization, <span class="dv">4</span>)</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>bipartita_values <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="fu">centr_degree</span>(g_substances)<span class="sc">$</span>centralization, <span class="dv">4</span>),</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="fu">centr_clo</span>(g_substances)<span class="sc">$</span>centralization, <span class="dv">4</span>),</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="fu">centr_betw</span>(g_substances)<span class="sc">$</span>centralization, <span class="dv">4</span>),</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="fu">centr_eigen</span>(g_substances)<span class="sc">$</span>centralization, <span class="dv">4</span>)</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>comparison_centr <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">Medida =</span> <span class="fu">c</span>(<span class="st">"Centralización de Grado"</span>,</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Centralización de Cercanía"</span>,</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Centralización de Intermediación"</span>,</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Centralización de Eigenvector"</span>),</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">Co_ocurrencia =</span> co_oc_values,</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">Bipartita =</span> bipartita_values,</span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">Diferencia =</span> <span class="fu">round</span>(co_oc_values <span class="sc">-</span> bipartita_values, <span class="dv">4</span>)</span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a>comparison_centr <span class="sc">%&gt;%</span></span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Medida"</span>, <span class="st">"Co-ocurrencia"</span>, <span class="st">"Bipartita"</span>, <span class="st">"Diferencia"</span>),</span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Comparación de centralización entre redes</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Medida</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Co-ocurrencia</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Bipartita</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Diferencia</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Centralización de Grado</td>
<td style="text-align: right;">0.4697</td>
<td style="text-align: right;">0.1861</td>
<td style="text-align: right;">0.2836</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">Centralización de Cercanía</td>
<td style="text-align: right;">0.5980</td>
<td style="text-align: right;">0.2965</td>
<td style="text-align: right;">0.3015</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Centralización de Intermediación</td>
<td style="text-align: right;">0.2760</td>
<td style="text-align: right;">0.0181</td>
<td style="text-align: right;">0.2579</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">Centralización de Eigenvector</td>
<td style="text-align: right;">0.4643</td>
<td style="text-align: right;">0.1528</td>
<td style="text-align: right;">0.3115</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="top-sustancias-por-red" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="top-sustancias-por-red"><span class="header-section-number">7.3</span> Top Sustancias por Red</h2>
<div class="cell" data-tbl-cap="Top 10 sustancias por métrica y tipo de red">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Combinar top sustancias</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>top_co <span class="ot">&lt;-</span> centrality_metrics_co <span class="sc">%&gt;%</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Sustancia, <span class="at">Fuerza_Co =</span> Fuerza, <span class="at">Eigenvector_Co =</span> Eigenvector, </span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">PageRank_Co =</span> PageRank)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>top_bi <span class="ot">&lt;-</span> centrality_metrics_bi <span class="sc">%&gt;%</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Sustancia, <span class="at">Fuerza_Bi =</span> Fuerza, <span class="at">Eigenvector_Bi =</span> Eigenvector,</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">PageRank_Bi =</span> PageRank)</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Unir y mostrar</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a><span class="fu">full_join</span>(top_co, top_bi, <span class="at">by =</span> <span class="st">"Sustancia"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Fuerza_Co)) <span class="sc">%&gt;%</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Sustancia"</span>, <span class="st">"Fuerza (Co)"</span>, <span class="st">"Eigen (Co)"</span>, <span class="st">"PageRank (Co)"</span>,</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Fuerza (Bi)"</span>, <span class="st">"Eigen (Bi)"</span>, <span class="st">"PageRank (Bi)"</span>),</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="fu">rep</span>(<span class="st">"r"</span>, <span class="dv">6</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Top 10 sustancias por métrica y tipo de red</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Sustancia</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Fuerza (Co)</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Eigen (Co)</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">PageRank (Co)</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Fuerza (Bi)</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Eigen (Bi)</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">PageRank (Bi)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Alcohol</td>
<td style="text-align: right;">230800</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.2659</td>
<td style="text-align: right;">7585</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.1861</td>
</tr>
<tr class="even">
<td style="text-align: left;">Marihuana</td>
<td style="text-align: right;">187732</td>
<td style="text-align: right;">0.879</td>
<td style="text-align: right;">0.2227</td>
<td style="text-align: right;">6931</td>
<td style="text-align: right;">0.956</td>
<td style="text-align: right;">0.1701</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Pasta Base</td>
<td style="text-align: right;">170589</td>
<td style="text-align: right;">0.831</td>
<td style="text-align: right;">0.1887</td>
<td style="text-align: right;">4679</td>
<td style="text-align: right;">0.731</td>
<td style="text-align: right;">0.1138</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cocaína</td>
<td style="text-align: right;">162353</td>
<td style="text-align: right;">0.790</td>
<td style="text-align: right;">0.1867</td>
<td style="text-align: right;">6220</td>
<td style="text-align: right;">0.893</td>
<td style="text-align: right;">0.1533</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sedantes</td>
<td style="text-align: right;">17517</td>
<td style="text-align: right;">0.088</td>
<td style="text-align: right;">0.0297</td>
<td style="text-align: right;">1766</td>
<td style="text-align: right;">0.270</td>
<td style="text-align: right;">0.0475</td>
</tr>
<tr class="even">
<td style="text-align: left;">Otros</td>
<td style="text-align: right;">7502</td>
<td style="text-align: right;">0.037</td>
<td style="text-align: right;">0.0198</td>
<td style="text-align: right;">958</td>
<td style="text-align: right;">0.160</td>
<td style="text-align: right;">0.0283</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Inhalables</td>
<td style="text-align: right;">3817</td>
<td style="text-align: right;">0.019</td>
<td style="text-align: right;">0.0162</td>
<td style="text-align: right;">820</td>
<td style="text-align: right;">0.144</td>
<td style="text-align: right;">0.0244</td>
</tr>
<tr class="even">
<td style="text-align: left;">Anfetaminas</td>
<td style="text-align: right;">3594</td>
<td style="text-align: right;">0.018</td>
<td style="text-align: right;">0.0160</td>
<td style="text-align: right;">899</td>
<td style="text-align: right;">0.153</td>
<td style="text-align: right;">0.0266</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Opioides</td>
<td style="text-align: right;">2041</td>
<td style="text-align: right;">0.010</td>
<td style="text-align: right;">0.0145</td>
<td style="text-align: right;">812</td>
<td style="text-align: right;">0.127</td>
<td style="text-align: right;">0.0262</td>
</tr>
<tr class="even">
<td style="text-align: left;">Éxtasis/MDMA</td>
<td style="text-align: right;">1113</td>
<td style="text-align: right;">0.005</td>
<td style="text-align: right;">0.0136</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Estimulantes</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">700</td>
<td style="text-align: right;">0.118</td>
<td style="text-align: right;">0.0223</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="correlación-entre-métricas" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="correlación-entre-métricas"><span class="header-section-number">7.4</span> Correlación entre Métricas</h2>
<div class="cell" data-tbl-cap="Correlación de métricas entre redes">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Unir métricas de ambas redes</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>merged_metrics <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  centrality_metrics_co <span class="sc">%&gt;%</span> </span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(Sustancia, <span class="at">Fuerza_Co =</span> Fuerza, <span class="at">Eigenvector_Co =</span> Eigenvector, </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>           Intermediación<span class="at">_Co =</span> Intermediación_Norm, <span class="at">PageRank_Co =</span> PageRank),</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  centrality_metrics_bi <span class="sc">%&gt;%</span> </span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(Sustancia, <span class="at">Fuerza_Bi =</span> Fuerza, <span class="at">Eigenvector_Bi =</span> Eigenvector,</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>           Intermediación<span class="at">_Bi =</span> Intermediación_Norm, <span class="at">PageRank_Bi =</span> PageRank),</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"Sustancia"</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular correlaciones</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>correlations <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>  Métrica <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Fuerza"</span>, <span class="st">"Eigenvector"</span>, <span class="st">"Intermediación"</span>, <span class="st">"PageRank"</span>),</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>  Correlación <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cor</span>(merged_metrics<span class="sc">$</span>Fuerza_Co, merged_metrics<span class="sc">$</span>Fuerza_Bi, <span class="at">use =</span> <span class="st">"complete.obs"</span>),</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cor</span>(merged_metrics<span class="sc">$</span>Eigenvector_Co, merged_metrics<span class="sc">$</span>Eigenvector_Bi, <span class="at">use =</span> <span class="st">"complete.obs"</span>),</span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cor</span>(merged_metrics<span class="sc">$</span>Intermediación_Co, merged_metrics<span class="sc">$</span>Intermediación_Bi, <span class="at">use =</span> <span class="st">"complete.obs"</span>),</span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cor</span>(merged_metrics<span class="sc">$</span>PageRank_Co, merged_metrics<span class="sc">$</span>PageRank_Bi, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a>    Correlación <span class="ot">=</span> <span class="fu">round</span>(Correlación, <span class="dv">3</span>),</span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a>    Interpretación <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">abs</span>(Correlación) <span class="sc">&gt;</span> <span class="fl">0.8</span> <span class="sc">~</span> <span class="st">"Muy alta"</span>,</span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a>      <span class="fu">abs</span>(Correlación) <span class="sc">&gt;</span> <span class="fl">0.6</span> <span class="sc">~</span> <span class="st">"Alta"</span>,</span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">abs</span>(Correlación) <span class="sc">&gt;</span> <span class="fl">0.4</span> <span class="sc">~</span> <span class="st">"Moderada"</span>,</span>
<span id="cb39-28"><a href="#cb39-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">abs</span>(Correlación) <span class="sc">&gt;</span> <span class="fl">0.2</span> <span class="sc">~</span> <span class="st">"Baja"</span>,</span>
<span id="cb39-29"><a href="#cb39-29" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Muy baja"</span></span>
<span id="cb39-30"><a href="#cb39-30" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb39-31"><a href="#cb39-31" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb39-32"><a href="#cb39-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-33"><a href="#cb39-33" aria-hidden="true" tabindex="-1"></a>correlations <span class="sc">%&gt;%</span></span>
<span id="cb39-34"><a href="#cb39-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb39-35"><a href="#cb39-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"r"</span>, <span class="st">"l"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb39-36"><a href="#cb39-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb39-37"><a href="#cb39-37" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Correlación de métricas entre redes</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Métrica</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Correlación</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Interpretación</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Fuerza</td>
<td style="text-align: right;">0.986</td>
<td style="text-align: left;">Muy alta</td>
</tr>
<tr class="even">
<td style="text-align: left;">Eigenvector</td>
<td style="text-align: right;">0.991</td>
<td style="text-align: left;">Muy alta</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Intermediación</td>
<td style="text-align: right;">-0.324</td>
<td style="text-align: left;">Baja</td>
</tr>
<tr class="even">
<td style="text-align: left;">PageRank</td>
<td style="text-align: right;">0.988</td>
<td style="text-align: left;">Muy alta</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="aplicaciones-clínicas" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> APLICACIONES CLÍNICAS</h1>
<section id="identificación-de-pacientes-de-alto-riesgo" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="identificación-de-pacientes-de-alto-riesgo"><span class="header-section-number">8.1</span> Identificación de Pacientes de Alto Riesgo</h2>
<div class="cell" data-tbl-cap="Perfiles de pacientes de alto riesgo">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identificar sustancias de alto riesgo</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>high_risk_substances <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pasta Base"</span>, <span class="st">"Cocaína"</span>, <span class="st">"Heroína"</span>, <span class="st">"Metanfetaminas"</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Analizar pacientes</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>high_risk_patients <span class="ot">&lt;-</span> data_network <span class="sc">%&gt;%</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_sustancias =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(cols_sustancias)))),</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">has_high_risk =</span> <span class="fu">apply</span>(<span class="fu">select</span>(., <span class="fu">all_of</span>(cols_sustancias)), <span class="dv">1</span>, <span class="cf">function</span>(x) {</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">any</span>(x <span class="sc">%in%</span> high_risk_substances, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n_sustancias <span class="sc">&gt;=</span> <span class="dv">3</span> <span class="sc">|</span> has_high_risk) <span class="sc">%&gt;%</span></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">risk_category =</span> <span class="fu">case_when</span>(</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>      n_sustancias <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">&amp;</span> has_high_risk <span class="sc">~</span> <span class="st">"Muy Alto"</span>,</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>      n_sustancias <span class="sc">&gt;=</span> <span class="dv">3</span> <span class="sc">&amp;</span> has_high_risk <span class="sc">~</span> <span class="st">"Alto"</span>,</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>      n_sustancias <span class="sc">&gt;=</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"Moderado-Alto"</span>,</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>      has_high_risk <span class="sc">~</span> <span class="st">"Moderado"</span>,</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Bajo"</span></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Resumen</span></span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>risk_summary <span class="ot">&lt;-</span> high_risk_patients <span class="sc">%&gt;%</span></span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(risk_category) <span class="sc">%&gt;%</span></span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">Pacientes =</span> <span class="fu">n</span>(),</span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">Porcentaje =</span> <span class="fu">round</span>(<span class="dv">100</span> <span class="sc">*</span> <span class="fu">n</span>() <span class="sc">/</span> <span class="fu">nrow</span>(data_network), <span class="dv">1</span>),</span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sustancias_Promedio =</span> <span class="fu">round</span>(<span class="fu">mean</span>(n_sustancias), <span class="dv">1</span>),</span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sustancias_Min =</span> <span class="fu">min</span>(n_sustancias),</span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sustancias_Max =</span> <span class="fu">max</span>(n_sustancias)</span>
<span id="cb40-32"><a href="#cb40-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb40-33"><a href="#cb40-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">match</span>(risk_category, <span class="fu">c</span>(<span class="st">"Muy Alto"</span>, <span class="st">"Alto"</span>, <span class="st">"Moderado-Alto"</span>, <span class="st">"Moderado"</span>)))</span>
<span id="cb40-34"><a href="#cb40-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-35"><a href="#cb40-35" aria-hidden="true" tabindex="-1"></a>risk_summary <span class="sc">%&gt;%</span></span>
<span id="cb40-36"><a href="#cb40-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb40-37"><a href="#cb40-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Categoría de Riesgo"</span>, <span class="st">"Pacientes"</span>, <span class="st">"Porcentaje (%)"</span>, </span>
<span id="cb40-38"><a href="#cb40-38" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Sustancias Promedio"</span>, <span class="st">"Mínimo"</span>, <span class="st">"Máximo"</span>),</span>
<span id="cb40-39"><a href="#cb40-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="fu">rep</span>(<span class="st">"r"</span>, <span class="dv">5</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb40-40"><a href="#cb40-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb40-41"><a href="#cb40-41" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-42"><a href="#cb40-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="fu">which</span>(risk_summary<span class="sc">$</span>risk_category <span class="sc">==</span> <span class="st">"Muy Alto"</span>), </span>
<span id="cb40-43"><a href="#cb40-43" aria-hidden="true" tabindex="-1"></a>           <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">background =</span> <span class="st">"#ffcccc"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Perfiles de pacientes de alto riesgo</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Categoría de Riesgo</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Pacientes</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Porcentaje (%)</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Sustancias Promedio</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Mínimo</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Máximo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold; background-color: rgba(255, 204, 204, 255) !important;">Muy Alto</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(255, 204, 204, 255) !important;">26436</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(255, 204, 204, 255) !important;">11.9</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(255, 204, 204, 255) !important;">4.0</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(255, 204, 204, 255) !important;">4</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(255, 204, 204, 255) !important;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">Alto</td>
<td style="text-align: right;">53572</td>
<td style="text-align: right;">24.0</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Moderado-Alto</td>
<td style="text-align: right;">2315</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">3.2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">Moderado</td>
<td style="text-align: right;">77601</td>
<td style="text-align: right;">34.8</td>
<td style="text-align: right;">1.7</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="sustancias-gateway" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="sustancias-gateway"><span class="header-section-number">8.2</span> Sustancias Gateway</h2>
<div class="cell" data-tbl-cap="Análisis de sustancias gateway basado en centralidad">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identificar posibles sustancias gateway</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>gateway_analysis <span class="ot">&lt;-</span> centrality_metrics_co <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Sustancia, Grado, Intermediación_Norm, Eigenvector, PageRank) <span class="sc">%&gt;%</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Gateway_Score =</span> (Grado<span class="sc">/</span><span class="fu">max</span>(Grado) <span class="sc">+</span> </span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>                    Intermediación_Norm <span class="sc">+</span> </span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>                    Eigenvector <span class="sc">+</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>                    PageRank<span class="sc">/</span><span class="fu">max</span>(PageRank)) <span class="sc">/</span> <span class="dv">4</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Gateway_Score)) <span class="sc">%&gt;%</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">Gateway_Score =</span> <span class="fu">round</span>(Gateway_Score, <span class="dv">3</span>),</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>    Interpretación <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>      Gateway_Score <span class="sc">&gt;</span> <span class="fl">0.7</span> <span class="sc">~</span> <span class="st">"Muy Alta probabilidad gateway"</span>,</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>      Gateway_Score <span class="sc">&gt;</span> <span class="fl">0.5</span> <span class="sc">~</span> <span class="st">"Alta probabilidad gateway"</span>,</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>      Gateway_Score <span class="sc">&gt;</span> <span class="fl">0.3</span> <span class="sc">~</span> <span class="st">"Moderada probabilidad gateway"</span>,</span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Baja probabilidad gateway"</span></span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>gateway_analysis <span class="sc">%&gt;%</span></span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Sustancia"</span>, <span class="st">"Grado"</span>, <span class="st">"Intermediación"</span>, <span class="st">"Eigenvector"</span>,</span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"PageRank"</span>, <span class="st">"Score Gateway"</span>, <span class="st">"Interpretación"</span>),</span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="fu">rep</span>(<span class="st">"r"</span>, <span class="dv">5</span>), <span class="st">"l"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb41-27"><a href="#cb41-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb41-28"><a href="#cb41-28" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-29"><a href="#cb41-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">background =</span> <span class="st">"#f0f0f0"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Análisis de sustancias gateway basado en centralidad</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Sustancia</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Grado</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Intermediación</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Eigenvector</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">PageRank</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Score Gateway</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Interpretación</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Alcohol</td>
<td style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Alcohol</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">9</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">0.182</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">1.000</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">0.2659</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">0.770</td>
<td style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Muy Alta probabilidad gateway</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Marihuana</td>
<td style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Marihuana</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">10</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">0.218</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">0.879</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">0.2227</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">0.734</td>
<td style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Muy Alta probabilidad gateway</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Cocaína</td>
<td style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Cocaína</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">9</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">0.273</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">0.790</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">0.1867</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">0.666</td>
<td style="text-align: left; font-weight: bold; background-color: rgba(240, 240, 240, 255) !important;">Alta probabilidad gateway</td>
</tr>
<tr class="even">
<td style="text-align: left;">Pasta Base</td>
<td style="text-align: left;">Pasta Base</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">0.109</td>
<td style="text-align: right;">0.831</td>
<td style="text-align: right;">0.1887</td>
<td style="text-align: right;">0.587</td>
<td style="text-align: left;">Alta probabilidad gateway</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Anfetaminas</td>
<td style="text-align: left;">Anfetaminas</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0.164</td>
<td style="text-align: right;">0.018</td>
<td style="text-align: right;">0.0160</td>
<td style="text-align: right;">0.161</td>
<td style="text-align: left;">Baja probabilidad gateway</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sedantes</td>
<td style="text-align: left;">Sedantes</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.088</td>
<td style="text-align: right;">0.0297</td>
<td style="text-align: right;">0.150</td>
<td style="text-align: left;">Baja probabilidad gateway</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Opioides</td>
<td style="text-align: left;">Opioides</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.182</td>
<td style="text-align: right;">0.010</td>
<td style="text-align: right;">0.0145</td>
<td style="text-align: right;">0.137</td>
<td style="text-align: left;">Baja probabilidad gateway</td>
</tr>
<tr class="even">
<td style="text-align: left;">Otros</td>
<td style="text-align: left;">Otros</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.037</td>
<td style="text-align: right;">0.0198</td>
<td style="text-align: right;">0.128</td>
<td style="text-align: left;">Baja probabilidad gateway</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Inhalables</td>
<td style="text-align: left;">Inhalables</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.019</td>
<td style="text-align: right;">0.0162</td>
<td style="text-align: right;">0.120</td>
<td style="text-align: left;">Baja probabilidad gateway</td>
</tr>
<tr class="even">
<td style="text-align: left;">Éxtasis/MDMA</td>
<td style="text-align: left;">Éxtasis/MDMA</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.036</td>
<td style="text-align: right;">0.005</td>
<td style="text-align: right;">0.0136</td>
<td style="text-align: right;">0.073</td>
<td style="text-align: left;">Baja probabilidad gateway</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="recomendaciones-basadas-en-el-análisis" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="recomendaciones-basadas-en-el-análisis"><span class="header-section-number">8.3</span> Recomendaciones Basadas en el Análisis</h2>
<div class="cell" data-tbl-cap="Recomendaciones clínicas basadas en análisis de redes">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Preparar datos para recomendaciones</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>top_hub <span class="ot">&lt;-</span> centrality_metrics_co<span class="sc">$</span>Sustancia[<span class="dv">1</span>]</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>top_gateway <span class="ot">&lt;-</span> gateway_analysis<span class="sc">$</span>Sustancia[<span class="dv">1</span>]</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>n_communities_total <span class="ot">&lt;-</span> <span class="fu">max</span>(<span class="fu">length</span>(communities_co), <span class="fu">length</span>(communities_bi))</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>high_risk_percent <span class="ot">&lt;-</span> risk_summary <span class="sc">%&gt;%</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(risk_category <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Muy Alto"</span>, <span class="st">"Alto"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(Porcentaje)) <span class="sc">%&gt;%</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(total)</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>recommendations <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>  Á<span class="at">rea =</span> <span class="fu">c</span>(</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Prevención Primaria"</span>,</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Intervención Temprana"</span>,</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Tratamiento Especializado"</span>,</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Reducción de Daños"</span>,</span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Monitoreo y Seguimiento"</span>,</span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Investigación"</span></span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">Hallazgo_Clave =</span> <span class="fu">c</span>(</span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(top_gateway, <span class="st">"identificada como principal sustancia gateway"</span>),</span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="fu">round</span>(<span class="dv">100</span> <span class="sc">-</span> combo_stats<span class="sc">$</span>Porcentaje[<span class="dv">1</span>], <span class="dv">1</span>), <span class="st">"% presenta policonsumo"</span>),</span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(n_communities_total, <span class="st">"patrones distintos de consumo identificados"</span>),</span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(top_hub, <span class="st">"es la sustancia más central en la red"</span>),</span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(high_risk_percent, <span class="st">"% en categorías de alto riesgo"</span>),</span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Correlaciones moderadas-altas entre métricas de redes"</span></span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a>  Recomendación <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb42-28"><a href="#cb42-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Focalizar campañas preventivas en sustancias gateway identificadas"</span>,</span>
<span id="cb42-29"><a href="#cb42-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Implementar screening sistemático para detectar policonsumo temprano"</span>,</span>
<span id="cb42-30"><a href="#cb42-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Desarrollar protocolos específicos por patrón de consumo"</span>,</span>
<span id="cb42-31"><a href="#cb42-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Priorizar intervenciones en sustancias hub de la red"</span>,</span>
<span id="cb42-32"><a href="#cb42-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Establecer seguimiento intensivo para pacientes de alto riesgo"</span>,</span>
<span id="cb42-33"><a href="#cb42-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Profundizar en el estudio de las redes de consumo para mejorar intervenciones"</span></span>
<span id="cb42-34"><a href="#cb42-34" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb42-35"><a href="#cb42-35" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-36"><a href="#cb42-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-37"><a href="#cb42-37" aria-hidden="true" tabindex="-1"></a>recommendations <span class="sc">%&gt;%</span></span>
<span id="cb42-38"><a href="#cb42-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb42-39"><a href="#cb42-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"l"</span>, <span class="st">"l"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb42-40"><a href="#cb42-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb42-41"><a href="#cb42-41" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-42"><a href="#cb42-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">width =</span> <span class="st">"20%"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-43"><a href="#cb42-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">2</span>, <span class="at">width =</span> <span class="st">"35%"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-44"><a href="#cb42-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">3</span>, <span class="at">width =</span> <span class="st">"45%"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Recomendaciones clínicas basadas en análisis de redes</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Área</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Hallazgo_Clave</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Recomendación</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 20%; font-weight: bold;">Prevención Primaria</td>
<td style="text-align: left; width: 35%;">Alcohol identificada como principal sustancia gateway</td>
<td style="text-align: left; width: 45%;">Focalizar campañas preventivas en sustancias gateway identificadas</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 20%; font-weight: bold;">Intervención Temprana</td>
<td style="text-align: left; width: 35%;">71 % presenta policonsumo</td>
<td style="text-align: left; width: 45%;">Implementar screening sistemático para detectar policonsumo temprano</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 20%; font-weight: bold;">Tratamiento Especializado</td>
<td style="text-align: left; width: 35%;">7 patrones distintos de consumo identificados</td>
<td style="text-align: left; width: 45%;">Desarrollar protocolos específicos por patrón de consumo</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 20%; font-weight: bold;">Reducción de Daños</td>
<td style="text-align: left; width: 35%;">Alcohol es la sustancia más central en la red</td>
<td style="text-align: left; width: 45%;">Priorizar intervenciones en sustancias hub de la red</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 20%; font-weight: bold;">Monitoreo y Seguimiento</td>
<td style="text-align: left; width: 35%;">35.9 % en categorías de alto riesgo</td>
<td style="text-align: left; width: 45%;">Establecer seguimiento intensivo para pacientes de alto riesgo</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 20%; font-weight: bold;">Investigación</td>
<td style="text-align: left; width: 35%;">Correlaciones moderadas-altas entre métricas de redes</td>
<td style="text-align: left; width: 45%;">Profundizar en el estudio de las redes de consumo para mejorar intervenciones</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="conclusiones" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> CONCLUSIONES</h1>
<div class="cell" data-tbl-cap="Resumen de hallazgos principales">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>conclusions <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Aspecto =</span> <span class="fu">c</span>(</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Prevalencia de policonsumo"</span>,</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Sustancia más conectada (co-ocurrencia)"</span>,</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Sustancia más frecuente (bipartita)"</span>,</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Estructura de red predominante"</span>,</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Comunidades detectadas (promedio)"</span>,</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Pacientes de alto riesgo"</span>,</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Principal patrón de consumo"</span>,</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Sustancia gateway principal"</span>,</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Clustering promedio"</span>,</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Modularidad promedio"</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">Hallazgo =</span> <span class="fu">c</span>(</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste0</span>(<span class="fu">round</span>(<span class="dv">100</span> <span class="sc">-</span> combo_stats<span class="sc">$</span>Porcentaje[<span class="dv">1</span>], <span class="dv">1</span>), <span class="st">"%"</span>),</span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>    centrality_metrics_co<span class="sc">$</span>Sustancia[<span class="dv">1</span>],</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>    centrality_metrics_bi<span class="sc">$</span>Sustancia[<span class="dv">1</span>],</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ifelse</span>(<span class="fu">mean</span>(<span class="fu">c</span>(centralization_co<span class="sc">$</span>Valor[<span class="dv">1</span>], centralization_bi<span class="sc">$</span>Valor[<span class="dv">1</span>])) <span class="sc">&gt;</span> <span class="fl">0.5</span>,</span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Centralizada"</span>, <span class="st">"Distribuida"</span>),</span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="fu">round</span>(<span class="fu">mean</span>(<span class="fu">c</span>(<span class="fu">length</span>(communities_co), <span class="fu">length</span>(communities_proj))), <span class="dv">0</span>), <span class="st">"comunidades"</span>),</span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste0</span>(high_risk_percent, <span class="st">"%"</span>),</span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a>    triads<span class="sc">$</span>triad[<span class="dv">1</span>],</span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a>    gateway_analysis<span class="sc">$</span>Sustancia[<span class="dv">1</span>],</span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">mean</span>(<span class="fu">c</span>(<span class="fu">transitivity</span>(g_co, <span class="at">type =</span> <span class="st">"average"</span>), </span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a>                <span class="fu">transitivity</span>(g_substances, <span class="at">type =</span> <span class="st">"average"</span>))), <span class="dv">3</span>),</span>
<span id="cb43-26"><a href="#cb43-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">mean</span>(<span class="fu">c</span>(<span class="fu">modularity</span>(communities_co), <span class="fu">modularity</span>(communities_proj))), <span class="dv">3</span>)</span>
<span id="cb43-27"><a href="#cb43-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb43-28"><a href="#cb43-28" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb43-29"><a href="#cb43-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-30"><a href="#cb43-30" aria-hidden="true" tabindex="-1"></a>conclusions <span class="sc">%&gt;%</span></span>
<span id="cb43-31"><a href="#cb43-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb43-32"><a href="#cb43-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Aspecto Analizado"</span>, <span class="st">"Hallazgo Principal"</span>),</span>
<span id="cb43-33"><a href="#cb43-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"l"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb43-34"><a href="#cb43-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>),</span>
<span id="cb43-35"><a href="#cb43-35" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-36"><a href="#cb43-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">width =</span> <span class="st">"40%"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-37"><a href="#cb43-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">2</span>, <span class="at">width =</span> <span class="st">"60%"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Resumen de hallazgos principales</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Aspecto Analizado</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Hallazgo Principal</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 40%; font-weight: bold;">Prevalencia de policonsumo</td>
<td style="text-align: left; width: 60%;">71%</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 40%; font-weight: bold;">Sustancia más conectada (co-ocurrencia)</td>
<td style="text-align: left; width: 60%;">Alcohol</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 40%; font-weight: bold;">Sustancia más frecuente (bipartita)</td>
<td style="text-align: left; width: 60%;">Alcohol</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 40%; font-weight: bold;">Estructura de red predominante</td>
<td style="text-align: left; width: 60%;">Distribuida</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 40%; font-weight: bold;">Comunidades detectadas (promedio)</td>
<td style="text-align: left; width: 60%;">2 comunidades</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 40%; font-weight: bold;">Pacientes de alto riesgo</td>
<td style="text-align: left; width: 60%;">35.9%</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 40%; font-weight: bold;">Principal patrón de consumo</td>
<td style="text-align: left; width: 60%;">Alcohol + Marihuana + Pasta Base</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 40%; font-weight: bold;">Sustancia gateway principal</td>
<td style="text-align: left; width: 60%;">Alcohol</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 40%; font-weight: bold;">Clustering promedio</td>
<td style="text-align: left; width: 60%;">0.858</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 40%; font-weight: bold;">Modularidad promedio</td>
<td style="text-align: left; width: 60%;">0.002</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copiado");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copiado");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




<script src="Prueba3_files/libs/quarto-html/zenscroll-min.js"></script>
</body></html>